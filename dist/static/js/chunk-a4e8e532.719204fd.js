(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4e8e532"],{2017:function(t,e,o){"use strict";var r=o("b12d"),n=o.n(r);n.a},"36bd":function(t,e,o){"use strict";var r=o("4bf8"),n=o("77f1"),i=o("9def");t.exports=function(t){var e=r(this),o=i(e.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,o),d=a>2?arguments[2]:void 0,l=void 0===d?o:n(d,o);while(l>s)e[s++]=t;return e}},"5b62":function(t,e,o){t.exports=o.p+"static/img/logo.43c929af.png"},"5be4":function(t,e,o){"use strict";var r=o("a26f"),n=o.n(r);n.a},"6c7b":function(t,e,o){var r=o("5ca1");r(r.P,"Array",{fill:o("36bd")}),o("9c6c")("fill")},"9ed6":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[r("img",{attrs:{src:o("5b62"),alt:"logo"}})])]),t._v(" "),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),r("el-input",{ref:"username",attrs:{placeholder:"请输入用户名或手机号",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),r("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),t._v(" "),r("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1),t._v(" "),r("el-form-item",{staticClass:"verify",attrs:{prop:"verifyCode"}},[r("el-input",{ref:"verifyCode",attrs:{placeholder:"验证码",name:"verifyCode",type:"text",tabindex:"3","auto-complete":"on"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.verifyCode,callback:function(e){t.$set(t.loginForm,"verifyCode",e)},expression:"loginForm.verifyCode"}}),t._v(" "),r("div",{staticClass:"verify-box",on:{click:t.refreshCode}},[r("Identify",{attrs:{identifyCode:t.identifyCode}}),t._v(" "),r("span",[t._v("看不清，换一张")])],1)],1),t._v(" "),r("el-form-item",{staticClass:"remember-password no-border",attrs:{prop:"remember"}},[r("el-checkbox",{staticClass:"remember-checkbox",model:{value:t.loginForm.remember,callback:function(e){t.$set(t.loginForm,"remember",e)},expression:"loginForm.remember"}},[t._v("记住密码")]),t._v(" "),r("el-link",{staticClass:"forget",attrs:{underline:!1,type:"primary"},on:{click:t.goForget}},[t._v("忘记密码？")])],1),t._v(" "),r("el-button",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登录")]),t._v(" "),r("el-form-item",{staticClass:"register no-border"},[r("span",{staticClass:"tit"},[t._v("还不是会员？")]),t._v(" "),r("el-link",{staticClass:"forget",attrs:{underline:!1,type:"primary"},on:{click:t.goRegister}},[t._v("立即注册")])],1)],1)],1)},n=[],i=o("61f7"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"s-canvas"},[o("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},s=[],d=(o("6c7b"),o("c5f6"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:200},backgroundColorMax:{type:Number,default:220},dotColorMin:{type:Number,default:60},dotColorMax:{type:Number,default:120},contentWidth:{type:Number,default:116},contentHeight:{type:Number,default:38}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var o=this.randomNum(t,e),r=this.randomNum(t,e),n=this.randomNum(t,e);return"rgb("+o+","+r+","+n+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var o=0;o<this.identifyCode.length;o++)this.drawText(e,this.identifyCode[o],o);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,o){t.fillStyle=this.randomColor(50,160),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var r=(o+1)*(this.contentWidth/(this.identifyCode.length+1)),n=this.randomNum(this.fontSizeMax,this.contentHeight-5),i=this.randomNum(-30,30);t.translate(r,n),t.rotate(i*Math.PI/180),t.fillText(e,0,0),t.rotate(-i*Math.PI/180),t.translate(-r,-n)},drawLine:function(t){for(var e=0;e<4;e++)t.strokeStyle=this.randomColor(100,200),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<30;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),l=d,c=o("2877"),u=Object(c["a"])(l,a,s,!1,null,null,null),f=u.exports,m={name:"Login",components:{Identify:f},data:function(){var t=function(t,e,o){Object(i["c"])(e)?o():o(new Error("请输入正确的用户名"))},e=function(t,e,o){Object(i["b"])(e)?o():o(new Error("请输入正确的密码"))};return{loginForm:{username:"",password:"",verifyCode:"",remember:!1},loginRules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:e}],verifyCode:[{required:!0,trigger:"blur",message:"请输入验证码"}]},loading:!1,passwordType:"password",redirect:void 0,identifyCodes:"1234567890",identifyCode:""}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},methods:{showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(e){return t.loginForm.verifyCode!==t.identifyCode?(t.$message.error("验证码错误"),t.loading=!1,t.refreshCode(),void(e=!1)):(e=!0,e?(t.loading=!0,void t.$store.dispatch("user/login",t.loginForm).then((function(){t.$router.push({path:t.redirect||"/"}),t.loading=!1})).catch((function(){t.loading=!1}))):(console.log("error submit!!"),!1))}))},randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(t,e){for(var o=0;o<e;o++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]},goForget:function(){this.$router.push("/forget")},goRegister:function(){this.$router.push("/register")}},mounted:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)}},h=m,p=(o("2017"),o("5be4"),Object(c["a"])(h,r,n,!1,null,"72d78734",null));e["default"]=p.exports},a26f:function(t,e,o){},aa77:function(t,e,o){var r=o("5ca1"),n=o("be13"),i=o("79e5"),a=o("fdef"),s="["+a+"]",d="​",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,o){var n={},s=i((function(){return!!a[t]()||d[t]()!=d})),l=n[t]=s?e(f):a[t];o&&(n[o]=l),r(r.P+r.F*s,"String",n)},f=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},b12d:function(t,e,o){},c5f6:function(t,e,o){"use strict";var r=o("7726"),n=o("69a8"),i=o("2d95"),a=o("5dbc"),s=o("6a99"),d=o("79e5"),l=o("9093").f,c=o("11e9").f,u=o("86cc").f,f=o("aa77").trim,m="Number",h=r[m],p=h,g=h.prototype,v=i(o("2aeb")(g))==m,y="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var o,r,n,i=e.charCodeAt(0);if(43===i||45===i){if(o=e.charCodeAt(2),88===o||120===o)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var a,d=e.slice(2),l=0,c=d.length;l<c;l++)if(a=d.charCodeAt(l),a<48||a>n)return NaN;return parseInt(d,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof h&&(v?d((function(){g.valueOf.call(o)})):i(o)!=m)?a(new p(b(e)),o,h):b(e)};for(var C,w=o("9e1e")?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;w.length>N;N++)n(p,C=w[N])&&!n(h,C)&&u(h,C,c(p,C));h.prototype=g,g.constructor=h,o("2aba")(r,m,h)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);