(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33f10dcc"],{"67de":function(a,t,e){"use strict";e.r(t);var l=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"plan-container"},[e("el-card",{staticClass:"mb"},[e("el-row",{staticClass:"mb"},[e("span",{staticClass:"mr_20"},[a._v("选择广告计划")]),a._v(" "),e("el-cascader",{staticClass:"choiceCascader",attrs:{placeholder:"输入广告计划或ID搜索",options:a.planOptions,props:a.planProps,clearable:"",filterable:""},on:{change:a.planChange}})],1),a._v(" "),e("el-row",{staticClass:"budget-box"},[e("span",[a._v("渠道选择")]),a._v(" "),e("el-tabs",{staticClass:"budget-tabs media-tabs",attrs:{type:"card"},model:{value:a.mediaActiveName,callback:function(t){a.mediaActiveName=t},expression:"mediaActiveName"}},[e("el-tab-pane",{attrs:{label:"不限",name:"mediaOne"}}),a._v(" "),e("el-tab-pane",{attrs:{label:"指定渠道",name:"mediaTwo"}},[e("span",{staticClass:"mr_20"},[a._v("渠道列表")]),a._v(" "),e("el-radio-group",{staticClass:"new-style",model:{value:a.medioListRadio,callback:function(t){a.medioListRadio=t},expression:"medioListRadio"}},a._l(a.medioListData,(function(a){return e("el-radio-button",{key:a.id,attrs:{label:a.name}})})),1)],1)],1)],1)],1),a._v(" "),e("el-card",[e("el-row",[e("span",{staticClass:"mr_20"},[a._v("日期")]),a._v(" "),e("el-radio-group",{staticClass:"new-style",on:{change:a.dateChoiceChange},model:{value:a.dateChoice.label,callback:function(t){a.$set(a.dateChoice,"label",t)},expression:"dateChoice.label"}},[e("el-radio-button",{attrs:{label:"今天"}}),a._v(" "),e("el-radio-button",{attrs:{label:"昨天"}}),a._v(" "),e("el-radio-button",{attrs:{label:"最近七天"}}),a._v(" "),e("el-radio-button",{attrs:{label:"最近30天"}}),a._v(" "),e("el-radio-button",{staticClass:"custom-radio",attrs:{label:"自定义"}})],1),a._v(" "),e("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:a.timeDisabled},on:{change:a.dateTimeChange},model:{value:a.dateTime,callback:function(t){a.dateTime=t},expression:"dateTime"}})],1)],1),a._v(" "),e("el-card",{staticClass:"mb"},[e("el-row",{staticClass:"mb"},[e("span",[a._v("数据趋势")])]),a._v(" "),e("el-row",{staticClass:"mb"},[e("div",{staticClass:"normal-select"},[e("PublicSelect",{attrs:{propsOptions:a.consumeOptions,publicSelectData:a.contrastSelectData},on:{valChange:a.consumeChangeVal}}),a._v(" "),e("PublicSelect",{attrs:{propsOptions:a.costOptions,publicSelectData:a.contrastSelectData},on:{valChange:a.costChangeVal}})],1)]),a._v(" "),e("el-row",[e("div",{staticClass:"chart-container"},[e("LineChart",{attrs:{width:"100%",height:"500px",lineDataOne:a.lineDataOne,lineDataTwo:a.lineDataTwo}})],1)])],1),a._v(" "),e("el-row",{staticClass:"mb",attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("el-card",[e("el-row",{staticClass:"mb"},[e("PublicSelect",{attrs:{propsOptions:a.putMediaOptions,title:"广告投放媒体",publicSelectData:a.publicSelectData},on:{valChange:a.mediaChangeVal}})],1),a._v(" "),e("el-row",[e("div",{staticClass:"chart-container"},[e("CircleChart",{attrs:{width:"100%",height:"400px",option:a.circleData}})],1)]),a._v(" "),e("el-row",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.circleData,"header-cell-style":{background:"#f1f0f0",fontWeight:"bold",color:"#303133"},"max-height":"250"}},[e("el-table-column",{attrs:{prop:"name",label:"媒体",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{label:"占比",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n                                "+a._s(parseFloat(t.row.value/a.circleTotal*100).toFixed(2))+"%\n                            ")]}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"value",label:"消耗",align:"center"}})],1)],1)],1)],1),a._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",[e("el-row",{staticClass:"mb"},[e("PublicSelect",{attrs:{propsOptions:a.regionSpreadOptions,title:"广告地域分布",publicSelectData:a.publicSelectData},on:{valChange:a.regionChangeVal}})],1),a._v(" "),e("el-row",[e("div",{staticClass:"chart-container"},[e("RegionChart",{attrs:{width:"100%",height:"400px",option:a.regionData}}),a._v(" "),e("div",{staticClass:"chart-num"},[e("div",[a._v("0")]),a._v(" "),e("div",[a._v("1-9")]),a._v(" "),e("div",[a._v("10-99")]),a._v(" "),e("div",[a._v("100-499")]),a._v(" "),e("div",[a._v("500-999")])])],1)]),a._v(" "),e("el-row",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.regionData,"header-cell-style":{background:"#f1f0f0",fontWeight:"bold",color:"#303133"},"max-height":"250"}},[e("el-table-column",{attrs:{prop:"name",label:"地点",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"value",label:"曝光量",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"money",label:"消耗",align:"center"}})],1)],1)],1)],1),a._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",[e("el-row",{staticClass:"mb"},[e("PublicSelect",{attrs:{propsOptions:a.timePutOptions,title:"时间段投放分布",publicSelectData:a.publicSelectData},on:{valChange:a.timeChangeVal}})],1),a._v(" "),e("el-row",[e("div",{staticClass:"chart-container"},[e("TimeChart",{attrs:{width:"100%",height:"500px",option:a.timeChartData}})],1)])],1)],1)],1)],1)},i=[],n=(e("c5f6"),e("ac6a"),e("a797")),s=e("0926"),c=e("37a4"),o=e("cb1d"),r=e("61aa"),u=e("84d6"),d={components:{PublicSelect:n["a"],LineChart:s["a"],CircleChart:c["a"],RegionChart:o["a"],TimeChart:r["a"]},created:function(){this.getLineEchartsData(),this.getCircleEchartsData(),this.getRegionEchartsData(),this.getTimeEchartsData()},data:function(){return{publicSelectData:[{value:"0",label:"今天"},{value:"1",label:"昨天"},{value:"2",label:"7天"},{value:"3",label:"过去7天"},{value:"4",label:"过去30天"},{value:"5",label:"本周"},{value:"6",label:"上周"},{value:"7",label:"本月"},{value:"8",label:"上月"}],contrastSelectData:[{value:"0",label:"消耗"},{value:"1",label:"发送量"},{value:"2",label:"点击量"},{value:"3",label:"点击率"},{value:"4",label:"转化量"},{value:"5",label:"转化率"}],planProps:{multiple:!0},planOptions:[{value:1,label:"奔驰",children:[{value:2,label:"上海"},{value:3,label:"江苏"},{value:4,label:"浙江"}]},{value:5,label:"奥迪",children:[{value:6,label:"陕西"},{value:7,label:"新疆维吾尔族自治区"}]}],mediaActiveName:"mediaOne",medioListRadio:"",medioListData:[{id:1,name:"etcp停车"},{id:2,name:"国票"},{id:3,name:"快报报"},{id:4,name:"停简单"},{id:5,name:"ETC"}],dateChoice:{label:"今天"},dateTime:"",timeDisabled:!0,consumeOptions:{value:"0"},costOptions:{value:"0"},putMediaOptions:{value:"0"},regionSpreadOptions:{value:"0"},timePutOptions:{value:"0"},lineDataOne:[],lineDataTwo:[],circleData:[],circleTotal:0,regionData:[],timeChartData:[]}},methods:{getLineEchartsData:function(){var a=this;Object(u["b"])(this.dateChoice).then((function(t){a.lineDataOne=t.data.items[0].dataOne,a.lineDataTwo=t.data.items[0].dataTwo}))},getCircleEchartsData:function(){var a=this;Object(u["a"])(this.putMediaOptions).then((function(t){a.circleData=t.data.items[0].data,a.circleTotal=0,t.data.items[0].data.forEach((function(t){t.value=Number(t.value),a.circleTotal+=t.value}))}))},getRegionEchartsData:function(){var a=this;Object(u["c"])(this.regionSpreadOptions).then((function(t){a.regionData=t.data.items[0].data}))},getTimeEchartsData:function(){var a=this;Object(u["d"])(this.timePutOptions).then((function(t){a.timeChartData=t.data.items[0].data.map((function(a){return[a[1],a[0],a[2]||"-"]}))}))},planChange:function(a){console.log(a)},dateChoiceChange:function(a){console.log(a),this.timeDisabled=!0,this.dateChoice.label=a,"自定义"==this.dateChoice.label&&(this.timeDisabled=!1),this.getLineEchartsData()},dateTimeChange:function(a){},mediaChangeVal:function(a){this.putMediaOptions.value=a,this.getCircleEchartsData()},regionChangeVal:function(a){this.regionSpreadOptions.value=a,this.getRegionEchartsData()},timeChangeVal:function(a){this.timePutOptions.value=a,this.getTimeEchartsData()},consumeChangeVal:function(a){this.getLineEchartsData()},costChangeVal:function(a){this.getLineEchartsData()}},watch:{mediaActiveName:function(){this.medioListRadio=""}}},h=d,b=(e("83b5"),e("2877")),p=Object(b["a"])(h,l,i,!1,null,"2e41a54b",null);t["default"]=p.exports},"83b5":function(a,t,e){"use strict";var l=e("96ef"),i=e.n(l);i.a},"84d6":function(a,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"a",(function(){return n})),e.d(t,"c",(function(){return s})),e.d(t,"d",(function(){return c}));var l=e("b775");function i(a){return Object(l["a"])({url:"/report/line-echarts",method:"get",params:a})}function n(a){return Object(l["a"])({url:"/report/circle-echarts",method:"get",params:a})}function s(a){return Object(l["a"])({url:"/report/region-echarts",method:"get",params:a})}function c(a){return Object(l["a"])({url:"/report/time-echarts",method:"get",params:a})}},"96ef":function(a,t,e){}}]);