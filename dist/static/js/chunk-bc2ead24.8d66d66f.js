(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc2ead24"],{"0a49":function(e,t,i){var a=i("9b43"),o=i("626a"),s=i("4bf8"),r=i("9def"),n=i("cd1c");e.exports=function(e,t){var i=1==e,l=2==e,c=3==e,d=4==e,u=6==e,m=5==e||u,p=t||n;return function(t,n,v){for(var g,f,_=s(t),b=o(_),h=a(n,v,3),y=r(b.length),x=0,w=i?p(t,y):l?p(t,0):void 0;y>x;x++)if((m||x in b)&&(g=b[x],f=h(g,x,_),e))if(i)w[x]=f;else if(f)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:w.push(g)}else if(d)return!1;return u?-1:c||d?d:w}}},"0c66":function(e,t,i){"use strict";i("a481"),i("6762"),i("2fdb");var a={bind:function(e,t,i){var a=e.querySelector(".drag-video"),o=e.querySelector(".preview-viedo"),s=e;a.style.cssText+=";cursor:move;",o.style.cssText+=";top:0px;";var r=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();a.onmousedown=function(e){var t=e.clientX-a.style.width,i=e.clientY-a.style.height,n=o.offsetWidth,l=o.offsetHeight,c=s.offsetWidth,d=s.offsetHeight,u=o.offsetLeft,m=c-o.offsetLeft-n,p=o.offsetTop,v=d-o.offsetTop-l,g=r(o,"left"),f=r(o,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),f=+document.body.clientHeight*(+f.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),f=+f.replace(/\px/g,"")),document.onmousemove=function(e){var a=e.clientX-t,s=e.clientY-i;-a>u?a=-u:a>m&&(a=m),-s>p?s=-p:s>v&&(s=v),o.style.cssText+=";left:".concat(a+g,"px;top:").concat(s+f,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},o=function(e){e.directive("el-drag-dialog-video",a)};window.Vue&&(window["el-drag-dialog-video"]=a,Vue.use(o)),a.install=o;t["a"]=a},"2fdb":function(e,t,i){"use strict";var a=i("5ca1"),o=i("d2c8"),s="includes";a(a.P+a.F*i("5147")(s),"String",{includes:function(e){return!!~o(this,e,s).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},4694:function(e,t,i){"use strict";var a=i("f2d3"),o=i.n(a);o.a},5147:function(e,t,i){var a=i("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[a]=!1,!"/./"[e](t)}catch(o){}}return!0}},6762:function(e,t,i){"use strict";var a=i("5ca1"),o=i("c366")(!0);a(a.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},7514:function(e,t,i){"use strict";var a=i("5ca1"),o=i("0a49")(5),s="find",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),a(a.P+a.F*r,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(s)},"7db3":function(e,t,i){"use strict";i("a481"),i("6762"),i("2fdb");var a={bind:function(e,t,i){var a=e.querySelector(".drag-text"),o=e.querySelector(".dec"),s=e;a.style.cssText+=";cursor:move;",o.style.cssText+=";top:0px;";var r=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();a.onmousedown=function(e){var t=e.clientX-a.style.width,i=e.clientY-a.style.height,n=o.offsetWidth,l=o.offsetHeight,c=s.offsetWidth,d=s.offsetHeight,u=o.offsetLeft,m=c-o.offsetLeft-n,p=o.offsetTop,v=d-o.offsetTop-l,g=r(o,"left"),f=r(o,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),f=+document.body.clientHeight*(+f.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),f=+f.replace(/\px/g,"")),document.onmousemove=function(e){var a=e.clientX-t,s=e.clientY-i;-a>u?a=-u:a>m&&(a=m),-s>p?s=-p:s>v&&(s=v),o.style.cssText+=";left:".concat(a+g,"px;top:").concat(s+f,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},o=function(e){e.directive("el-drag-dialog-text",a)};window.Vue&&(window["el-drag-dialog-text"]=a,Vue.use(o)),a.install=o;t["a"]=a},a888:function(e,t,i){"use strict";i("a481"),i("6762"),i("2fdb");var a={bind:function(e,t,i){var a=e.querySelector(".drag-img"),o=e.querySelector(".preview-img"),s=e;a.style.cssText+=";cursor:move;",o.style.cssText+=";top:0px;";var r=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();a.onmousedown=function(e){var t=e.clientX-a.style.width,i=e.clientY-a.style.height,n=o.offsetWidth,l=o.offsetHeight,c=s.offsetWidth,d=s.offsetHeight,u=o.offsetLeft,m=c-o.offsetLeft-n,p=o.offsetTop,v=d-o.offsetTop-l,g=r(o,"left"),f=r(o,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),f=+document.body.clientHeight*(+f.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),f=+f.replace(/\px/g,"")),document.onmousemove=function(e){var a=e.clientX-t,s=e.clientY-i;-a>u?a=-u:a>m&&(a=m),-s>p?s=-p:s>v&&(s=v),o.style.cssText+=";left:".concat(a+g,"px;top:").concat(s+f,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},o=function(e){e.directive("el-drag-dialog",a)};window.Vue&&(window["el-drag-dialog"]=a,Vue.use(o)),a.install=o;t["a"]=a},ac84:function(e,t,i){},ad8f:function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return r})),i.d(t,"g",(function(){return n})),i.d(t,"b",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"f",(function(){return d}));var a=i("b775");function o(e){return Object(a["a"])({method:"get",url:"/table/planlist",params:e})}function s(e){return Object(a["a"])({url:"/table/editdata",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/table/add",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/table/editplan",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/table/addplan",method:"post",data:e})}function c(e){return Object(a["a"])({method:"get",url:"/table/Journallist",params:e})}function d(e){return Object(a["a"])({url:"/table/editori",method:"post",data:e})}},b6ad:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add-ori"},[i("el-steps",{staticClass:"mb",attrs:{active:e.activeIndex,"finish-status":"success","align-center":"",simple:""}},[i("el-step",{attrs:{title:"新建广告组"}}),e._v(" "),i("el-step",{attrs:{title:"新建推广计划"}}),e._v(" "),i("el-step",{attrs:{title:"新建创意"}})],1),e._v(" "),i("el-card",{staticClass:"mb_10"},[i("el-row",{staticClass:"budget-box scene-box"},[i("div",{staticClass:"public-label"},[e._v("所属广告计划")]),e._v(" "),i("p",{staticClass:"plan-name"},[e._v(e._s(e.planName.value))])])],1),e._v(" "),i("el-card",{staticClass:"ori-main"},[i("el-row",{staticClass:"title"},[e._v("\n            制作创意\n            "),i("span",{staticClass:"tips"},[i("i",{staticClass:"red"},[e._v("*")]),e._v(" 所有创意大小不能超过1.9M\n            ")])]),e._v(" "),i("el-divider"),e._v(" "),i("el-form",{ref:"addOriFormRef",attrs:{model:e.addOriForm,rules:e.addOriFormRules,"label-width":"120px","label-position":"left"}},[i("el-form-item",{attrs:{label:"选择创意"}},[i("el-tabs",{staticClass:"budget-tabs",attrs:{type:"card"},model:{value:e.choice_ori,callback:function(t){e.choice_ori=t},expression:"choice_ori"}},[i("el-tab-pane",{attrs:{label:"新建",name:"choiceOne"}}),e._v(" "),i("el-tab-pane",{attrs:{label:"创意库",name:"choiceTwo"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"创意名称",prop:"plan_name"}},[i("el-input",{model:{value:e.addOriForm.plan_name,callback:function(t){e.$set(e.addOriForm,"plan_name",t)},expression:"addOriForm.plan_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"文本设置",prop:"setting"}},[i("el-input",{attrs:{type:"textarea",maxlength:"300",placeholder:"文字描述300个字符以内"},model:{value:e.addOriForm.setting,callback:function(t){e.$set(e.addOriForm,"setting",t)},expression:"addOriForm.setting"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"短链接",prop:"link"}},[i("el-input",{attrs:{type:"text",placeholder:"短链接地址规范 http://www.xxx.com/abc?z=1"},model:{value:e.addOriForm.link,callback:function(t){e.$set(e.addOriForm,"link",t)},expression:"addOriForm.link"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"视频素材",prop:"video_url"}},[i("el-upload",{staticClass:"img-upload",attrs:{"show-file-list":!1,action:e.uploadVideoUrl,"before-upload":e.videoBeforeUpload,"on-remove":e.videoRemove,"on-success":e.videoUploadSuccess}},[e.addOriForm.video_url?i("video",{staticClass:"avatar",attrs:{autoplay:"",controls:""}},[i("source",{attrs:{src:e.addOriForm.video_url,type:"video/mp4"}})]):[i("svg-icon",{staticClass:"upload-icon",attrs:{"icon-class":"upload"}}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("上传视频")])],e._v(" "),i("div",{staticClass:"el-upload__tip my-tip",attrs:{slot:"tip"},slot:"tip"},[i("el-button",{attrs:{"data-type":"视频"},on:{click:function(t){return e.sourceBtn("video")}}},[e._v("素材库")])],1)],2),e._v(" "),i("div",{staticClass:"upload-title"},[e._v("*尺寸：不得大于400k。支持MP4、OGG、FLV、WMV、RMVB格式\n                    ")])],1),e._v(" "),i("el-form-item",{attrs:{label:"图片素材",prop:"image_url"}},[i("el-upload",{staticClass:"img-upload",attrs:{"show-file-list":!1,action:e.uploadImgUrl,"on-remove":e.imgRemove,"on-success":e.imgUploadSuccess}},[e.addOriForm.image_url?i("img",{staticClass:"avatar",attrs:{src:e.addOriForm.image_url}}):[i("svg-icon",{staticClass:"upload-icon",attrs:{"icon-class":"upload"}}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("上传图片")])],e._v(" "),i("div",{staticClass:"el-upload__tip my-tip",attrs:{slot:"tip"},slot:"tip"},[i("el-button",{attrs:{"data-type":"图片"},on:{click:function(t){return e.sourceBtn("img")}}},[e._v("素材库")])],1)],2),e._v(" "),i("div",{staticClass:"upload-title"},[e._v("*尺寸：宽高比1920×1080、800×1000不得大于400k。支持JPG、PNG、GIF格式\n                    ")])],1),e._v(" "),i("el-form-item",{attrs:{label:"曝光监测地址",prop:"exposure_link"}},[i("el-input",{model:{value:e.addOriForm.exposure_link,callback:function(t){e.$set(e.addOriForm,"exposure_link",t)},expression:"addOriForm.exposure_link"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"点击监测地址",prop:"click_link"}},[i("el-input",{model:{value:e.addOriForm.click_link,callback:function(t){e.$set(e.addOriForm,"click_link",t)},expression:"addOriForm.click_link"}})],1),e._v(" "),i("el-form-item",[i("el-button",{on:{click:e.goReturn}},[e._v("返回")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.oriEditData}},[e._v("新建并关闭")])],1)],1),e._v(" "),i("div",{staticClass:"ori-box"},[i("el-row",{staticClass:"public-label"},[e._v("创意预览")]),e._v(" "),i("el-tabs",{staticClass:"budget-tabs",attrs:{type:"card"},model:{value:e.phoneActiveName,callback:function(t){e.phoneActiveName=t},expression:"phoneActiveName"}},[i("el-tab-pane",{attrs:{label:"Ios",name:"applePhone"}},[i("div",{staticClass:"public-box"},[i("div",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"},{name:"el-drag-dialog-video",rawName:"v-el-drag-dialog-video"},{name:"el-drag-dialog-text",rawName:"v-el-drag-dialog-text"}],staticClass:"apple move-area"},[i("div",{staticClass:"drag-move"},[i("div",{staticClass:"dec preview"},[i("span",{staticClass:"drag-text"}),e._v(" "),i("p",[e._v(e._s(e.addOriForm.plan_name))]),e._v("\n                                    "+e._s(e.addOriForm.setting)+"\n                                    "),i("el-link",{attrs:{type:"primary",underline:!1}},[e._v(e._s(e.addOriForm.link))])],1)]),e._v(" "),i("div",[i("div",{staticClass:"drag-move"},[i("div",{staticClass:"preview-img preview"},[i("span",{staticClass:"drag-img"}),e._v(" "),e.addOriForm.image_url?i("img",{attrs:{src:e.addOriForm.image_url,alt:""}}):e._e()])])]),e._v(" "),i("div",{staticClass:"drag-move"},[i("div",{staticClass:"preview-viedo preview"},[i("span",{staticClass:"drag-video"}),e._v(" "),e.addOriForm.video_url?i("video",{attrs:{autoplay:"",controls:""}},[i("source",{attrs:{src:e.addOriForm.video_url,type:"video/mp4"}})]):e._e()])])]),e._v(" "),i("p",{staticClass:"text"},[e._v("拖 动 素 材 改 变 位 置")])])]),e._v(" "),i("el-tab-pane",{attrs:{label:"Android",name:"androidPhone"}},[i("div",{staticClass:"public-box"},[i("div",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"},{name:"el-drag-dialog-video",rawName:"v-el-drag-dialog-video"},{name:"el-drag-dialog-text",rawName:"v-el-drag-dialog-text"}],staticClass:"android move-area"},[i("div",{staticClass:"drag-move"},[i("div",{staticClass:"dec preview"},[i("span",{staticClass:"drag-text"}),e._v(" "),i("p",[e._v(e._s(e.addOriForm.plan_name))]),e._v("\n                                    "+e._s(e.addOriForm.setting)+"\n                                    "),i("el-link",{attrs:{type:"primary",underline:!1}},[e._v(e._s(e.addOriForm.link))])],1)]),e._v(" "),i("div",[i("div",{staticClass:"drag-move"},[i("div",{staticClass:"preview-img preview"},[i("span",{staticClass:"drag-img"}),e._v(" "),i("img",{attrs:{src:e.addOriForm.image_url,alt:""}})])])]),e._v(" "),i("div",{staticClass:"drag-move"},[i("div",{staticClass:"preview-viedo preview"},[i("span",{staticClass:"drag-video"}),e._v(" "),e.addOriForm.video_url?i("video",{attrs:{autoplay:"",controls:""}},[i("source",{attrs:{src:e.addOriForm.video_url,type:"video/mp4"}})]):e._e()])])]),e._v(" "),i("p",{staticClass:"text"},[e._v("拖 动 素 材 改 变 位 置")])])])],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"我的创意",visible:e.oriDialogVisible,width:"50%"},on:{"update:visible":function(t){e.oriDialogVisible=t},close:e.oriDialogClosed}},[i("div",{staticClass:"ori-content"},e._l(e.oriImg,(function(t){return i("div",{key:t.id,staticClass:"ori-box"},[i("el-card",{staticClass:"inner-box"},[i("img",{attrs:{src:t.image_url,alt:t.name}}),e._v(" "),i("video",{attrs:{autoplay:"",controls:""}},[i("source",{attrs:{src:t.video_url,type:"video/mp4"}})]),e._v(" "),i("p",{staticClass:"describe"},[e._v(e._s(t.setting))]),e._v(" "),i("el-link",{attrs:{type:"primary",underline:!1}},[e._v(e._s(t.link))]),e._v(" "),i("el-divider",{staticClass:"line"}),e._v(" "),i("p",{staticClass:"ori-title"},[e._v(e._s(t.plan_name))]),e._v(" "),i("p",{staticClass:"id"},[e._v("ID:"+e._s(t.id))]),e._v(" "),i("el-divider",{staticClass:"line"}),e._v(" "),i("div",{staticClass:"btn-box"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.goToEdit(t)}}},[e._v("立即编辑")])],1)],1)],1)})),0),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.oriDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.oriDialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{visible:e.sourceDialogVisible,width:"50%"},on:{"update:visible":function(t){e.sourceDialogVisible=t},close:e.sourceDialog}},[i("el-tabs",{staticClass:"source-dialog",model:{value:e.sourcDialogName,callback:function(t){e.sourcDialogName=t},expression:"sourcDialogName"}},[i("el-tab-pane",{attrs:{label:"我的"+e.titleText,name:"mySourceImg"}},[i("div",{staticClass:"source-content"},["图片"==e.titleText?e._l(e.sourceImg,(function(t){return i("div",{key:t.id,staticClass:"source-box"},[i("div",{staticClass:"inner-box"},[e.imgChoose==t.id?i("el-dropdown",{staticClass:"img-menu",attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("svg-icon",{staticClass:"icon-menu",attrs:{"icon-class":"menu"}})],1),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"重命名","data-id":t.id}},[e._v("重命名")]),e._v(" "),i("el-dropdown-item",{ref:"dataNum",refInFor:!0,attrs:{command:"删除","data-id":t.id}},[e._v("删除")])],1)],1):e._e(),e._v(" "),i("el-radio-group",{model:{value:e.imgChoose,callback:function(t){e.imgChoose=t},expression:"imgChoose"}},[i("el-radio",{attrs:{border:"",label:t.id}},[i("img",{attrs:{src:t.url,alt:t.name},on:{click:function(i){return e.choiceImg(t.id)}}})])],1)],1),e._v(" "),t.imgname_edit?i("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"edit-img-name",attrs:{size:"mini"},on:{blur:function(i){return e.inputBlur(t.id)}},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.inputBlur(t.id)}},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"item.name"}}):i("p",{staticClass:"img-name"},[e._v(e._s(t.name))])],1)})):e._l(e.sourceVideo,(function(t){return i("div",{key:t.id,staticClass:"source-box"},[i("div",{staticClass:"inner-box"},[e.imgChoose==t.id?i("el-dropdown",{staticClass:"img-menu",attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("svg-icon",{staticClass:"icon-menu",attrs:{"icon-class":"menu"}})],1),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"重命名","data-id":t.id}},[e._v("重命名")]),e._v(" "),i("el-dropdown-item",{ref:"dataNum",refInFor:!0,attrs:{command:"删除","data-id":t.id}},[e._v("删除")])],1)],1):e._e(),e._v(" "),i("el-radio-group",{model:{value:e.imgChoose,callback:function(t){e.imgChoose=t},expression:"imgChoose"}},[i("el-radio",{attrs:{border:"",label:t.id}},[i("video",{attrs:{autoplay:""}},[i("source",{attrs:{src:t.url,type:"video/mp4"},on:{click:function(i){return e.choiceImg(t.id)}}})])])],1)],1),e._v(" "),t.imgname_edit?i("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"edit-img-name",attrs:{size:"mini"},on:{blur:function(i){return e.inputBlur(t.id)}},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.inputBlur(t.id)}},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"item.name"}}):i("p",{staticClass:"img-name"},[e._v(e._s(t.name))])],1)}))],2)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.sourceDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.submitUrl}},[e._v("确 定")])],1)],1)],1)},o=[],s=(i("ac6a"),i("7514"),i("a888")),r=i("0c66"),n=i("7db3"),l=i("ad8f"),c={directives:{elDragDialog:s["a"],elDragDialogVideo:r["a"],elDragDialogText:n["a"]},created:function(){this.planName=JSON.parse(this.$route.query.item)},data:function(){var e=function(e,t,i){var a=/^(https?|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]$/;return a.test(t)?i():i(new Error("请输入合法的短链接"))};return{planName:"",activeIndex:2,choice_ori:"choiceOne",addOriForm:{plan_name:"",setting:"",link:"",image_url:"",video_url:"",exposure_link:"",click_link:""},addOriFormRules:{plan_name:[{required:!0,message:"请输入创意名称",trigger:"blur"}],setting:[{required:!0,message:"请输入文本设置",trigger:"blur"}],link:[{required:!0,message:"短链接地址规范 http://www.xxx.com/abc?z=1",trigger:"blur"},{validator:e,trigger:"blur"}],image_url:[{required:!0,message:"请选择图片素材",trigger:"change"}],video_url:[{required:!0,message:"请选择视频素材",trigger:"change"}]},phoneActiveName:"applePhone",titleText:"",uploadVideoUrl:"/upload/video",uploadImgUrl:"https://jsonplaceholder.typicode.com/posts/",oriDialogVisible:!1,sourceDialogVisible:!1,sourcDialogName:"mySourceImg",imgChoose:0,sourceImg:[{id:0,name:"img1.jpg",imgname_edit:!1,url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg"},{id:1,name:"img2.jpg",imgname_edit:!1,url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg"},{id:2,name:"img3.jpg",imgname_edit:!1,url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg"}],sourceVideo:[{id:0,imgname_edit:!1,name:"0.mp4",url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"},{id:1,imgname_edit:!1,name:"0.mp4",url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"},{id:2,imgname_edit:!1,name:"0.mp4",url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"}],oriImg:[{id:0,image_url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg",video_url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4",setting:"这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述",plan_name:"海底捞",link:"http://www.baidu.com",exposure_link:"",click_link:""},{id:1,image_url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg",video_url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4",setting:"这是描述",plan_name:"海底捞",link:"http://www.baidu.com",exposure_link:"",click_link:""},{id:2,image_url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg",video_url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4",setting:"这是描述",plan_name:"海底捞",link:"http://www.baidu.com",exposure_link:"",click_link:""}]}},methods:{goToEdit:function(e){this.oriDialogVisible=!1,this.addOriForm=e},oriDialogClosed:function(){this.choice_ori="choiceOne"},goReturn:function(){this.$router.go(-1)},oriEditData:function(){var e=this;this.$refs["addOriFormRef"].validate((function(t){t&&Object(l["f"])(e.addOriForm.plan_id).then((function(){e.$message.success("更新成功"),e.$router.push("/extension")}))}))},sourceBtn:function(e){this.sourceDialogVisible=!0,this.titleText="img"==e?"图片":"视频",console.log(this.titleText)},videoBeforeUpload:function(e){console.log(e);var t=e.size/1024/1024<100;return-1==["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb"].indexOf(e.type)?(this.$message.error("请上传正确的视频格式"),!1):t?void 0:(this.$message.error("上传视频大小不能超过100MB哦!"),!1)},videoRemove:function(e){},videoUploadSuccess:function(e,t){this.addOriForm.video_url=URL.createObjectURL(t.raw)},imgRemove:function(e){},imgUploadSuccess:function(e,t){this.addOriForm.image_url=URL.createObjectURL(t.raw)},sourceDialog:function(){this.sourcDialogName="mySourceImg"},choiceImg:function(e){this.sourceImg.find((function(t){return t.id===e}))},handleCommand:function(e){var t=this;"重命名"==e?this.$refs.dataNum.forEach((function(e){var i=e.$attrs["data-id"];if("图片"==t.titleText){var a=t.sourceImg.find((function(e){return e.id===i}));a.imgname_edit=!0}else{var o=t.sourceVideo.find((function(e){return e.id===i}));o.imgname_edit=!0}})):"删除"==e&&this.$refs.dataNum.forEach((function(e){var i=e.$attrs["data-id"];t.$confirm("确定要删除素材吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){"图片"==t.titleText?t.sourceImg.splice(i,1):t.sourceVideo.splice(i,1),t.$message.success("删除成功")})).catch((function(){t.$message.error("已经取消删除")}))}))},inputBlur:function(e){if("图片"==this.titleText){var t=this.sourceImg.find((function(t){return t.id===e}));t.imgname_edit=!1}else{var i=this.sourceVideo.find((function(t){return t.id===e}));i.imgname_edit=!1}this.$message.success("修改名称成功")},submitUrl:function(){"图片"==this.titleText?this.addOriForm.image_url=this.sourceImg[this.imgChoose].url:this.addOriForm.video_url=this.sourceVideo[this.imgChoose].url,this.sourceDialogVisible=!1}},watch:{choice_ori:function(e){"choiceTwo"==e&&(this.oriDialogVisible=!0,console.log(e))}}},d=c,u=(i("dc72"),i("4694"),i("2877")),m=Object(u["a"])(d,a,o,!1,null,"31b8ba7f",null);t["default"]=m.exports},cd1c:function(e,t,i){var a=i("e853");e.exports=function(e,t){return new(a(e))(t)}},d2c8:function(e,t,i){var a=i("aae3"),o=i("be13");e.exports=function(e,t,i){if(a(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(o(e))}},dc72:function(e,t,i){"use strict";var a=i("ac84"),o=i.n(a);o.a},e853:function(e,t,i){var a=i("d3f4"),o=i("1169"),s=i("2b4c")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),a(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},f2d3:function(e,t,i){}}]);