(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-736f1e94"],{"35f5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"member-scene"},[a("el-steps",{staticClass:"mb",attrs:{active:e.activeIndex,"finish-status":"success","align-center":"",simple:""}},[a("el-step",{attrs:{title:"新建广告组"}}),e._v(" "),a("el-step",{attrs:{title:"新建推广计划"}}),e._v(" "),a("el-step",{attrs:{title:"新建创意"}})],1),e._v(" "),a("el-card",[a("el-form",{ref:"addFormRef",staticClass:"add-form",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"120px","label-position":"left"}},[a("el-tabs",{model:{value:e.addAdvActiveName,callback:function(t){e.addAdvActiveName=t},expression:"addAdvActiveName"}},[a("el-tab-pane",{attrs:{label:"新建广告组",name:"newAdvOne"}},[a("el-form-item",{attrs:{label:"广告组名称",prop:"plan_name"}},[a("el-input",{model:{value:e.addForm.plan_name,callback:function(t){e.$set(e.addForm,"plan_name",t)},expression:"addForm.plan_name"}})],1),e._v(" "),a("el-row",{staticClass:"budget-box"},[a("div",{staticClass:"public-label"},[e._v("广告组预算")]),e._v(" "),a("el-tabs",{staticClass:"budget-tabs",attrs:{type:"card"},model:{value:e.budgetActiveName,callback:function(t){e.budgetActiveName=t},expression:"budgetActiveName"}},[a("el-tab-pane",{attrs:{label:"不限",name:"budgeOne"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"指定预算",name:"budgeTwo"}},[a("el-form-item",{attrs:{label:"广告组总预算",prop:"group_budget"}},[a("el-input",{model:{value:e.addForm.group_budget,callback:function(t){e.$set(e.addForm,"group_budget",e._n(t))},expression:"addForm.group_budget"}}),e._v(" 元\n                                ")],1),e._v(" "),a("el-form-item",{attrs:{label:"广告组每日预算",prop:"day_budget"}},[a("el-input",{model:{value:e.addForm.day_budget,callback:function(t){e.$set(e.addForm,"day_budget",e._n(t))},expression:"addForm.day_budget"}}),e._v(" 元\n                                ")],1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"投放日期",prop:"put_time"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.addForm.put_time,callback:function(t){e.$set(e.addForm,"put_time",t)},expression:"addForm.put_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关联合同编号",prop:"contract_number"}},[a("el-input",{model:{value:e.addForm.contract_number,callback:function(t){e.$set(e.addForm,"contract_number",e._n(t))},expression:"addForm.contract_number"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.advAddGroupData}},[e._v("保存并关闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.advAddGroupDataNew}},[e._v("保存并新建计划")]),e._v(" "),a("el-button",{on:{click:e.goReturn}},[e._v("返回")])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"选择现有的广告组",name:"newAdvTwo"}},[a("el-row",{staticClass:"mb"},[a("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"搜索现有的广告组",disabled:e.stateDisabled,clearable:""},on:{select:e.handleSelect},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1),e._v(" "),a("el-row",[e.advName.length>0?a("dl",{staticClass:"adv-list"},[a("dt",[e._v("广告组列表")]),e._v(" "),a("dd",e._l(e.advName,(function(t,r){return a("a",{key:r,attrs:{href:"javascript:;",type:"primary"},on:{click:function(a){return e.goMemberAddPlan(t)}}},[e._v(e._s(t.value))])})),0)]):a("span",[e._v("还没有广告组，请新建广告组!")])])],1)],1)],1)],1)],1)},n=[],d=(a("c5f6"),a("7cdf"),a("ad8f")),i={data:function(){var e=this,t=function(e,t,a){t?Number.isInteger(t)?t<1?a(new Error("组预算必须大于0")):a():a(new Error("请输入数字值")):a(new Error("请输入组预算"))},a=function(t,a,r){a?Number.isInteger(a)?a<1?r(new Error("日预算必须大于0")):a>e.addForm.group_budget?r(new Error("日预算不能大于组预算")):r():r(new Error("请输入数字值")):r(new Error("请输入日预算"))};return{activeIndex:0,addAdvActiveName:"newAdvOne",budgetActiveName:"budgeOne",addForm:{plan_name:"",group_budget:"",day_budget:"",put_time:[]},addFormRules:{plan_name:[{required:!0,message:"请输入广告组名称",trigger:"blur"}],group_budget:[{validator:t,trigger:"blur"}],day_budget:[{validator:a,trigger:"blur"}],put_time:[{required:!0,message:"请选择投放日期",trigger:"blur"}]},advName:[],state:"",timeout:null,stateDisabled:!1}},created:function(){this.advName=this.loadAll(),this.advName.length<=0&&(this.stateDisabled=!0)},watch:{addAdvActiveName:function(){this.state="",this.$refs["addFormRef"].resetFields()}},methods:{loadAll:function(){return[{value:"奔驰1",id:"45445"},{value:"奔驰2",id:"4544556"},{value:"奔驰3",id:"454245"},{value:"奔驰4",id:"454455556"}]},querySearchAsync:function(e,t){var a=this.advName,r=e?a.filter(this.createStateFilter(e)):a;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t(r)}),3e3*Math.random())},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e)},goMemberAddPlan:function(e){this.$router.push({name:"AddPlan",query:{item:JSON.stringify(e)}})},goReturn:function(){this.$router.go(-1)},advAddGroupData:function(){var e=this;"budgeOne"===this.budgetActiveName?this.$refs["addFormRef"].validateField(["plan_name","put_time"],(function(t){t||Object(d["a"])(e.addForm).then((function(){e.$message.success("添加广告组成功"),e.$router.push("/extension")}))})):"budgeTwo"===this.budgetActiveName&&this.$refs["addFormRef"].validate((function(t){t&&(e.addForm.plan_id=parseInt(100*Math.random())+1024,Object(d["a"])(e.addForm).then((function(){e.$message.success("添加广告组成功"),e.$router.push("/extension")})))}))},advAddGroupDataNew:function(){var e=this;"budgeOne"===this.budgetActiveName?this.$refs["addFormRef"].validateField(["plan_name","put_time"],(function(t){t||Object(d["a"])(e.addForm).then((function(){e.$message.success("添加广告组成功"),e.$router.push({name:"AddPlan",query:{item:JSON.stringify(e.addForm.plan_name)}})}))})):"budgeTwo"===this.budgetActiveName&&this.$refs["addFormRef"].validate((function(t){t&&(e.addForm.plan_id=parseInt(100*Math.random())+1024,Object(d["a"])(e.addForm).then((function(){e.$message.success("添加广告组成功"),e.$router.push({name:"AddPlan",query:{item:JSON.stringify(e.addForm.plan_name)}})})))}))}}},o=i,u=(a("a16c"),a("2877")),s=Object(u["a"])(o,r,n,!1,null,"99ecdd90",null);t["default"]=s.exports},7986:function(e,t,a){},"7cdf":function(e,t,a){var r=a("5ca1");r(r.S,"Number",{isInteger:a("9c12")})},"9c12":function(e,t,a){var r=a("d3f4"),n=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&n(e)===e}},a16c:function(e,t,a){"use strict";var r=a("7986"),n=a.n(r);n.a},aa77:function(e,t,a){var r=a("5ca1"),n=a("be13"),d=a("79e5"),i=a("fdef"),o="["+i+"]",u="​",s=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),c=function(e,t,a){var n={},o=d((function(){return!!i[e]()||u[e]()!=u})),s=n[e]=o?t(m):i[e];a&&(n[a]=s),r(r.P+r.F*o,"String",n)},m=c.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(l,"")),e};e.exports=c},ad8f:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return l}));var r=a("b775");function n(e){return Object(r["a"])({method:"get",url:"/table/planlist",params:e})}function d(e){return Object(r["a"])({url:"/table/editdata",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/table/add",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/table/editplan",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/table/addplan",method:"post",data:e})}function s(e){return Object(r["a"])({method:"get",url:"/table/Journallist",params:e})}function l(e){return Object(r["a"])({url:"/table/editori",method:"post",data:e})}},c5f6:function(e,t,a){"use strict";var r=a("7726"),n=a("69a8"),d=a("2d95"),i=a("5dbc"),o=a("6a99"),u=a("79e5"),s=a("9093").f,l=a("11e9").f,c=a("86cc").f,m=a("aa77").trim,f="Number",p=r[f],b=p,v=p.prototype,g=d(a("2aeb")(v))==f,_="trim"in String.prototype,h=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=_?t.trim():m(t,3);var a,r,n,d=t.charCodeAt(0);if(43===d||45===d){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===d){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var i,u=t.slice(2),s=0,l=u.length;s<l;s++)if(i=u.charCodeAt(s),i<48||i>n)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof p&&(g?u((function(){v.valueOf.call(a)})):d(a)!=f)?i(new b(h(t)),a,p):h(t)};for(var F,N=a("9e1e")?s(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;N.length>A;A++)n(b,F=N[A])&&!n(p,F)&&c(p,F,l(b,F));p.prototype=v,v.constructor=p,a("2aba")(r,f,p)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);