(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d1aca15"],{"0a49":function(e,t,i){var o=i("9b43"),a=i("626a"),r=i("4bf8"),s=i("9def"),n=i("cd1c");e.exports=function(e,t){var i=1==e,l=2==e,c=3==e,d=4==e,u=6==e,m=5==e||u,p=t||n;return function(t,n,v){for(var g,f,b=r(t),_=a(b),h=o(n,v,3),y=s(_.length),w=0,x=i?p(t,y):l?p(t,0):void 0;y>w;w++)if((m||w in _)&&(g=_[w],f=h(g,w,b),e))if(i)x[w]=f;else if(f)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:x.push(g)}else if(d)return!1;return u?-1:c||d?d:x}}},"0c66":function(e,t,i){"use strict";i("a481"),i("6762"),i("2fdb");var o={bind:function(e,t,i){var o=e.querySelector(".drag-video"),a=e.querySelector(".preview-viedo"),r=e;o.style.cssText+=";cursor:move;",a.style.cssText+=";top:0px;";var s=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();o.onmousedown=function(e){var t=e.clientX-o.style.width,i=e.clientY-o.style.height,n=a.offsetWidth,l=a.offsetHeight,c=r.offsetWidth,d=r.offsetHeight,u=a.offsetLeft,m=c-a.offsetLeft-n,p=a.offsetTop,v=d-a.offsetTop-l,g=s(a,"left"),f=s(a,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),f=+document.body.clientHeight*(+f.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),f=+f.replace(/\px/g,"")),document.onmousemove=function(e){var o=e.clientX-t,r=e.clientY-i;-o>u?o=-u:o>m&&(o=m),-r>p?r=-p:r>v&&(r=v),a.style.cssText+=";left:".concat(o+g,"px;top:").concat(r+f,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},a=function(e){e.directive("el-drag-dialog-video",o)};window.Vue&&(window["el-drag-dialog-video"]=o,Vue.use(a)),o.install=a;t["a"]=o},"2fdb":function(e,t,i){"use strict";var o=i("5ca1"),a=i("d2c8"),r="includes";o(o.P+o.F*i("5147")(r),"String",{includes:function(e){return!!~a(this,e,r).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},5147:function(e,t,i){var o=i("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[o]=!1,!"/./"[e](t)}catch(a){}}return!0}},6762:function(e,t,i){"use strict";var o=i("5ca1"),a=i("c366")(!0);o(o.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},7514:function(e,t,i){"use strict";var o=i("5ca1"),a=i("0a49")(5),r="find",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),o(o.P+o.F*s,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(r)},"7db3":function(e,t,i){"use strict";i("a481"),i("6762"),i("2fdb");var o={bind:function(e,t,i){var o=e.querySelector(".drag-text"),a=e.querySelector(".dec"),r=e;o.style.cssText+=";cursor:move;",a.style.cssText+=";top:0px;";var s=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();o.onmousedown=function(e){var t=e.clientX-o.style.width,i=e.clientY-o.style.height,n=a.offsetWidth,l=a.offsetHeight,c=r.offsetWidth,d=r.offsetHeight,u=a.offsetLeft,m=c-a.offsetLeft-n,p=a.offsetTop,v=d-a.offsetTop-l,g=s(a,"left"),f=s(a,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),f=+document.body.clientHeight*(+f.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),f=+f.replace(/\px/g,"")),document.onmousemove=function(e){var o=e.clientX-t,r=e.clientY-i;-o>u?o=-u:o>m&&(o=m),-r>p?r=-p:r>v&&(r=v),a.style.cssText+=";left:".concat(o+g,"px;top:").concat(r+f,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},a=function(e){e.directive("el-drag-dialog-text",o)};window.Vue&&(window["el-drag-dialog-text"]=o,Vue.use(a)),o.install=a;t["a"]=o},"8fc2":function(e,t,i){},"9a90":function(e,t,i){"use strict";var o=i("a7c9"),a=i.n(o);a.a},a7c9:function(e,t,i){},a888:function(e,t,i){"use strict";i("a481"),i("6762"),i("2fdb");var o={bind:function(e,t,i){var o=e.querySelector(".drag-img"),a=e.querySelector(".preview-img"),r=e;o.style.cssText+=";cursor:move;",a.style.cssText+=";top:0px;";var s=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();o.onmousedown=function(e){var t=e.clientX-o.style.width,i=e.clientY-o.style.height,n=a.offsetWidth,l=a.offsetHeight,c=r.offsetWidth,d=r.offsetHeight,u=a.offsetLeft,m=c-a.offsetLeft-n,p=a.offsetTop,v=d-a.offsetTop-l,g=s(a,"left"),f=s(a,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),f=+document.body.clientHeight*(+f.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),f=+f.replace(/\px/g,"")),document.onmousemove=function(e){var o=e.clientX-t,r=e.clientY-i;-o>u?o=-u:o>m&&(o=m),-r>p?r=-p:r>v&&(r=v),a.style.cssText+=";left:".concat(o+g,"px;top:").concat(r+f,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},a=function(e){e.directive("el-drag-dialog",o)};window.Vue&&(window["el-drag-dialog"]=o,Vue.use(a)),o.install=a;t["a"]=o},ad8f:function(e,t,i){"use strict";i.d(t,"e",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return s})),i.d(t,"g",(function(){return n})),i.d(t,"b",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"f",(function(){return d}));var o=i("b775");function a(e){return Object(o["a"])({method:"get",url:"/table/planlist",params:e})}function r(e){return Object(o["a"])({url:"/table/editdata",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/table/add",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/table/editplan",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/table/addplan",method:"post",data:e})}function c(e){return Object(o["a"])({method:"get",url:"/table/Journallist",params:e})}function d(e){return Object(o["a"])({url:"/table/editori",method:"post",data:e})}},b95f:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"edit-ori-table"},[i("el-card",{staticClass:"mb_10"},[i("el-row",{staticClass:"budget-box scene-box"},[i("div",{staticClass:"public-label"},[e._v("所属广告计划")]),e._v(" "),i("p",{staticClass:"plan-name"},[e._v(e._s(e.oriForm.belong_plan))])])],1),e._v(" "),i("el-card",{staticClass:"ori-main"},[i("el-row",{staticClass:"title"},[e._v("\n            制作创意\n            "),i("span",{staticClass:"tips"},[i("i",{staticClass:"red"},[e._v("*")]),e._v(" 所有创意大小不能超过1.9M\n            ")])]),e._v(" "),i("el-divider"),e._v(" "),i("el-form",{ref:"oriFormRef",attrs:{model:e.oriForm,rules:e.oriFormRules,"label-width":"120px","label-position":"left"}},[i("el-form-item",{attrs:{label:"选择创意"}},[i("el-tabs",{staticClass:"budget-tabs",attrs:{type:"card"},model:{value:e.choice_ori,callback:function(t){e.choice_ori=t},expression:"choice_ori"}},[i("el-tab-pane",{attrs:{label:"新建",name:"choiceOne"}}),e._v(" "),i("el-tab-pane",{attrs:{label:"创意库",name:"choiceTwo"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"创意名称",prop:"plan_name"}},[i("el-input",{model:{value:e.oriForm.plan_name,callback:function(t){e.$set(e.oriForm,"plan_name",t)},expression:"oriForm.plan_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"文本设置",prop:"setting"}},[i("el-input",{attrs:{type:"textarea",maxlength:"300",placeholder:"文字描述300个字符以内"},model:{value:e.oriForm.setting,callback:function(t){e.$set(e.oriForm,"setting",t)},expression:"oriForm.setting"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"短链接",prop:"link"}},[i("el-input",{attrs:{type:"text",placeholder:"短链接地址规范 http://www.xxx.com/abc?z=1"},model:{value:e.oriForm.link,callback:function(t){e.$set(e.oriForm,"link",t)},expression:"oriForm.link"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"视频素材",prop:"video_url"}},[i("el-upload",{staticClass:"img-upload",attrs:{"show-file-list":!1,action:e.uploadVideoUrl,"before-upload":e.videoBeforeUpload,"on-remove":e.videoRemove,"on-success":e.videoUploadSuccess}},[e.oriForm.video_url?i("video",{staticClass:"avatar",attrs:{autoplay:"",controls:""}},[i("source",{attrs:{src:e.oriForm.video_url,type:"video/mp4"}})]):[i("svg-icon",{staticClass:"upload-icon",attrs:{"icon-class":"upload"}}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("上传视频")])],e._v(" "),i("div",{staticClass:"el-upload__tip my-tip",attrs:{slot:"tip"},slot:"tip"},[i("el-button",{attrs:{"data-type":"视频"},on:{click:function(t){return e.sourceBtn("video")}}},[e._v("素材库")])],1)],2),e._v(" "),i("div",{staticClass:"upload-title"},[e._v("*尺寸：不得大于400k。支持MP4、OGG、FLV、WMV、RMVB格式\n                    ")])],1),e._v(" "),i("el-form-item",{attrs:{label:"图片素材",prop:"image_url"}},[i("el-upload",{staticClass:"img-upload",attrs:{"show-file-list":!1,action:e.uploadImgUrl,"on-remove":e.imgRemove,"on-success":e.imgUploadSuccess}},[e.oriForm.image_url?i("img",{staticClass:"avatar",attrs:{src:e.oriForm.image_url}}):[i("svg-icon",{staticClass:"upload-icon",attrs:{"icon-class":"upload"}}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("上传图片")])],e._v(" "),i("div",{staticClass:"el-upload__tip my-tip",attrs:{slot:"tip"},slot:"tip"},[i("el-button",{attrs:{"data-type":"图片"},on:{click:function(t){return e.sourceBtn("img")}}},[e._v("素材库")])],1)],2),e._v(" "),i("div",{staticClass:"upload-title"},[e._v("*尺寸：宽高比1920×1080、800×1000不得大于400k。支持JPG、PNG、GIF格式\n                    ")])],1),e._v(" "),i("el-form-item",{attrs:{label:"曝光监测地址",prop:"exposure_link"}},[i("el-input",{model:{value:e.oriForm.exposure_link,callback:function(t){e.$set(e.oriForm,"exposure_link",t)},expression:"oriForm.exposure_link"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"点击监测地址",prop:"click_link"}},[i("el-input",{model:{value:e.oriForm.click_link,callback:function(t){e.$set(e.oriForm,"click_link",t)},expression:"oriForm.click_link"}})],1),e._v(" "),i("el-form-item",[i("el-button",{on:{click:e.goReturn}},[e._v("返回")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.oriEditData}},[e._v("新建并关闭")])],1)],1),e._v(" "),i("div",{staticClass:"ori-box"},[i("el-row",{staticClass:"public-label"},[e._v("创意预览")]),e._v(" "),i("el-tabs",{staticClass:"budget-tabs",attrs:{type:"card"},model:{value:e.phoneActiveName,callback:function(t){e.phoneActiveName=t},expression:"phoneActiveName"}},[i("el-tab-pane",{attrs:{label:"Ios",name:"applePhone"}},[i("div",{staticClass:"public-box"},[i("div",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"},{name:"el-drag-dialog-video",rawName:"v-el-drag-dialog-video"},{name:"el-drag-dialog-text",rawName:"v-el-drag-dialog-text"}],staticClass:"apple move-area"},[i("div",{staticClass:"drag-move"},[i("div",{staticClass:"dec preview"},[i("span",{staticClass:"drag-text"}),e._v(" "),i("p",[e._v(e._s(e.oriForm.plan_name))]),e._v("\n                                    "+e._s(e.oriForm.setting)+"\n                                    "),i("el-link",{attrs:{type:"primary",underline:!1}},[e._v(e._s(e.oriForm.link))])],1)]),e._v(" "),i("div",[i("div",{staticClass:"drag-move"},[i("div",{staticClass:"preview-img preview"},[i("span",{staticClass:"drag-img"}),e._v(" "),e.oriForm.image_url?i("img",{attrs:{src:e.oriForm.image_url,alt:""}}):e._e()])])]),e._v(" "),i("div",{staticClass:"drag-move"},[i("div",{staticClass:"preview-viedo preview"},[i("span",{staticClass:"drag-video"}),e._v(" "),e.oriForm.video_url?i("video",{attrs:{autoplay:"",controls:""}},[i("source",{attrs:{src:e.oriForm.video_url,type:"video/mp4"}})]):e._e()])])]),e._v(" "),i("p",{staticClass:"text"},[e._v("拖 动 素 材 改 变 位 置")])])]),e._v(" "),i("el-tab-pane",{attrs:{label:"Android",name:"androidPhone"}},[i("div",{staticClass:"public-box"},[i("div",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"},{name:"el-drag-dialog-video",rawName:"v-el-drag-dialog-video"},{name:"el-drag-dialog-text",rawName:"v-el-drag-dialog-text"}],staticClass:"android move-area"},[i("div",{staticClass:"drag-move"},[i("div",{staticClass:"dec preview"},[i("span",{staticClass:"drag-text"}),e._v(" "),i("p",[e._v(e._s(e.oriForm.plan_name))]),e._v("\n                                    "+e._s(e.oriForm.setting)+"\n                                    "),i("el-link",{attrs:{type:"primary",underline:!1}},[e._v(e._s(e.oriForm.link))])],1)]),e._v(" "),i("div",[i("div",{staticClass:"drag-move"},[i("div",{staticClass:"preview-img preview"},[i("span",{staticClass:"drag-img"}),e._v(" "),i("img",{attrs:{src:e.oriForm.image_url,alt:""}})])])]),e._v(" "),i("div",{staticClass:"drag-move"},[i("div",{staticClass:"preview-viedo preview"},[i("span",{staticClass:"drag-video"}),e._v(" "),e.oriForm.video_url?i("video",{attrs:{autoplay:"",controls:""}},[i("source",{attrs:{src:e.oriForm.video_url,type:"video/mp4"}})]):e._e()])])]),e._v(" "),i("p",{staticClass:"text"},[e._v("拖 动 素 材 改 变 位 置")])])])],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"我的创意",visible:e.oriDialogVisible,width:"50%"},on:{"update:visible":function(t){e.oriDialogVisible=t},close:e.oriDialogClosed}},[i("div",{staticClass:"ori-content"},e._l(e.oriImg,(function(t){return i("div",{key:t.id,staticClass:"ori-box"},[i("el-card",{staticClass:"inner-box"},[i("img",{attrs:{src:t.image_url,alt:t.name}}),e._v(" "),i("video",{attrs:{autoplay:"",controls:""}},[i("source",{attrs:{src:t.video_url,type:"video/mp4"}})]),e._v(" "),i("p",{staticClass:"describe"},[e._v(e._s(t.setting))]),e._v(" "),i("el-link",{attrs:{type:"primary",underline:!1}},[e._v(e._s(t.link))]),e._v(" "),i("el-divider",{staticClass:"line"}),e._v(" "),i("p",{staticClass:"ori-title"},[e._v(e._s(t.plan_name))]),e._v(" "),i("p",{staticClass:"id"},[e._v("ID:"+e._s(t.id))]),e._v(" "),i("el-divider",{staticClass:"line"}),e._v(" "),i("div",{staticClass:"btn-box"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.goToEdit(t)}}},[e._v("立即编辑")])],1)],1)],1)})),0),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.oriDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.oriDialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{visible:e.sourceDialogVisible,width:"50%"},on:{"update:visible":function(t){e.sourceDialogVisible=t},close:e.sourceDialog}},[i("el-tabs",{staticClass:"source-dialog",model:{value:e.sourcDialogName,callback:function(t){e.sourcDialogName=t},expression:"sourcDialogName"}},[i("el-tab-pane",{attrs:{label:"我的"+e.titleText,name:"mySourceImg"}},[i("div",{staticClass:"source-content"},["图片"==e.titleText?e._l(e.sourceImg,(function(t){return i("div",{key:t.id,staticClass:"source-box"},[i("div",{staticClass:"inner-box"},[e.imgChoose==t.id?i("el-dropdown",{staticClass:"img-menu",attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("svg-icon",{staticClass:"icon-menu",attrs:{"icon-class":"menu"}})],1),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"重命名","data-id":t.id}},[e._v("重命名")]),e._v(" "),i("el-dropdown-item",{ref:"dataNum",refInFor:!0,attrs:{command:"删除","data-id":t.id}},[e._v("删除")])],1)],1):e._e(),e._v(" "),i("el-radio-group",{model:{value:e.imgChoose,callback:function(t){e.imgChoose=t},expression:"imgChoose"}},[i("el-radio",{attrs:{border:"",label:t.id}},[i("img",{attrs:{src:t.url,alt:t.name},on:{click:function(i){return e.choiceImg(t.id)}}})])],1)],1),e._v(" "),t.imgname_edit?i("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"edit-img-name",attrs:{size:"mini"},on:{blur:function(i){return e.inputBlur(t.id)}},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.inputBlur(t.id)}},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"item.name"}}):i("p",{staticClass:"img-name"},[e._v(e._s(t.name))])],1)})):e._l(e.sourceVideo,(function(t){return i("div",{key:t.id,staticClass:"source-box"},[i("div",{staticClass:"inner-box"},[e.imgChoose==t.id?i("el-dropdown",{staticClass:"img-menu",attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("svg-icon",{staticClass:"icon-menu",attrs:{"icon-class":"menu"}})],1),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"重命名","data-id":t.id}},[e._v("重命名")]),e._v(" "),i("el-dropdown-item",{ref:"dataNum",refInFor:!0,attrs:{command:"删除","data-id":t.id}},[e._v("删除")])],1)],1):e._e(),e._v(" "),i("el-radio-group",{model:{value:e.imgChoose,callback:function(t){e.imgChoose=t},expression:"imgChoose"}},[i("el-radio",{attrs:{border:"",label:t.id}},[i("video",{attrs:{autoplay:""}},[i("source",{attrs:{src:t.url,type:"video/mp4"},on:{click:function(i){return e.choiceImg(t.id)}}})])])],1)],1),e._v(" "),t.imgname_edit?i("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"edit-img-name",attrs:{size:"mini"},on:{blur:function(i){return e.inputBlur(t.id)}},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.inputBlur(t.id)}},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"item.name"}}):i("p",{staticClass:"img-name"},[e._v(e._s(t.name))])],1)}))],2)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.sourceDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.submitUrl}},[e._v("确 定")])],1)],1)],1)},a=[],r=(i("ac6a"),i("7514"),i("a888")),s=i("0c66"),n=i("7db3"),l=i("ad8f"),c={directives:{elDragDialog:r["a"],elDragDialogVideo:s["a"],elDragDialogText:n["a"]},created:function(){this.getOriTableData()},data:function(){var e=function(e,t,i){var o=/^(https?|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]$/;return o.test(t)?i():i(new Error("请输入合法的短链接"))};return{choice_ori:"choiceOne",oriForm:{plan_name:"",setting:"",link:"",image_url:"",video_url:"",exposure_link:"",click_link:""},oriFormRules:{plan_name:[{required:!0,message:"请输入创意名称",trigger:"blur"}],setting:[{required:!0,message:"请输入文本设置",trigger:"blur"}],link:[{required:!0,message:"短链接地址规范 http://www.xxx.com/abc?z=1",trigger:"blur"},{validator:e,trigger:"blur"}],image_url:[{required:!0,message:"请选择图片素材",trigger:"change"}],video_url:[{required:!0,message:"请选择视频素材",trigger:"change"}]},phoneActiveName:"applePhone",titleText:"",uploadVideoUrl:"/upload/video",uploadImgUrl:"https://jsonplaceholder.typicode.com/posts/",oriDialogVisible:!1,sourceDialogVisible:!1,sourcDialogName:"mySourceImg",imgChoose:0,sourceImg:[{id:0,name:"img1.jpg",imgname_edit:!1,url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg"},{id:1,name:"img2.jpg",imgname_edit:!1,url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg"},{id:2,name:"img3.jpg",imgname_edit:!1,url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg"}],sourceVideo:[{id:0,imgname_edit:!1,name:"0.mp4",url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"},{id:1,imgname_edit:!1,name:"0.mp4",url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"},{id:2,imgname_edit:!1,name:"0.mp4",url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"}],oriImg:[{id:0,image_url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg",video_url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4",setting:"这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述这是描述",plan_name:"海底捞",link:"http://www.baidu.com",exposure_link:"",click_link:""},{id:1,image_url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg",video_url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4",setting:"这是描述",plan_name:"海底捞",link:"http://www.baidu.com",exposure_link:"",click_link:""},{id:2,image_url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577264322857&di=cdab9445f283e40b363848b40a1dc393&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20180216%2Fa4592884ca1d4990a2c6881d96fc6dbb.jpeg",video_url:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4",setting:"这是描述",plan_name:"海底捞",link:"http://www.baidu.com",exposure_link:"",click_link:""}]}},methods:{goToEdit:function(e){console.log(e),this.oriDialogVisible=!1,this.oriForm=e},getOriTableData:function(){this.oriForm=JSON.parse(this.$route.query.row),console.log(this.oriForm)},oriDialogClosed:function(){this.choice_ori="choiceOne"},goReturn:function(){this.$router.go(-1)},oriEditData:function(){var e=this;this.$refs["oriFormRef"].validate((function(t){t&&Object(l["f"])(e.oriForm.plan_id).then((function(){e.$message.success("更新成功"),e.$router.push("/extension")}))}))},sourceBtn:function(e){this.sourceDialogVisible=!0,this.titleText="img"==e?"图片":"视频",console.log(this.titleText)},videoBeforeUpload:function(e){console.log(e);var t=e.size/1024/1024<100;return-1==["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb"].indexOf(e.type)?(this.$message.error("请上传正确的视频格式"),!1):t?void 0:(this.$message.error("上传视频大小不能超过100MB哦!"),!1)},videoRemove:function(e){},videoUploadSuccess:function(e,t){this.oriForm.video_url=URL.createObjectURL(t.raw)},imgRemove:function(e){},imgUploadSuccess:function(e,t){this.oriForm.image_url=URL.createObjectURL(t.raw)},sourceDialog:function(){this.sourcDialogName="mySourceImg"},choiceImg:function(e){this.sourceImg.find((function(t){return t.id===e}))},handleCommand:function(e){var t=this;"重命名"==e?this.$refs.dataNum.forEach((function(e){var i=e.$attrs["data-id"];if("图片"==t.titleText){var o=t.sourceImg.find((function(e){return e.id===i}));o.imgname_edit=!0}else{var a=t.sourceVideo.find((function(e){return e.id===i}));a.imgname_edit=!0}})):"删除"==e&&this.$refs.dataNum.forEach((function(e){var i=e.$attrs["data-id"];t.$confirm("确定要删除素材吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){"图片"==t.titleText?t.sourceImg.splice(i,1):t.sourceVideo.splice(i,1),t.$message.success("删除成功")})).catch((function(){t.$message.error("已经取消删除")}))}))},inputBlur:function(e){if("图片"==this.titleText){var t=this.sourceImg.find((function(t){return t.id===e}));t.imgname_edit=!1}else{var i=this.sourceVideo.find((function(t){return t.id===e}));i.imgname_edit=!1}this.$message.success("修改名称成功")},submitUrl:function(){"图片"==this.titleText?this.oriForm.image_url=this.sourceImg[this.imgChoose].url:this.oriForm.video_url=this.sourceVideo[this.imgChoose].url,this.sourceDialogVisible=!1}},watch:{choice_ori:function(e){"choiceTwo"==e&&(this.oriDialogVisible=!0,console.log(e))}}},d=c,u=(i("e9ae"),i("9a90"),i("2877")),m=Object(u["a"])(d,o,a,!1,null,"ad9275bc",null);t["default"]=m.exports},cd1c:function(e,t,i){var o=i("e853");e.exports=function(e,t){return new(o(e))(t)}},d2c8:function(e,t,i){var o=i("aae3"),a=i("be13");e.exports=function(e,t,i){if(o(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(a(e))}},e853:function(e,t,i){var o=i("d3f4"),a=i("1169"),r=i("2b4c")("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),o(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}},e9ae:function(e,t,i){"use strict";var o=i("8fc2"),a=i.n(o);a.a}}]);