(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cfbfc5ba"],{"0da2":function(t,a,e){},"0f00":function(t,a,e){},"2ac2":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF9SURBVDhPY2SAAUYGdbVMxumMrIzMDP8Y/kNFGRiYgDJA/q2p/4r//2M4CxJCaGJgEGBmZ7AHijACtSA0Qfl/fzIcA/JeQ4SggJGJwTTqF9NJBmaEGDJYzvbP/d9vhl0gNrICGV41xmxGkMlYwKdb/+cCbbwNYjODRSCAg4mFQeXvD4Zv2PCfLwwXgWo+gRSCTGUH4p9g5/1lOgUSxAaQnMfGzCnFUKKaytQh5c0YKGbFIAEOLSyAhYtRn1+bMerHawYFkA/U3Y8wHRaxYhCFyuME358xfF8v+8+WCei5m7ud/iX9+sjwGyqHE2xS/5cGiismEOffT4Yt243/d4FlcIAdZv9nAANjCYgND71f7xmOfH/OYCXjy6gEFYKDC1UMJx6u/B8LZP4C8VE9zcig4ryH6bCEEzBAoODjNYaPW3X/OQCddQEqhAmYORlCI34y/Y3+z/QfhNkEGdKhUviBgA5jH0iDhCPjIiAXaxRgAwIiFoyzgLQUhIsMGBgASr6DEGbqKqsAAAAASUVORK5CYII="},6554:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEYSURBVDhPjZIxawJBEIXfm2CSIkUaCQTSBWwDIY0/wMpWK3sR/4attoKl+DNsrCyt8wuUq87GQjgnM+duuJiN5PG9Yvfm7c7uLVJ6Nmbk7BEw/iEac3KuIjohJ2H6uvpk3wPuQqTokJ3wKa03IxfJY8i9Fdm+AkZCD8ZaZF0NRC/J5S1gXGhKTlOB6BE5CqVn9cheqrDqo8ixTbbLwLtxEDmkCi+diWQNoHEzJIc1srYH9k+A8VtqbIDNDtgJIH668oAtspVaPfoDMIA7w/7lWS9Gl+yG4Q/5TgvVRQYYvlXQvVEH6n85eeXX2juJnGJ7ru/2fLUm2fS35+2E6fIt+nilusoBoxLyqx+LjFOhQrUYqA4+AQP4AstDpRNuysQrAAAAAElFTkSuQmCC"},7520:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("router-link",{staticClass:"close-btn",attrs:{to:{name:this.routeName}}},[t._v("×")])},s=[],n={props:["routeName"]},l=n,o=e("2877"),r=Object(o["a"])(l,i,s,!1,null,null,null);a["a"]=r.exports},"7db0":function(t,a,e){"use strict";var i=e("23e7"),s=e("b727").find,n=e("44d2"),l="find",o=!0;l in[]&&Array(1)[l]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n(l)},9938:function(t,a,e){"use strict";e("0f00")},e038:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"city-ranking-router-container"},[e("div",{staticClass:"main-card"},[e("div",{staticClass:"main-header"},[e("span",{staticClass:"main-title"},[t._v("工作排名")]),e("CloseBtn",{attrs:{routeName:"Home"}})],1),e("div",{staticClass:"city-ranking-router-body"},[e("AreaRanking",{attrs:{tableData:t.tableData}})],1)])])},s=[],n=e("7520"),l=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"area-task-container"},[i("div",{staticClass:"table-box"},[i("div",{staticClass:"my-tab-header"},[i("div",{staticClass:"my-tab-header-title"},[t._v(t._s(this.value4[0].name)+"浓度与排名变化")])]),i("div",{staticClass:"my-tab-body"},[i("div",{staticClass:"block"},[i("div",{staticClass:"block-left"},[i("el-cascader",{attrs:{options:t.options1},model:{value:t.value1,callback:function(a){t.value1=a},expression:"value1"}}),i("el-button",{attrs:{type:"primary"},on:{click:t.ant}},[t._v("查询")])],1),i("div",{staticClass:"block-right"},[i("el-cascader",{attrs:{placeholder:"魏善庄镇",options:t.options4},on:{change:t.handleChange},model:{value:t.value4,callback:function(a){t.value4=a},expression:"value4"}})],1)]),i("div",{staticClass:"my-table-body-content"},[i("div",{staticClass:"my-table-header"},[i("vue-seamless-scroll",{staticClass:"seamless-warp",attrs:{data:t.list,"class-option":t.classOption}},[i("div",{staticClass:"my-table-header-right"},t._l(t.list,(function(a){return i("div",{key:a.datetime},[i("div",{staticClass:"right-top"},[t._v(t._s(a.datetime||0))]),i("div",{staticClass:"right-center"},[i("div",[t._v("浓度")]),i("div",[t._v("排名")]),i("div",[t._v("环比")])]),i("div",{staticClass:"right-bottom"},[i("div",[a.value>0&&a.value<=50?i("div",{style:{background:"#00E600"}},[t._v(" "+t._s(a.value||0)+" ")]):a.value>50&&a.value<=100?i("div",{style:{background:"#FFFF00"}},[t._v(" "+t._s(a.value||0)+" ")]):a.value>100&&a.value<=150?i("div",{style:{background:"#FF7F00"}},[t._v(" "+t._s(a.value||0)+" ")]):a.value>150&&a.value<=200?i("div",{style:{background:"#FF0000"}},[t._v(" "+t._s(a.value||0)+" ")]):a.value>200&&a.value<=300?i("div",{style:{background:"#9A004A"}},[t._v(" "+t._s(a.value||0)+" ")]):a.value>300&&a.value<=9999999?i("div",{style:{background:"#800021"}},[t._v(" "+t._s(a.value||0)+" ")]):a.value<0?i("div",{style:{background:"#666"}},[t._v(" "+t._s(a.value||"--")+" ")]):t._e()]),i("div",[t._v(t._s(a.rank||0))]),"-"==JSON.stringify(a.mom)[0]?i("div",[i("img",{style:{width:"13px"},attrs:{src:e("6554")}})]):"-"!=JSON.stringify(a.mom)[0]?i("div",[i("img",{style:{width:"13px"},attrs:{src:e("2ac2")}})]):t._e()])])})),0)])],1),t._m(0)])])])])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-table-box"},[e("div",{staticClass:"my-table-box-text"},[t._v("排名变化图")]),e("div",{staticClass:"my-table-box-echarts",attrs:{id:"main"}})])}],r=e("2909"),h=(e("d81d"),e("99af"),e("4de4"),e("7db0"),e("b775")),m=e("313e"),u={props:["tableData"],data:function(){return{DistrictTownTab:"区",value1:["134004","4","最近一年"],options1:[{value:"134004",label:"PM2.5",children:[{value:"4",label:"月",children:[{value:"最近一年",label:"最近一年"},{value:"最近半年",label:"最近半年"}]},{value:"2",label:"日",children:[{value:"最近三个月",label:"最近三个月"},{value:"最近一个月",label:"最近一个月"}]},{value:"1",label:"小时",children:[{value:"最近三天",label:"最近三天"},{value:"最近一天",label:"最近一天"}]}]},{value:"134001",label:"TSP",children:[{value:"4",label:"月",children:[{value:"最近一年",label:"最近一年"},{value:"最近半年",label:"最近半年"}]},{value:"2",label:"日",children:[{value:"最近三个月",label:"最近三个月"},{value:"最近一个月",label:"最近一个月"}]},{value:"1",label:"小时",children:[{value:"最近三天",label:"最近三天"},{value:"最近一天",label:"最近一天"}]}]},{value:"199054",label:"TVOC",children:[{value:"4",label:"月",children:[{value:"最近一年",label:"最近一年"},{value:"最近半年",label:"最近半年"}]},{value:"2",label:"日",children:[{value:"最近三个月",label:"最近三个月"},{value:"最近一个月",label:"最近一个月"}]},{value:"1",label:"小时",children:[{value:"最近三天",label:"最近三天"},{value:"最近一天",label:"最近一天"}]}]}],startime:this.$moment().subtract(1,"years").format("YYYY-MM-01 00:00:00"),endtime:this.$moment().format("YYYY-MM-01 00:00:00"),token:"qiYrxXEv5mJPW6-dU5_wQQQivUkpjzt0ZChwA8M9JwYNNGXuecoz2NC4MuGBeBqWNBGxCD_9rXfkYMy7rQYCkDBK3eLyAZh7MrUp0sPHisiOsrJZ4-Webgiz4c2KFWXLGxsPDXqKsxULZRgkYsx_yeSmBsOKzTWNLAax1-JzQvVE3ge7QEDrEhlNk7DeItdcgUelGUMqUvj7kImu2gUS3Q==",rankid:"82",timeType:"4",varType:134004,auditflag:"0",myChart:null,myOptions:{},list:[],timeList:[],thisYear:[],lastYear:[],qoq:[],mom:[],end:0,value4:[{adm_id:110115001,adm_level:4,rank_id:82,name:"魏善庄镇"}],options4:[],selectedOptions:{label:"魏善庄镇",value:{adm_id:110115001,adm_level:4,rank_id:82}}}},created:function(){this.getCity(),this.getTableDataList(),this.getEchart(),this.initCharts()},mounted:function(){this.initCharts(),this.handleChange(),console.log("326 this.value4",this.value4)},updated:function(){this.initCharts()},watch:{echartsData:function(t){this.echartsData=t,this.initCharts()}},methods:{getCity:function(){var t=this,a={token:this.token,rankId:"82"};h["a"].get("https://api-adm-data-service-pre.airqualitychina.cn:9998/adm/rank-info",{params:{json:a}}).then((function(a){"[]"!=JSON.stringify(a.data.result[0].adm_info)&&a.data.result[0].adm_info.map((function(a){t.options4=[].concat(Object(r["a"])(t.options4),[{label:a.adm_name,value:{adm_id:a.adm_id,adm_level:a.adm_level,rank_id:a.rank_id,name:a.adm_name}}])}))}))},handleChange:function(t,a,e){console.log("373 value",t,a,e),this.getTableDataList()},ant:function(){this.varType=this.value1[0],4==this.value1[1]&&"最近一年"==this.value1[2]&&(this.timeType=4,this.startime=this.$moment().subtract(1,"years").format("YYYY-MM-01 00:00:00"),this.endtime=this.$moment().format("YYYY-MM-01 00:00:00")),4==this.value1[1]&&"最近半年"==this.value1[2]&&(this.timeType=4,this.startime=this.$moment(new Date).subtract(6,"months").format("YYYY-MM-01 00:00:00"),this.endtime=this.$moment().format("YYYY-MM-01 00:00:00")),2==this.value1[1]&&"最近三个月"==this.value1[2]&&(this.timeType=2,this.startime=this.$moment(new Date).subtract(3,"months").format("YYYY-MM-DD 00:00:00"),this.endtime=this.$moment().format("YYYY-MM-DD 00:00:00")),2==this.value1[1]&&"最近一个月"==this.value1[2]&&(this.timeType=2,this.startime=this.$moment(new Date).subtract(1,"months").format("YYYY-MM-DD 00:00:00"),this.endtime=this.$moment().format("YYYY-MM-DD 00:00:00")),1==this.value1[1]&&"最近三天"==this.value1[2]&&(this.timeType=1,this.startime=this.$moment().subtract(3,"days").format("YYYY-MM-DD 00:00:00"),this.endtime=this.$moment().format("YYYY-MM-DD HH:00:00")),1==this.value1[1]&&"最近一天"==this.value1[2]&&(this.timeType=1,this.startime=this.$moment().subtract(1,"days").format("YYYY-MM-DD 00:00:00"),this.endtime=this.$moment().format("YYYY-MM-DD HH:00:00")),console.log(this.options4,"options4"),this.getTableDataList()},getTableDataList:function(){var t=this,a={token:this.token,rankid:this.rankid,timeType:this.timeType,varType:this.varType,startime:this.startime,endtime:this.endtime,auditflag:this.auditflag};h["a"].get("https://api-adm-data-service-pre.airqualitychina.cn:9998/adm/center-rank",{params:{json:a}}).then((function(a){"[]"!=JSON.stringify(a.data.result)?(a=a.data.result,console.log("454 value4",t.value4),void 0==t.value4[0]?t.list=a.filter((function(t){return"大兴区"==t.countyname&&110115001==t.admid}))[0].data:(t.list=a.filter((function(a){return"大兴区"==a.countyname&&a.admid==t.value4[0].adm_id}))[0].data,console.log("465 this.list",t.list))):t.list=[]}))},getColor:function(t){return t>0&&t<35?"#64C84C":t>35&&t<75?"#CBCD49":t>75&&t<115?"#C97C3D":t>115&&t<150||t>150&&t<250||t>250&&t<500?"#":"#666"},getEchart:function(){var t=this,a={token:this.token,rankid:"7",timeType:"4",varType:134004,startime:this.$moment(new Date).subtract(6,"months").format("YYYY-MM-DD 00:00:00"),endtime:this.$moment().format("YYYY-MM-DD 00:00:00"),auditflag:"0",is_round:"True"};h["a"].get("https://api-adm-data-service-pre.airqualitychina.cn:9998/adm/contrast",{params:{json:a}}).then((function(a){if("[]"!=JSON.stringify(a.data.result)){a=a.data.result;var e=a.find((function(t){return 4==t.admid})).data,i=100;e.length>70&&(i=50);var s=[],n=[],l=[],o=[],r=[];e.map((function(t){s.push(t.datetime),l.push(t.rank||"-"),n.push(t.qoq.rank||"-"),o.push(t["qoq-rank"]||"-"),r.push(t["mom-rank"]||"-")})),t.timeList=s,t.thisYear=l,t.lastYear=n,t.qoq=o,t.mom=r,t.end=i}}))},initCharts:function(){this.myChart=m["init"](document.getElementById("main")),this.myChart.setOption(this.myOptions),this.myChart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{}}},color:["#7cb5ec","#52e855","red","blue"],legend:{data:["前一年度","本年度","同比","环比"],textStyle:{color:"#fff",fontSize:21}},dataZoom:[{type:"inside",start:0,end:this.end}],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:12},data:this.timeList},yAxis:[{name:"排名",type:"value",splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#fff"}},nameTextStyle:{fontSize:12,align:"left"},axisLabel:{fontSize:12}},{name:"百分比",type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},nameTextStyle:{fontSize:12,align:"right"},axisLabel:{fontSize:12}}],series:[{name:"前一年度",type:"bar",data:this.lastYear},{name:"本年度",type:"bar",data:this.thisYear},{name:"同比",type:"line",yAxisIndex:1,data:this.qoq},{name:"环比",type:"line",yAxisIndex:1,data:this.mom}]}),window.addEventListener("resize",this.onResize)},onResize:function(){this.myChart.resize()}},computed:{classOption:function(){return{step:.5,hoverStop:!0,direction:2,singleHeight:0,singleWidth:0,waitTime:1e3}}}},c=u,d=(e("9938"),e("2877")),v=Object(d["a"])(c,l,o,!1,null,"5e93ef7a",null),Y=v.exports,f={components:{CloseBtn:n["a"],AreaRanking:Y},data:function(){return{activeTab:"2",year:null,month:null,day:null,tableData:[]}},watch:{$route:{handler:function(){console.log("11111111111",this.$route.query.details)},deep:!0}},created:function(){this.getNowDate(),this.getWorkDataList(this.activeTab,this.day,"county")},methods:{getNowDate:function(){this.year=this.$moment().format("YYYY"),this.month=this.$moment().format("YYYY-MM"),this.day=this.$moment().subtract(1,"days").format("YYYY-MM-DD")},tabClick:function(t){var a;this.activeTab=t,"2"==this.activeTab?a=this.day:"4"==this.activeTab?a=this.$moment(this.month).format("YYYY-MM-DD"):"5"==this.activeTab&&(a=this.$moment(this.year).format("YYYY-MM-DD")),this.getWorkDataList(this.activeTab,a,"county")},reduceBtn:function(){if("2"==this.activeTab)this.day=this.$moment(this.day).subtract(1,"days").format("YYYY-MM-DD"),this.getWorkDataList(this.activeTab,this.day,"county");else if("4"==this.activeTab){this.month=this.$moment(this.month).subtract(1,"month").format("YYYY-MM");var t=this.$moment(this.month).format("YYYY-MM-DD");this.getWorkDataList(this.activeTab,t,"county")}else{this.year=this.$moment(this.year).subtract(1,"year").format("YYYY");var a=this.$moment(this.year).format("YYYY-MM-DD");this.getWorkDataList(this.activeTab,a,"county")}},addBtn:function(){if("2"==this.activeTab)this.day=this.$moment(this.day).add(1,"days").format("YYYY-MM-DD"),this.getWorkDataList(this.activeTab,this.day,"county");else if("4"==this.activeTab){this.month=this.$moment(this.month).add(1,"month").format("YYYY-MM");var t=this.$moment(this.month).format("YYYY-MM-DD");this.getWorkDataList(this.activeTab,t,"county")}else{this.year=this.$moment(this.year).add(1,"year").format("YYYY");var a=this.$moment(this.year).format("YYYY-MM-DD");this.getWorkDataList(this.activeTab,a,"county")}},getWorkDataList:function(t,a,e){var i=this,s={username:"api",password:"a123456b",time_type:t,time:a,rank_type:e};h["a"].get("https://api-dx-smart-city.airqualitychina.cn:9998/v1/dashboard/cmd/ranks",{params:{json:s}}).then((function(t){2e3===t.data.code&&(i.tableData=t.data.result)}))}}},b=f,y=(e("f99b"),Object(d["a"])(b,i,s,!1,null,null,null));a["default"]=y.exports},f99b:function(t,a,e){"use strict";e("0da2")}}]);
//# sourceMappingURL=chunk-cfbfc5ba.d9a63c77.js.map