(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0418":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLeft,expression:"isLeft"}],staticClass:"header-button is-left"},[s("i",{staticClass:"fa fa-chevron-left"}),s("button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])]),s("h1",{staticClass:"header-title"},[t._v(t._s(t.title))])])},n=[],r={name:"Header",props:{title:String,isLeft:{type:Boolean,default:!1}}},i=r,o=(s("732f"),s("2877")),c=Object(o["a"])(i,a,n,!1,null,"2ed00b56",null);e["a"]=c.exports},"08d8":function(t,e,s){"use strict";var a=s("501b"),n=s.n(a);n.a},"0c85":function(t,e,s){},"0e45":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"addAddress"},[s("Header",{attrs:{isLeft:!0,title:t.title}}),s("div",{staticClass:"viewbody"},[s("div",{staticClass:"content"},[s("FormBlock",{attrs:{label:"联系人",placeholder:"姓名",sexs:t.sexs,sex:t.addressInfo.sex},on:{checkSex:t.checkSex},model:{value:t.addressInfo.name,callback:function(e){t.$set(t.addressInfo,"name",e)},expression:"addressInfo.name"}}),s("FormBlock",{attrs:{label:"电话",placeholder:"手机号码"},model:{value:t.addressInfo.phone,callback:function(e){t.$set(t.addressInfo,"phone",e)},expression:"addressInfo.phone"}}),s("FormBlock",{attrs:{label:"地址",placeholder:"小区/写字楼/学校楼",icon:"angle-right"},on:{click:function(e){t.showSearch=!0}},model:{value:t.addressInfo.address,callback:function(e){t.$set(t.addressInfo,"address",e)},expression:"addressInfo.address"}}),s("FormBlock",{attrs:{label:"门牌号",placeholder:"10号楼5单元404",icon:"edit",textarea:"textarea"},model:{value:t.addressInfo.bottom,callback:function(e){t.$set(t.addressInfo,"bottom",e)},expression:"addressInfo.bottom"}}),s("div",{staticClass:"formblock"},[s("div",{staticClass:"label-wrap"},[t._v("标签")]),s("TabTag",{attrs:{tags:t.tags,selectTag:t.addressInfo.tag},on:{checkTag:t.checkTag}})],1)],1),s("div",{staticClass:"form-button-wrap"},[s("button",{staticClass:"form-button",on:{click:t.handleSave}},[t._v("确定")])])]),s("AddressSearch",{attrs:{showSearch:t.showSearch,addressInfo:t.addressInfo},on:{close:function(e){t.showSearch=!1}}})],1)},n=[],r=(s("7f7f"),s("0418")),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"formblock"},[s("div",{staticClass:"label-wrap"},[t._v(t._s(t.label))]),s("div",{staticClass:"input-group-wrap",on:{click:function(e){return t.$emit("click")}}},[s("div",{staticClass:"input-wrap"},[t.textarea?s("textarea",{attrs:{type:t.type,placeholder:t.placeholder,rows:"2",maxlength:"100"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}):s("input",{attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t.icon?s("i",{class:"fa fa-"+t.icon}):t._e()]),t.sexs?s("TabTag",{attrs:{tags:t.sexs,selectTag:t.sex},on:{checkTag:t.checkTag}}):t._e()],1)])},o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-wrap"},t._l(t.tags,(function(e,a){return s("span",{key:a,staticClass:"form-span",class:{checked:t.selectTag==e},on:{click:function(s){return t.$emit("checkTag",e)}}},[t._v(t._s(e))])})),0)},l=[],d={name:"TabTag",props:{tags:Array,selectTag:String}},u=d,f=(s("d36e"),s("2877")),p=Object(f["a"])(u,c,l,!1,null,"ceb40fa6",null),h=p.exports,v={name:"FormBlock",props:{type:{type:String,default:"text"},label:String,placeholder:String,value:String,icon:String,textarea:String,sexs:Array,sex:String},components:{TabTag:h},methods:{checkTag:function(t){this.$emit("checkSex",t)}}},m=v,_=(s("1008"),Object(f["a"])(m,i,o,!1,null,"77317f4c",null)),b=_.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showSearch?s("div",{staticClass:"addressSearch"},[s("div",{staticClass:"search-view"},[s("div",{staticClass:"search-box"},[s("div",{staticClass:"search-box-input"},[s("i",{staticClass:"fa fa-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_address,expression:"search_address"}],attrs:{type:"text",placeholder:"请输入小区/写字楼/学校等"},domProps:{value:t.search_address},on:{input:function(e){e.target.composing||(t.search_address=e.target.value)}}})]),s("button",{staticClass:"search-box-btn",on:{click:function(e){return t.$emit("close")}}},[t._v("取消")])]),s("ul",{staticClass:"search-list"},t._l(t.areaList,(function(e,a){return s("li",{key:a,staticClass:"search-row",on:{click:function(s){return t.selectAddress(e)}}},[s("p",{staticClass:"search-row-title"},[t._v(t._s(e.name))]),s("p",{staticClass:"search-row-location"},[t._v(t._s(e.district)+t._s(e.address))])])})),0)])]):t._e()},C=[],I=(s("386d"),{name:"AddressSearch",data:function(){return{search_address:"",areaList:[]}},props:{showSearch:Boolean,addressInfo:Object},watch:{search_address:function(t){this.searchPlace(t)}},computed:{city:function(){return this.$store.getters.location.addressComponent.city||this.$store.getters.location.addressComponent.province}},methods:{searchPlace:function(t){var e=this;AMap.plugin("AMap.Autocomplete",(function(){var s={city:e.city},a=new AMap.Autocomplete(s);a.search(t,(function(t,s){console.log(s),e.areaList=s.tips}))}))},selectAddress:function(t){this.addressInfo.address=t.name+t.district+t.address,this.$emit("close")}}}),k=I,x=(s("5b2c"),Object(f["a"])(k,g,C,!1,null,"1b051325",null)),y=x.exports,w=s("76a0"),$={name:"AddAddress",data:function(){return{title:"",tags:["家","学校","公司"],sexs:["先生","女士"],addressInfo:{},showSearch:!1}},beforeRouteEnter:function(t,e,s){s((function(e){e.title=t.params.title,e.addressInfo=t.params.addressInfo}))},components:{Header:r["a"],FormBlock:b,TabTag:h,AddressSearch:y},methods:{checkTag:function(t){this.addressInfo.tag=t},checkSex:function(t){this.addressInfo.sex=t},handleSave:function(){this.addressInfo.name?this.addressInfo.phone?this.addressInfo.address?"添加地址"==this.title?this.addAddress():this.editAddress():this.showMsg("请输入收货地址"):this.showMsg("请输入手机号"):this.showMsg("请输入联系人")},showMsg:function(t){Object(w["Toast"])({message:t,position:"bottom",duration:2e3})},addAddress:function(){var t=this;this.$axios.post("/api/user/add_address/".concat(localStorage.ele_token),this.addressInfo).then((function(e){t.$store.getters.userInfo||t.$stroe.dispatch("setUserInfo",t.addressInfo),t.$router.push("myAddress")})).catch((function(t){return console.log(t)}))},editAddress:function(){var t=this;this.$axios.post("/api/user/edit_address/".concat(localStorage.ele_token,"/").concat(this.addressInfo._id),this.addressInfo).then((function(e){t.$router.push("/myAddress")}))}}},S=$,A=(s("d1ed"),Object(f["a"])(S,a,n,!1,null,"28f90093",null));e["default"]=A.exports},"0f76":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orderInfo"},[s("Header",{attrs:{title:"订单详情",isLeft:!0}}),t.orderDetail?s("div",{staticClass:"view-body"},[t._m(0),s("div",{staticClass:"restaurant-card"},[t.orderDetail.orderInfo?s("CartGroup",{attrs:{orderInfo:t.orderDetail.orderInfo,totalPrice:t.orderDetail.totalPrice}}):t._e()],1),s("div",{staticClass:"detail-card"},[s("div",{staticClass:"title"},[t._v("配送信息")]),s("ul",{staticClass:"card-list"},[s("li",{staticClass:"list-item"},[s("span",[t._v("送达时间:")]),s("div",[t._v(t._s(t.orderDetail.date))])]),s("li",{staticClass:"list-item"},[s("span",[t._v("送货地址:")]),s("div",{staticClass:"content"},[s("span",[t._v(t._s(t.orderDetail.userInfo.name)+t._s(t.orderDetail.userInfo.sex))]),s("span",[t._v(t._s(t.orderDetail.userInfo.phone))]),s("span",[t._v(t._s(t.orderDetail.userInfo.address)+t._s(t.orderDetail.userInfo.bottom))])])])])]),s("div",{staticClass:"detail-card"},[s("div",{staticClass:"title"},[t._v("订单信息")]),s("ul",{staticClass:"card-list"},[s("li",{staticClass:"list-item"},[s("span",[t._v("订单号:")]),t._v("\n                    "+t._s(t.orderDetail._id)+"\n                ")]),t._m(1),s("li",{staticClass:"list-item"},[s("span",[t._v("下单时间:")]),t._v("\n                    "+t._s(t.orderDetail.date)+"\n                ")]),t.orderDetail.remarkInfo?s("li",{staticClass:"list-item"},[s("span",[t._v("订单备注:")]),s("span",{staticClass:"remark"},[t._v("\n                        "+t._s(t.orderDetail.remarkInfo.remark)+" \\\n                        "+t._s(t.orderDetail.remarkInfo.tableware)+"\n                    ")])]):t._e()])])]):t._e()],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status-head"},[s("div",{staticClass:"status-text"},[t._v("订单已送达")]),s("div",{staticClass:"status-title"},[t._v("感谢您对本店铺的信任, 期待再次光临")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-item"},[s("span",[t._v("支付方式:")]),t._v("\n                    在线支付\n                ")])}],r=s("0418"),i=s("df23"),o={data:function(){return{orderDetail:null}},beforeRouteEnter:function(t,e,s){s((function(e){e.orderDetail=t.params}))},components:{Header:r["a"],CartGroup:i["a"]}},c=o,l=(s("7797"),s("2877")),d=Object(l["a"])(c,a,n,!1,null,"d45a176e",null);e["default"]=d.exports},1008:function(t,e,s){"use strict";var a=s("0c85"),n=s.n(a);n.a},"11e9":function(t,e,s){var a=s("52a7"),n=s("4630"),r=s("6821"),i=s("6a99"),o=s("69a8"),c=s("c69a"),l=Object.getOwnPropertyDescriptor;e.f=s("9e1e")?l:function(t,e){if(t=r(t),e=i(e,!0),c)try{return l(t,e)}catch(s){}if(o(t,e))return n(!a.f.call(t,e),t[e])}},"16c2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pay"},[s("Header",{attrs:{title:"在线支付"}}),t.orderInfo?s("div",{staticClass:"main"},[s("div",{staticClass:"tip"},[s("p",{staticClass:"countdown-title"},[t._v("支付剩余时间")]),s("h3",{staticClass:"countdown-text"},[t._v(t._s(t.countDown))])]),s("section",{staticClass:"home"},[s("ul",{staticClass:"list info-list"},[s("li",[s("span",{staticClass:"order-name"},[t._v(t._s(t.orderInfo.shopInfo.name))]),s("span",{staticClass:"text-highlight"},[t._v("¥"+t._s(t.totalPrice))])])]),s("div",{staticClass:"title"},[t._v("在线支付")]),t._m(0)]),s("button",{staticClass:"btn-submit",attrs:{disabled:t.timeOut},on:{click:t.pay}},[t._v("确认支付")])]):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"list payment-list"},[a("li",{staticClass:"payment-list-item"},[a("div",{staticClass:"icon"},[a("img",{attrs:{src:s("68de"),alt:""}}),a("span",[t._v("微信")])]),a("i",{staticClass:"fa fa-check-circle selected"})])])}],r=(s("6b54"),s("0418")),i={name:"Pay",data:function(){return{countDown:"00:15:00",timer:null,timeOut:!1}},beforeRouteEnter:function(t,e,s){s((function(t){t.countTimeDown(),t.addOrder()}))},components:{Header:r["a"]},computed:{orderInfo:function(){return this.$store.getters.orderInfo},totalPrice:function(){return this.$store.getters.totalPrice},userInfo:function(){return this.$store.getters.userInfo},remarkInfo:function(){return this.$store.getters.remarkInfo}},methods:{countTimeDown:function(){var t=this,e=14,s=59;this.timer=setInterval((function(){if(s--,"00"==s&&"00"==e)return t.countDown="订单已超时",clearInterval(t.timer),void(t.timeOut=!0);"00"==s&&(s=59,e--),e<10&&(e="0"+e),s<10&&(s="0"+s),t.countDown="00:"+e+":"+s}),1e3)},pay:function(){var t=this,e={body:"米修在线",out_trade_no:(new Date).getTime().toString(),total_fee:1};alert("进入到pay方法中"),fetch("http://www.thenewstep.cn/wxzf/example/jsapi.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){t.onBridgeReady(e)})).catch((function(t){alert("请求失败")}))},onBridgeReady:function(t){WeixinJSBridge.invoke("getBrandWCPayRequest",t,(function(t){t.err_msg}))},addOrder:function(){var t=this,e={orderInfo:this.orderInfo,totalPrice:this.totalPrice,userInfo:this.userInfo,remarkInfo:this.remarkInfo};this.$axios.post("/api/user/add_order/".concat(localStorage.ele_token),e).then((function(e){t.$router.push("/order")}))}}},o=i,c=(s("f488"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,"2e4b5c98",null);e["default"]=l.exports},"21b7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"remark"},[s("Header",{attrs:{isLeft:!0,title:"订单备注"}}),s("div",{staticClass:"view-body"},[s("section",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"填写额外对餐厅或骑手小哥备注的信息",maxlength:"100"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),s("div",{staticClass:"switch"},t._l(t.radioItem,(function(e,a){return s("span",{key:a,staticClass:"switch-item item-line",class:{selected:e.select},on:{click:function(s){return t.handleSelect(e)}}},[t._v(t._s(e.name))])})),0),t._l(t.switchItem,(function(e,a){return s("div",{key:a,staticClass:"switch"},[s("span",{staticClass:"switch-item",class:{selected:e.select},on:{click:function(t){e.select=!e.select}}},[t._v(t._s(e.name))])])}))],2),s("button",{staticClass:"btn-submit",on:{click:t.submitClick}},[t._v("确定")])])],1)},n=[],r=(s("7f7f"),s("ac6a"),s("0418")),i={name:"Remark",data:function(){return{radioItem:[{select:!1,name:"不要辣"},{select:!1,name:"少点辣"},{select:!1,name:"多点辣"}],switchItem:[{select:!1,name:"不要香菜"},{select:!1,name:"不要洋葱"},{select:!1,name:"多点醋"},{select:!1,name:"多点葱"}],text:""}},components:{Header:r["a"]},methods:{handleSelect:function(t){this.radioItem.forEach((function(t){t.select=!1})),t.select=!0},submitClick:function(){var t="";this.radioItem.forEach((function(e){e.select&&(t+=e.name+",")})),this.switchItem.forEach((function(e){e.select&&(t+=e.name+",")})),t+=this.text,this.$store.dispatch("setRemarkInfo",{tableware:this.$store.getters.remarkInfo.tableware,remark:t}),this.$router.go(-1)}}},o=i,c=(s("c451"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,"92c52308",null);e["default"]=l.exports},"2f48":function(t,e,s){"use strict";var a=s("7e19"),n=s.n(a);n.a},3846:function(t,e,s){s("9e1e")&&"g"!=/./g.flags&&s("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:s("0bfb")})},"386d":function(t,e,s){"use strict";var a=s("cb7c"),n=s("83a1"),r=s("5f1b");s("214f")("search",1,(function(t,e,s,i){return[function(s){var a=t(this),n=void 0==s?void 0:s[e];return void 0!==n?n.call(s,a):new RegExp(s)[e](String(a))},function(t){var e=i(s,t,this);if(e.done)return e.value;var o=a(t),c=String(this),l=o.lastIndex;n(l,0)||(o.lastIndex=0);var d=r(o,c);return n(o.lastIndex,l)||(o.lastIndex=l),null===d?-1:d.index}]}))},"501b":function(t,e,s){},5087:function(t,e,s){},5495:function(t,e,s){},"5b2c":function(t,e,s){"use strict";var a=s("5495"),n=s.n(a);n.a},"5dbc":function(t,e,s){var a=s("d3f4"),n=s("8b97").set;t.exports=function(t,e,s){var r,i=e.constructor;return i!==s&&"function"==typeof i&&(r=i.prototype)!==s.prototype&&a(r)&&n&&n(t,r),t}},"68de":function(t,e,s){t.exports=s.p+"img/wechart.0055285e.jpg"},"691d":function(t,e,s){"use strict";var a=s("f326"),n=s.n(a);n.a},"6b54":function(t,e,s){"use strict";s("3846");var a=s("cb7c"),n=s("0bfb"),r=s("9e1e"),i="toString",o=/./[i],c=function(t){s("2aba")(RegExp.prototype,i,t,!0)};s("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?c((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?n.call(t):void 0)})):o.name!=i&&c((function(){return o.call(this)}))},"732f":function(t,e,s){"use strict";var a=s("e879"),n=s.n(a);n.a},"76a4":function(t,e,s){},7797:function(t,e,s){"use strict";var a=s("ceeb"),n=s.n(a);n.a},7911:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"myAddress"},[s("Header",{attrs:{isLeft:!0,title:t.title}}),s("div",{staticClass:"address-view"},t._l(t.allAddress,(function(e,a){return s("div",{key:a,staticClass:"address-card"},[s("div",{staticClass:"address-card-select"},[t.selectIndex==a?s("i",{staticClass:"fa fa-check-circle"}):t._e()]),s("div",{staticClass:"address-card-body",on:{click:function(s){return t.setAddressInfo(e,a)}}},[s("p",{staticClass:"address-card-title"},[s("span",{staticClass:"username"},[t._v(t._s(e.name))]),e.sex?s("span",{staticClass:"gender"},[t._v(t._s(e.sex))]):t._e(),s("span",{staticClass:"phone"},[t._v(t._s(e.phone))])]),s("p",{staticClass:"address-card-address"},[e.tag?s("span",{staticClass:"tag"},[t._v("\n\t\t\t\t\t\t"+t._s(e.tag)+"\n\t\t\t\t\t")]):t._e(),s("span",{staticClass:"address-text"},[t._v("\n\t\t\t\t\t\t"+t._s(e.address)+"\n\t\t\t\t\t")])])]),s("div",{staticClass:"address-card-edit"},[s("i",{staticClass:"fa fa-edit",on:{click:function(s){return t.handleEdit(e)}}}),s("i",{staticClass:"fa fa-close",on:{click:function(s){return t.handleDelete(e,a)}}})])])})),0),s("div",{staticClass:"address-view-bottom",on:{click:t.addAddress}},[s("i",{staticClass:"fa fa-plus-circle"}),s("span",[t._v("新增收货地址")])])],1)},n=[],r=s("0418"),i={name:"MyAddress",data:function(){return{title:"我的地址",allAddress:[],selectIndex:0}},beforeRouteEnter:function(t,e,s){s((function(t){return t.getData()}))},components:{Header:r["a"]},methods:{addAddress:function(){this.$router.push({name:"addAddress",params:{title:"添加地址",addressInfo:{name:"",sex:"",phone:"",address:"",bottom:"",tag:""}}})},getData:function(){var t=this;this.$axios.get("/api/user/user_info/".concat(localStorage.ele_token)).then((function(e){t.allAddress=e.data.myAddress}))},handleEdit:function(t){this.$router.push({name:"addAddress",params:{title:"编辑地址",addressInfo:t}})},handleDelete:function(t,e){var s=this;this.$axios.delete("/api/user/address/".concat(localStorage.ele_token,"/").concat(t._id)).then((function(t){s.allAddress.splice(e,1)}))},setAddressInfo:function(t,e){this.selectIndex=e,this.$store.dispatch("setUserInfo",t),this.$router.push("/settlement")}}},o=i,c=(s("691d"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,"547c6864",null);e["default"]=l.exports},"7a4b":function(t,e,s){"use strict";var a=s("fa72"),n=s.n(a);n.a},"7e19":function(t,e,s){},"7f7f":function(t,e,s){var a=s("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in n||s("9e1e")&&a(n,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"835d":function(t,e,s){},8380:function(t,e,s){"use strict";var a=s("5087"),n=s.n(a);n.a},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},8450:function(t,e,s){},"89ba":function(t,e,s){},"8b97":function(t,e,s){var a=s("d3f4"),n=s("cb7c"),r=function(t,e){if(n(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=s("9b43")(Function.call,s("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,s){return r(t,s),e?t.__proto__=s:a(t,s),t}}({},!1):void 0),check:r}},9093:function(t,e,s){var a=s("ce10"),n=s("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,n)}},9155:function(t,e,s){},a55b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[t._m(0),s("InputGroup",{attrs:{type:"number",placeholder:"手机号",btnTitle:t.btnTitle,disabled:!0,error:t.errors.phone},on:{btnClick:t.getVerifyCode},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("InputGroup",{attrs:{type:"number",placeholder:"验证码",error:t.errors.code},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}}),t._m(1),s("div",{staticClass:"login_btn"},[s("button",{attrs:{disabled:t.isClick},on:{click:t.handleLogin}},[t._v("登录")])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:s("b640"),alt:"my logo"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login_des"},[s("p",[t._v("\n      新用户登录即自动注册，表示已同意\n      "),s("span",[t._v("《用户服务协议》")])])])}],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text_group"},[s("div",{staticClass:"input_group",class:{"is-invalid":t.error}},[s("input",{attrs:{type:t.type,placeholder:t.placeholder,name:t.name,disabled:"disabled"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t.btnTitle?s("button",{attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("btnClick")}}},[t._v(t._s(t.btnTitle))]):t._e()]),t.error?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.error))]):t._e()])},i=[],o={name:"inputGroup",props:{type:{type:String,default:"text"},value:String,placeholder:String,name:String,btnTitle:String,disabled:Boolean,error:String}},c=o,l=(s("badf"),s("2877")),d=Object(l["a"])(c,r,i,!1,null,"4ee7fb0e",null),u=d.exports,f={name:"Login",components:{InputGroup:u},data:function(){return{phone:"17718372770",verifyCode:"002158",errors:{},btnTitle:"获取验证码",disabled:!1}},computed:{isClick:function(){return!this.phone||!this.verifyCode}},methods:{handleLogin:function(){var t=this;this.errors={},this.$axios.post("/api/posts/sms_back",{phone:this.phone,code:this.verifyCode}).then((function(e){localStorage.setItem("ele_token",e.data.user._id),t.$router.push("/")})).catch((function(e){t.errors={code:e.response.data.msg}}))},getVerifyCode:function(){this.verifyCodePhone()&&(this.verifyCodeTime(),this.$axios.post("/api/posts/sms_send",{tpl_id:"195347",key:"050c230234c09f7495602fb37c37ed5f",phone:this.phone}).then((function(t){console.log(t)})))},verifyCodePhone:function(){return this.phone?/^1[345678]\d{9}$/.test(this.phone)?(this.errors={},!0):(this.errors={phone:"请填写合法的手机号"},!1):(this.errors={phone:"手机号不能为空"},!1)},verifyCodeTime:function(){var t=this,e=60,s=setInterval((function(){0==e?(t.btnTitle="获取验证码",clearInterval(s),t.disabled=!1):(t.btnTitle=e+"秒后重试",t.disabled=!0,e--)}),1e3)}}},p=f,h=(s("ab53"),Object(l["a"])(p,a,n,!1,null,"2b67a300",null));e["default"]=h.exports},aa77:function(t,e,s){var a=s("5ca1"),n=s("be13"),r=s("79e5"),i=s("fdef"),o="["+i+"]",c="​",l=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),u=function(t,e,s){var n={},o=r((function(){return!!i[t]()||c[t]()!=c})),l=n[t]=o?e(f):i[t];s&&(n[s]=l),a(a.P+a.F*o,"String",n)},f=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(d,"")),t};t.exports=u},ab53:function(t,e,s){"use strict";var a=s("fe18"),n=s.n(a);n.a},b640:function(t,e,s){t.exports=s.p+"img/logo.87ab03f8.jpg"},badf:function(t,e,s){"use strict";var a=s("d94c"),n=s.n(a);n.a},bc78:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settlement"},[s("Header",{attrs:{isLeft:!0,title:"确认订单"}}),t.orderInfo?s("div",{staticClass:"view-body"},[s("div",[s("section",{staticClass:"cart-address"},[s("p",{staticClass:"title"},[t._v("\n                    订单配送至\n                    "),t.userInfo&&t.userInfo.tag?s("span",{staticClass:"address-tag"},[t._v(t._s(t.userInfo.tag))]):t._e()]),s("p",{staticClass:"address-detail"},[t.userInfo?s("span",{on:{click:function(e){return t.$router.push("/myAddress")}}},[t._v(t._s(t.userInfo.address)+t._s(t.userInfo.bottom))]):s("span",[t.haveAddress?s("span",{on:{click:function(e){return t.$router.push("/myAddress")}}},[t._v("选择收货地址")]):s("span",{on:{click:t.addAddress}},[t._v("新增收货地址")])]),s("i",{staticClass:"fa fa-angle-right"})]),t.userInfo?s("h2",{staticClass:"address-name"},[s("span",[t._v(t._s(t.userInfo.name))]),t.userInfo.sex?s("span",[t._v("("+t._s(t.userInfo.sex)+")")]):t._e(),s("span",{staticClass:"phone"},[t._v(t._s(t.userInfo.phone))])]):t._e()]),s("Delivery",{attrs:{shopInfo:t.orderInfo.shopInfo}}),s("CartGroup",{attrs:{orderInfo:t.orderInfo,totalPrice:t.totalPrice}}),s("section",{staticClass:"checkout-section"},[s("CartItem",{attrs:{title:"餐具份数",subHead:t.remarkInfo.tableware||"未选择"},on:{click:function(e){t.showTableware=!0}}}),s("CartItem",{attrs:{title:"订单备注",subHead:t.remarkInfo.remark||"口味 偏好"},on:{click:function(e){return t.$router.push("/remark")}}}),s("CartItem",{attrs:{title:"发票信息",subHead:"不需要开发票"}})],1),s("Tableware",{attrs:{isShow:t.showTableware},on:{close:function(e){t.showTableware=!1}}})],1)]):t._e(),s("footer",{staticClass:"action-bar"},[s("span",[t._v("¥"+t._s(t.totalPrice))]),s("button",{on:{click:function(e){return t.handlePay()}}},[t._v("去支付")])])],1)},n=[],r=s("0418"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checkout-section"},[s("div",{staticClass:"delivery"},[s("div",{staticClass:"deliver-left"},[s("span",{staticClass:"delivery-time"},[t._v("送达时间")]),t.shopInfo.delivery_mode.text?s("div",{staticClass:"delivery-extra"},[s("span",[t._v(t._s(t.shopInfo.delivery_mode.text))])]):t._e()]),s("div",{staticClass:"delivery-right"},[s("span",{staticClass:"delivery-select"},[t._v("尽快送达("+t._s(t.deliveryTime(t.shopInfo.order_lead_time))+" 送达) ")]),s("i",{staticClass:"fa fa-angle-right"})])]),t._m(0)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-item"},[s("div",{staticClass:"cart-item-title"},[t._v("支付方式")]),s("div",{staticClass:"pay-text"},[t._v("在线支付")])])}],c={name:"Delivery",props:{shopInfo:Object},methods:{deliveryTime:function(t){var e=new Date;return e.setMinutes(e.getMinutes()+t),e.getHours()+":"+e.getMinutes()}}},l=c,d=(s("dea9"),s("2877")),u=Object(d["a"])(l,i,o,!1,null,"cd2b4b14",null),f=u.exports,p=s("df23"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-item",on:{click:function(e){return t.$emit("click")}}},[s("div",{staticClass:"cart-item-title"},[t._v(t._s(t.title))]),s("div",{staticClass:"cart-item-right"},[s("span",[t._v(t._s(t.subHead))]),s("i",{staticClass:"fa fa-angle-right"})])])},v=[],m={name:"CartItem",props:{title:String,subHead:String}},_=m,b=(s("2f48"),Object(d["a"])(_,h,v,!1,null,"79cb22fe",null)),g=b.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",[t.isShow?s("div",{staticClass:"tableware"},[s("div",{staticClass:"actions-sheet"},[s("i",{staticClass:"fa fa-remove",on:{click:function(e){return t.$emit("close")}}}),s("h2",{staticClass:"actions-sheet-header"},[s("span",{staticClass:"tag"}),s("span",{staticClass:"title"},[t._v("餐具份数")]),s("span",{staticClass:"tag"})]),s("ul",t._l(t.tablewareList,(function(e,a){return s("li",{key:a,class:{selected:t.selectedItem==e},on:{click:function(s){return t.selectedClick(e)}}},[t._v(t._s(e))])})),0)])]):t._e()])},I=[],k={name:"Tableware",data:function(){return{tablewareList:["1","2","3","4","5","6"],selectedItem:""}},props:{isShow:Boolean},methods:{selectedClick:function(t){console.log(t),this.selectedItem=t,this.$store.dispatch("setRemarkInfo",{tableware:t+"份餐具",remark:this.$store.getters.remarkInfo.remark}),this.$emit("close")}}},x=k,y=(s("fdd1"),Object(d["a"])(x,C,I,!1,null,"0513c015",null)),w=y.exports,$=s("76a0"),S={name:"Settlement",components:{Header:r["a"],Delivery:f,CartGroup:p["a"],CartItem:g,Tableware:w},computed:{userInfo:function(){return this.$store.getters.userInfo},orderInfo:function(){return this.$store.getters.orderInfo},totalPrice:function(){return this.$store.getters.totalPrice},remarkInfo:function(){return this.$store.getters.remarkInfo}},data:function(){return{haveAddress:!1,showTableware:!1}},beforeRouteEnter:function(t,e,s){s((function(t){t.userInfo||t.getData()}))},methods:{addAddress:function(){this.$router.push({name:"addAddress",params:{title:"添加地址",addressInfo:{name:"",sex:"",phone:"",address:"",bottom:"",tag:""}}})},getData:function(){var t=this;this.$axios("/api/user/user_info/".concat(localStorage.ele_token)).then((function(e){e.data.myAddress.length>0?t.haveAddress=!0:t.haveAddress=!1}))},handlePay:function(){this.userInfo||Object($["Toast"])({message:"请选择收获地址",position:"bottom",duration:2e3}),this.$router.push("/pay")}}},A=S,T=(s("8380"),Object(d["a"])(A,a,n,!1,null,"7c1fdf66",null));e["default"]=T.exports},c451:function(t,e,s){"use strict";var a=s("f70c"),n=s.n(a);n.a},c5f6:function(t,e,s){"use strict";var a=s("7726"),n=s("69a8"),r=s("2d95"),i=s("5dbc"),o=s("6a99"),c=s("79e5"),l=s("9093").f,d=s("11e9").f,u=s("86cc").f,f=s("aa77").trim,p="Number",h=a[p],v=h,m=h.prototype,_=r(s("2aeb")(m))==p,b="trim"in String.prototype,g=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():f(e,3);var s,a,n,r=e.charCodeAt(0);if(43===r||45===r){if(s=e.charCodeAt(2),88===s||120===s)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+e}for(var i,c=e.slice(2),l=0,d=c.length;l<d;l++)if(i=c.charCodeAt(l),i<48||i>n)return NaN;return parseInt(c,a)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof h&&(_?c((function(){m.valueOf.call(s)})):r(s)!=p)?i(new v(g(e)),s,h):g(e)};for(var C,I=s("9e1e")?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;I.length>k;k++)n(v,C=I[k])&&!n(h,C)&&u(h,C,d(v,C));h.prototype=m,m.constructor=h,s("2aba")(a,p,h)}},ceeb:function(t,e,s){},d1ed:function(t,e,s){"use strict";var a=s("d3f1"),n=s.n(a);n.a},d36e:function(t,e,s){"use strict";var a=s("8450"),n=s.n(a);n.a},d3f1:function(t,e,s){},d504:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("router-view"),s("TabBar",{attrs:{data:t.tabbarData}})],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabbar"},t._l(t.data,(function(e,a){return s("router-link",{key:a,staticClass:"tab-item",attrs:{to:e.path,"active-class":"is-selected"}},[s("div",{staticClass:"tab-item-icon"},[s("i",{class:"fa fa-"+e.icon})]),s("div",{staticClass:"tab-item-label"},[t._v(t._s(e.title))])])})),1)},i=[],o={name:"TabBar",props:{data:Array}},c=o,l=(s("08d8"),s("2877")),d=Object(l["a"])(c,r,i,!1,null,"7d2c7928",null),u=d.exports,f={name:"Index",components:{TabBar:u},data:function(){return{tabbarData:[{title:"首页",icon:"home",path:"/home"},{title:"订单",icon:"file-text-o",path:"/order"},{title:"我的",icon:"user",path:"/me"}]}}},p=f,h=(s("f725"),Object(l["a"])(p,a,n,!1,null,"0da4ca40",null));e["default"]=h.exports},d94c:function(t,e,s){},dea9:function(t,e,s){"use strict";var a=s("9155"),n=s.n(a);n.a},df23:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checkout-section cart-group"},[s("h3",[t._v(t._s(t.orderInfo.shopInfo.name))]),s("ul",[t._l(t.orderInfo.selectFoods,(function(e,a){return s("li",{key:a},[s("img",{attrs:{src:e.image_path,alt:""}}),s("div",{staticClass:"cart-group-info"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v("x "+t._s(e.count))]),s("span",[t._v(t._s(e.activity.fixed_price))])])])})),s("li",{staticClass:"cart-group-total"},[s("div",[t._v("配送费")]),s("div",[t._v("¥"+t._s(t.orderInfo.shopInfo.float_delivery_fee))])]),s("li",{staticClass:"cart-group-total"},[s("div",{staticClass:"discounts"}),s("div",{staticClass:"subtotal"},[s("span",[t._v("小计 ¥")]),s("span",{staticClass:"price"},[t._v(t._s(t.totalPrice))])])])],2)])},n=[],r=(s("c5f6"),{name:"CartGroup",props:{totalPrice:Number,orderInfo:Object}}),i=r,o=(s("7a4b"),s("2877")),c=Object(o["a"])(i,a,n,!1,null,"770ecfc4",null);e["a"]=c.exports},e879:function(t,e,s){},f326:function(t,e,s){},f488:function(t,e,s){"use strict";var a=s("89ba"),n=s.n(a);n.a},f70c:function(t,e,s){},f725:function(t,e,s){"use strict";var a=s("835d"),n=s.n(a);n.a},fa72:function(t,e,s){},fdd1:function(t,e,s){"use strict";var a=s("76a4"),n=s.n(a);n.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe18:function(t,e,s){}}]);
//# sourceMappingURL=about.3a283909.js.map