(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65f4577d"],{"46a8":function(e,t,r){"use strict";r.d(t,"l",(function(){return n})),r.d(t,"h",(function(){return i})),r.d(t,"n",(function(){return a})),r.d(t,"j",(function(){return c})),r.d(t,"k",(function(){return u})),r.d(t,"i",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"r",(function(){return p})),r.d(t,"v",(function(){return f})),r.d(t,"u",(function(){return m})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return _})),r.d(t,"q",(function(){return j})),r.d(t,"y",(function(){return h})),r.d(t,"z",(function(){return b})),r.d(t,"e",(function(){return g})),r.d(t,"c",(function(){return y})),r.d(t,"p",(function(){return v})),r.d(t,"x",(function(){return w})),r.d(t,"o",(function(){return C})),r.d(t,"t",(function(){return O})),r.d(t,"w",(function(){return x})),r.d(t,"s",(function(){return T})),r.d(t,"f",(function(){return k})),r.d(t,"m",(function(){return I})),r.d(t,"g",(function(){return K}));var o=r("b775");function n(e){return Object(o["a"])({url:"/user/project/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/user/project/report/stats",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/user/project/report/situation",method:"get",params:e})}function c(e){return Object(o["a"])({url:"/user/project/report/position",method:"get",params:e})}function u(e){return Object(o["a"])({url:"/user/project/report/source",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/user/project/report/device",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/user/project/delete",method:"get",params:e})}function p(e){return Object(o["a"])({url:"/user/project/page",method:"get",params:e})}function f(e){return Object(o["a"])({url:"/project/template/type/list",method:"get",params:e})}function m(e){return Object(o["a"])({url:"/project/template/page",method:"get",params:e})}function d(e){return Object(o["a"])({url:"/user/project/create",method:"post",data:e})}function _(e){return Object(o["a"])({url:"/user/project/template/create/",method:"post",data:e})}function j(e){return Object(o["a"])({url:"/user/project/item/max-form-id",method:"get",params:e})}function h(e){return Object(o["a"])({url:"/user/project/update",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/user/project/item/update",method:"post",data:e})}function g(e){return Object(o["a"])({url:"/user/project/item/delete",method:"post",data:e})}function y(e){return Object(o["a"])({url:"/user/project/item/create",method:"post",data:e})}function v(e){return Object(o["a"])({url:"/user/project/item/list",method:"get",params:e})}function w(e){return Object(o["a"])({url:"/user/project/item/sort",method:"post",data:e})}function C(e){return Object(o["a"])({url:"/user/project/publish",method:"post",data:e})}function O(e){var t="/user/project/setting/"+e;return Object(o["a"])({url:t,method:"get"})}function x(e){return Object(o["a"])({url:"/user/project/setting/save",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/user/project/result/page",method:"get",params:e})}function k(e){return Object(o["a"])({url:"/user/project/result/export",method:"get",responseType:"blob",params:e})}function I(e,t){return Object(o["a"])({url:e,method:"post",data:t})}function K(e,t){return Object(o["a"])({url:e,method:"get",params:t})}},"5c9f":function(e,t,r){},7260:function(e,t,r){"use strict";r("5c9f")},"840a":function(e,t,r){},9977:function(e,t,r){var o={"./el-button.js":"aace","./el-checkbox-group.js":"9413","./el-input.js":"167d","./el-radio-group.js":"2cfa","./el-select.js":"7f29","./el-upload.js":"0f88"};function n(e){var t=i(e);return r(t)}function i(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id="9977"},ba0e:function(e,t,r){"use strict";r("840a")},bcc2:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return u}));r("d3b7"),r("159b"),r("b64b"),r("4ec9"),r("3ca3"),r("ddb0"),r("99af"),r("4e82");var o=r("2ef0"),n=r.n(o),i=r("7ce6");r("ed08");function a(e,t){var r={type:e.typeId,formItemId:e.__config__.formId,label:e.__config__.label,defaultValue:e.__config__.defaultValue,required:e.__config__.required,summation:e.__config__.summation,placeholder:e.placeholder,regList:e.__config__.regList,showLabel:e.__config__.showLabel,span:e.__config__.span,formItemName:e.__vModel__,jsonItemName:e.__config__.jsonItemName,projectKey:t},o={},i=s[e.typeId];return i&&(Object.keys(i).forEach((function(t){var r=n.a.get(e,i[t]);n.a.set(o,t,r)})),n.a.set(r,"expand",o)),r}var c=new Map;function u(e){var t=e.required,r=e.placeholder;t&&!r&&(e.placeholder="此题为必填项目"),!c.size>0&&n.a.concat(i["b"],i["c"]).forEach((function(e){c.set(e.typeId,e)}));var o=c.get(e.type),a=n.a.cloneDeep(o),u=s[e.type];return u&&Object.keys(u).forEach((function(t){var r=n.a.get(e.expand,t);n.a.set(a,u[t],r)})),a.sort=e.sort,a.typeId=e.type,a.__config__.span=e.span,a.__config__.formId=e.formItemId,a.__config__.label=e.label,a.__config__.required=e.required,a.__config__.regList=e.regList,a.__config__.showLabel=e.showLabel,a.__config__.jsonItemName=e.jsonItemName,e.defaultValue&&(e.defaultValue.json?a.__config__.defaultValue=JSON.parse(e.defaultValue.value):a.__config__.defaultValue=e.defaultValue.value),"el-upload"===a.__config__.tag&&(a.action=a.action+e.projectKey),a.regList=e.regList,a.placeholder=e.placeholder,a.__vModel__=e.formItemName,a}var s={1:{prepend:"__slot__.prepend",maxlength:"maxlength",append:"__slot__.append"},2:{minRows:"autosize.minRows",maxRows:"autosize.maxRows",maxlength:"maxlength"},4:{min:"min",max:"max",maxlength:"maxlength",step:"step","step-strictly":"step-strictly",precision:"precision","controls-position":"controls-position"},5:{options:"__slot__.options",filterable:"filterable",multiple:"multiple"},6:{options:"options",filterable:"filterable",multiple:"props.props.multiple"},7:{options:"__slot__.options",filterable:"filterable",multiple:"props.props.multiple"},8:{optionType:"__config__.optionType",size:"size",options:"__slot__.options",max:"max",min:"min"},9:{},10:{min:"min",max:"max",step:"step"},11:{},13:{dateType:"dateType",format:"format"},15:{max:"max"},17:{buttonText:"__config__.buttonText",showTip:"__config__.showTip",fileSize:"__config__.fileSize",sizeUnit:"__config__.sizeUnit",listType:"list-type",limit:"limit",multiple:"multiple"}}},ef084:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.createProjectLoading,expression:"createProjectLoading"}],staticClass:"template-preview-container"},[r("div",{staticClass:"back-view"},[r("el-button",{attrs:{size:"mini",round:""},on:{click:function(t){return e.$router.back(-1)}}},[r("i",{staticClass:"el-icon-arrow-left"}),e._v(" 返回 ")])],1),r("div",{staticClass:"template-preview-content"},[r("el-scrollbar",{staticStyle:{height:"90vh"}},[e.projectConfig.projectKey?r("project-form",{attrs:{"project-config":e.projectConfig},on:{submit:e.submitForm}}):e._e()],1),r("div",{staticStyle:{margin:"20px"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.createProjectByTemplate}},[e._v(" 使用该模板 ")])],1)],1)])},n=[],i=r("f18e"),a=r("46a8"),c={name:"TemplatePreview",components:{ProjectForm:i["default"]},props:{},data:function(){return{createProjectLoading:!1,projectConfig:{projectKey:"",preview:!1,projectKind:2,showBtns:!0}}},mounted:function(){this.projectConfig.projectKey=this.$route.query.key},methods:{createProjectByTemplate:function(){var e=this;this.createProjectLoading=!0,Object(a["b"])({key:this.projectConfig.projectKey}).then((function(t){e.createProjectLoading=!1,t.data&&e.$router.push({path:"/project/form",query:{key:t.data,active:1}})})).catch((function(t){console.log(t),e.createProjectLoading=!1}))},submitForm:function(){}}},u=c,s=(r("ba0e"),r("2877")),l=Object(s["a"])(u,o,n,!1,null,"67e0948c",null);t["default"]=l.exports},f18e:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"project-form",style:{backgroundColor:e.projectTheme.backgroundColor,background:e.projectTheme.backgroundImg?"url("+e.projectTheme.backgroundImg+")  no-repeat center":""}},[r("div",{},[r("div",{style:{textAlign:e.projectTheme.logoPosition}},[r("img",{staticClass:"logo-img",attrs:{src:e.projectTheme.logoImg}})]),e.projectTheme.headImgUrl?r("el-image",{staticStyle:{width:"100%"},attrs:{src:e.projectTheme.headImgUrl,fit:"scale-down"}}):e._e(),e.projectTheme.showTitle?r("h4",{staticClass:"form-name-text",staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.formConf.title)+" ")]):e._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:e.projectTheme.showDescribe,expression:"projectTheme.showDescribe"}],staticClass:"form-name-text",domProps:{innerHTML:e._s(e.formConf.description)}}),r("el-divider"),e.startParser?r("parser",{attrs:{"form-conf":e.formConf},on:{submit:e.submitForm}}):e._e()],1)])},n=[],i=(r("d81d"),r("b0c0"),r("a4d3"),r("e01a"),r("9f75")),a=r("bcc2"),c=r("46a8");window.onload=function(){document.addEventListener("touchstart",(function(e){e.touches.length>1&&e.preventDefault()})),document.addEventListener("gesturestart",(function(e){e.preventDefault()}))};var u={components:{Parser:i["a"]},props:{projectConfig:{projectKey:"",showBtns:!0,projectKind:1}},data:function(){return{startParser:!1,projectTheme:{headImgUrl:"",logoImg:"",showTitle:!0,showDescribe:!0},formConf:{fields:[],projectKey:"",projectKind:1,__methods__:{},formRef:"elForm",formModel:"formData",labelFormModel:"labelFormData",size:"small",labelPosition:"top",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0,resetBtn:!1,submitBtnText:"提交",submitBtnColor:"#205bb5",showNumber:!1,unFocusedComponentBorder:!0}}},computed:{},watch:{},beforeCreate:function(){document.querySelector("body").className="project-body"},created:function(){this.projectConfig&&this.projectConfig.projectKey?(this.formConf.projectKey=this.projectConfig.projectKey,this.projectConfig.projectKind&&(this.formConf.projectKind=this.projectConfig.projectKind)):this.$route.query.key&&(this.formConf.projectKey=this.$route.query.key,this.$route.query.kind&&(this.formConf.projectKind=this.$route.query.kind),this.formConf.formBtns=!0),this.formConf.size=window.innerWidth<480?"medium":"small"},mounted:function(){var e=this,t="/user/project/details/".concat(this.formConf.projectKey);2==this.formConf.projectKind&&(t="/project/template/details/".concat(this.formConf.projectKey)),Object(c["g"])(t).then((function(t){if(t.data){var r=1,o=t.data.projectItems.map((function(e){var t=Object(a["a"])(e);return t.serialNumber=r,r++,t}));if(e.formConf.fields=o,e.formConf.title=t.data.project.name,e.formConf.description=t.data.project.describe,e.formConf.description=t.data.project.describe,t.data.userProjectTheme){e.projectTheme=t.data.userProjectTheme;var n=t.data.userProjectTheme,i=n.submitBtnText,c=n.showNumber,u=n.btnsColor;i&&(e.formConf.submitBtnText=i),c&&(e.formConf.showNumber=c),u&&(e.formConf.submitBtnColor=u)}e.startParser=!0}}))},methods:{submitForm:function(e){this.$emit("submit",e)}}},s=u,l=(r("7260"),r("2877")),p=Object(l["a"])(s,o,n,!1,null,null,null);t["default"]=p.exports}}]);