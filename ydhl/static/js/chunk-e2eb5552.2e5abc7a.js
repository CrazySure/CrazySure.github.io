(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2eb5552"],{"0192":function(e,t,a){},"0f49":function(e,t,a){},"143a":function(e,t,a){"use strict";a("a7a8")},"1c98":function(e,t,a){},"1ee0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preview-container"},[e.projectConfig.projectKey?a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-mobile"}),e._v(" 手机 ")]),a("div",{staticClass:"preview-layer"},[a("div",{staticClass:"preview-bg"}),a("div",{staticClass:"preview-phone"},[a("iframe",{staticClass:"preview-html",attrs:{id:"preview-html",scrolling:"auto",name:"preview-html",frameborder:"0",src:e.mobilePreviewUrl}})])])]),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-monitor"}),e._v(" 电脑 ")]),a("el-scrollbar",{staticStyle:{height:"77vh"}},[e.projectConfig.projectKey?a("project-form",{attrs:{projectConfig:e.projectConfig}}):e._e()],1)],1)],1):e._e()],1)},o=[],n=(a("99af"),a("f18e")),l={name:"PreView",props:{projectKey:""},data:function(){return{mobilePreviewUrl:"",projectConfig:{projectKey:"",showBtns:!0}}},mounted:function(){var e=window.location.protocol+"//"+window.location.host;this.mobilePreviewUrl="".concat(e,"/project/view?key=").concat(this.projectKey),this.$set(this.projectConfig,"projectKey",this.projectKey)},components:{ProjectForm:n["default"]}},s=l,r=(a("6db6"),a("2877")),c=Object(r["a"])(s,i,o,!1,null,"16ec27ca",null);t["default"]=c.exports},2151:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{"overflow-y":"hidden!important"}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"justify"}},[a("el-col",{attrs:{offset:1,span:4}},[a("el-button",{attrs:{size:"mini",round:""},on:{click:function(t){return e.$router.back(-1)}}},[a("i",{staticClass:"el-icon-arrow-left"}),e._v(" 返回 ")])],1),a("el-col",{attrs:{span:10,offset:3}},[a("el-menu",{staticStyle:{"background-color":"transparent"},attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[e._v("编辑")]),a("el-menu-item",{attrs:{index:"2"}},[e._v("外观")]),a("el-menu-item",{attrs:{index:"3"}},[e._v("设置")]),a("el-menu-item",{attrs:{index:"4"}},[e._v("发布")]),a("el-menu-item",{attrs:{index:"5"}},[e._v("统计")])],1)],1)],1),e.projectKey?a("div",{staticStyle:{"overflow-y":"hidden"}},[1==e.activeIndex?a("editor",{attrs:{projectKey:e.projectKey,"is-edit":e.isEdit}}):e._e(),2==e.activeIndex?a("theme",{attrs:{projectKey:e.projectKey}}):e._e(),3==e.activeIndex?a("setting",{attrs:{projectKey:e.projectKey}}):e._e(),4==e.activeIndex?a("publish",{attrs:{projectKey:e.projectKey}}):e._e(),5==e.activeIndex?a("statistics",{attrs:{projectKey:e.projectKey}}):e._e()],1):e._e()],1)},o=[],n=a("d948"),l=a("a662"),s=a("3afc"),r=a("3cd9"),c=a("dd72"),u={components:{editor:n["default"],theme:l["default"],setting:s["default"],publish:r["default"],statistics:c["default"]},data:function(){return{activeIndex:"1",isEdit:!1,projectKey:""}},computed:{},watch:{},mounted:function(){this.projectKey=this.$route.query.key,this.isEdit=!!this.$route.query.active,this.$route.query.active&&(this.activeIndex=this.$route.query.active)},methods:{handleSelect:function(e,t){e&&(this.activeIndex=e)}}},d=u,p=(a("b2ec"),a("2877")),m=Object(p["a"])(d,i,o,!1,null,null,null);t["default"]=m.exports},"25c3":function(e,t,a){},"26ee":function(e,t,a){"use strict";a("89ed")},"2dd6":function(e,t,a){"use strict";a("66c3")},"2e65":function(e,t,a){"use strict";a("0192")},3442:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-dialog"},[a("el-dialog",e._g(e._b({attrs:{width:"980px","modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("div",{attrs:{slot:"title"},slot:"title"},[e._v(" 选择图标 "),a("el-input",{style:{width:"260px"},attrs:{size:"mini",placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),a("ul",{staticClass:"icon-ul"},e._l(e.iconList,(function(t){return a("li",{key:t,class:e.active===t?"active-item":"",on:{click:function(a){return e.onSelect(t)}}},[a("i",{class:t}),a("div",[e._v(e._s(t))])])})),0)])],1)},o=[],n=(a("d81d"),a("4de4"),a("d3b7"),a("cfcd")),l=n.map((function(e){return"el-icon-".concat(e)})),s={inheritAttrs:!1,props:["current"],data:function(){return{iconList:l,active:null,key:""}},watch:{key:function(e){this.iconList=e?l.filter((function(t){return t.indexOf(e)>-1})):l}},methods:{onOpen:function(){this.active=this.current,this.key=""},onClose:function(){},onSelect:function(e){this.active=e,this.$emit("select",e),this.$emit("update:visible",!1)}}},r=s,c=(a("7d30"),a("2877")),u=Object(c["a"])(r,i,o,!1,null,"70aa4df4",null);t["default"]=u.exports},"3afc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("el-form",{ref:"setting",attrs:{model:t.userProjectSettingData,rules:t.settingRules}},[i("el-row",{staticClass:"project-setting-container",attrs:{type:"flex",justify:"center",align:"top"}},[i("el-col",{staticClass:"project-setting-view",attrs:{span:5,offset:3}},[i("p",{staticClass:"project-setting-title"},[t._v(" 提交设置 ")]),i("p",{staticClass:"project-setting-label"},[t._v("提交后")]),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("显示提示图片")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:function(){e.userProjectSettingData.submitPromptImg=""}},model:{value:t.projectSetting.showPromptImg,callback:function(e){t.$set(t.projectSetting,"showPromptImg",e)},expression:"projectSetting.showPromptImg"}})],1)],1),t.projectSetting.showPromptImg?i("div",[i("div",{staticClass:"block"},[i("el-image",{staticClass:"submit-prompt-img",attrs:{src:t.userProjectSettingData.submitPromptImg,fit:"cover "}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1),i("el-upload",{ref:"logoUpload",attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PBG,.GIF,.BMP",headers:t.getUploadHeader,"on-success":t.uploadSubmitPromptHandle,action:t.getUploadUrl,"show-file-list":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},slot:"trigger"},[t._v("请上传提示图片 *")])],1)],1):t._e(),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("显示提示文字")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:function(){e.userProjectSettingData.submitPromptText="",e.saveUserProjectSetting()}},model:{value:t.projectSetting.showPromptText,callback:function(e){t.$set(t.projectSetting,"showPromptText",e)},expression:"projectSetting.showPromptText"}})],1)],1),t.projectSetting.showPromptText?i("el-row",[i("el-col",{staticClass:"setting-input",attrs:{span:20}},[i("el-input",{attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.submitPromptText,callback:function(e){t.$set(t.userProjectSettingData,"submitPromptText",e)},expression:"userProjectSettingData.submitPromptText"}})],1)],1):t._e(),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("跳转网页地址")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:function(){e.userProjectSettingData.submitJumpUrl="",e.saveUserProjectSetting()}},model:{value:t.projectSetting.showSubmitJumpUrl,callback:function(e){t.$set(t.projectSetting,"showSubmitJumpUrl",e)},expression:"projectSetting.showSubmitJumpUrl"}})],1)],1),t.projectSetting.showSubmitJumpUrl?i("el-row",[i("el-col",{staticClass:"setting-input",attrs:{span:20}},[i("el-input",{attrs:{"show-word-limit":!0,maxlength:200},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.submitJumpUrl,callback:function(e){t.$set(t.userProjectSettingData,"submitJumpUrl",e)},expression:"userProjectSettingData.submitJumpUrl"}})],1)],1):t._e(),t.projectSetting.showSubmitJumpUrl?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("设置为跳转地址")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.jumpUrl,callback:function(e){t.$set(t.userProjectSettingData,"jumpUrl",e)},expression:"userProjectSettingData.jumpUrl"}})],1)],1):t._e()],1),i("el-col",{staticClass:"project-setting-view",staticStyle:{"text-align":"center"},attrs:{span:6}},[i("p",{staticClass:"project-setting-title"},[t._v(" 回收设置 ")]),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("只在微信中填写")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.wxWrite,callback:function(e){t.$set(t.userProjectSettingData,"wxWrite",e)},expression:"userProjectSettingData.wxWrite"}})],1)],1),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("定时收集表单")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:function(){e.projectSetting.timingQuantitativeForm=!1,e.clearFieldHandle(["timedCollectionBeginTime","timedCollectionEndTime","timedNotEnabledPromptText","timedDeactivatePromptText"]),e.saveUserProjectSetting()}},model:{value:t.projectSetting.timingCollectForm,callback:function(e){t.$set(t.projectSetting,"timingCollectForm",e)},expression:"projectSetting.timingCollectForm"}})],1)],1),t.projectSetting.timingCollectForm?i("div",[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:5}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("收集时间：")])]),i("el-col",{attrs:{span:8}},[i("el-date-picker",{staticClass:"collection-date-picker",staticStyle:{width:"100%",border:"none"},attrs:{type:"datetime",align:"center","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始时间"},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedCollectionBeginTime,callback:function(e){t.$set(t.userProjectSettingData,"timedCollectionBeginTime",e)},expression:"userProjectSettingData.timedCollectionBeginTime"}})],1),i("el-col",{attrs:{span:1}},[i("span",[t._v(" 至")])]),i("el-col",{attrs:{span:8}},[i("el-date-picker",{staticClass:"collection-date-picker",staticStyle:{width:"100%",border:"none"},attrs:{type:"datetime",align:"center","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束日期"},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedCollectionEndTime,callback:function(e){t.$set(t.userProjectSettingData,"timedCollectionEndTime",e)},expression:"userProjectSettingData.timedCollectionEndTime"}})],1)],1),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("未启用提示语：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedNotEnabledPromptText,callback:function(e){t.$set(t.userProjectSettingData,"timedNotEnabledPromptText",e)},expression:"userProjectSettingData.timedNotEnabledPromptText"}})],1)],1),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("停用后提示语：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedDeactivatePromptText,callback:function(e){t.$set(t.userProjectSettingData,"timedDeactivatePromptText",e)},expression:"userProjectSettingData.timedDeactivatePromptText"}})],1)],1)],1):t._e(),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("定时定量表单")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:function(){e.projectSetting.timingCollectForm=!1,e.clearFieldHandle(["timedCollectionBeginTime","timedCollectionEndTime","timedNotEnabledPromptText","timedDeactivatePromptText","timedQuantitativeQuantity","timedEndPromptText"]),e.saveUserProjectSetting()}},model:{value:t.projectSetting.timingQuantitativeForm,callback:function(e){t.$set(t.projectSetting,"timingQuantitativeForm",e)},expression:"projectSetting.timingQuantitativeForm"}})],1)],1),t.projectSetting.timingQuantitativeForm?i("div",[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:5}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("收集时间：")])]),i("el-col",{attrs:{span:8}},[i("el-date-picker",{staticClass:"collection-date-picker",staticStyle:{width:"100%",border:"none"},attrs:{type:"datetime",align:"center","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始时间"},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedCollectionBeginTime,callback:function(e){t.$set(t.userProjectSettingData,"timedCollectionBeginTime",e)},expression:"userProjectSettingData.timedCollectionBeginTime"}})],1),i("el-col",{attrs:{span:1}},[i("span",[t._v(" 至")])]),i("el-col",{attrs:{span:8}},[i("el-date-picker",{staticClass:"collection-date-picker",staticStyle:{width:"100%",border:"none"},attrs:{type:"datetime",align:"center","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束日期"},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedCollectionEndTime,callback:function(e){t.$set(t.userProjectSettingData,"timedCollectionEndTime",e)},expression:"userProjectSettingData.timedCollectionEndTime"}})],1)],1),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("未启用提示语：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedNotEnabledPromptText,callback:function(e){t.$set(t.userProjectSettingData,"timedNotEnabledPromptText",e)},expression:"userProjectSettingData.timedNotEnabledPromptText"}})],1)],1),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("停用后提示语：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedDeactivatePromptText,callback:function(e){t.$set(t.userProjectSettingData,"timedDeactivatePromptText",e)},expression:"userProjectSettingData.timedDeactivatePromptText"}})],1)],1),t.projectSetting.timingQuantitativeForm?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("定量表单填写数量：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{oninput:"value=value.replace(/[^\\d]/g,'')"},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedQuantitativeQuantity,callback:function(e){t.$set(t.userProjectSettingData,"timedQuantitativeQuantity",e)},expression:"userProjectSettingData.timedQuantitativeQuantity"}})],1)],1):t._e()],1):t._e(),t.projectSetting.timingQuantitativeForm?i("div",[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("收集完成后提示：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.timedEndPromptText,callback:function(e){t.$set(t.userProjectSettingData,"timedEndPromptText",e)},expression:"userProjectSettingData.timedEndPromptText"}})],1)],1)],1):t._e(),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("每人限制填写1次")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.everyoneWriteOnce,callback:function(e){t.$set(t.userProjectSettingData,"everyoneWriteOnce",e)},expression:"userProjectSettingData.everyoneWriteOnce"}})],1)],1),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("每人每天限制填写1次")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.everyoneDayWriteOnce,callback:function(e){t.$set(t.userProjectSettingData,"everyoneDayWriteOnce",e)},expression:"userProjectSettingData.everyoneDayWriteOnce"}})],1)],1),t.userProjectSettingData.everyoneDayWriteOnce||t.userProjectSettingData.everyoneWriteOnce?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("重复填写后提示：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.writeOncePromptText,callback:function(e){t.$set(t.userProjectSettingData,"writeOncePromptText",e)},expression:"userProjectSettingData.writeOncePromptText"}})],1)],1):t._e(),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("新反馈提醒我")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{model:{value:t.projectSetting.newFeedbackRemind,callback:function(e){t.$set(t.projectSetting,"newFeedbackRemind",e)},expression:"projectSetting.newFeedbackRemind"}})],1)],1),t.projectSetting.newFeedbackRemind?i("div",[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:5}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("发邮件提醒我")])]),i("el-col",{attrs:{span:3}},[i("el-checkbox",{on:{change:function(){e.clearFieldHandle(["newWriteNotifyEmail"]),e.saveUserProjectSetting()}},model:{value:t.projectSetting.newFeedbackRemindEmail,callback:function(e){t.$set(t.projectSetting,"newFeedbackRemindEmail",e)},expression:"projectSetting.newFeedbackRemindEmail"}})],1)],1),t.projectSetting.newFeedbackRemindEmail?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:5,offset:3}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("请填写邮箱：")])]),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{prop:"newWriteNotifyEmail"}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{placeholder:"多个邮箱用 ; 隔开"},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.newWriteNotifyEmail,callback:function(e){t.$set(t.userProjectSettingData,"newWriteNotifyEmail",e)},expression:"userProjectSettingData.newWriteNotifyEmail"}})],1)],1)],1):t._e(),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:5}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("发微信提醒我")])]),i("el-col",{attrs:{span:3}},[i("el-checkbox",{on:{change:function(){e.clearFieldHandle(["newWriteNotifyWx"]),e.saveUserProjectSetting()}},model:{value:t.projectSetting.newFeedbackRemindWx,callback:function(e){t.$set(t.projectSetting,"newFeedbackRemindWx",e)},expression:"projectSetting.newFeedbackRemindWx"}})],1),i("el-col",{attrs:{span:10}},[i("p",{staticClass:"project-setting-sub-label"},[t._v(" 需要关注公众号 "),i("el-link",{attrs:{type:"primary"},on:{click:t.openSubNotifyWxDialogHandle}},[t._v("TDUCK")])],1)])],1),t.userProjectSettingData.newWriteNotifyWx?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:5,offset:3}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("提醒人：")])]),i("el-col",{attrs:{span:12}},t._l(t.subNotifyWxUserList,(function(e,a){return i("span",{staticClass:"sub-user-view"},[i("i",{staticClass:"el-icon-close sub-user-delete",on:{click:function(e){return t.deleteSubNotifyUserHandle(a)}}}),i("el-avatar",{attrs:{src:e.headImgUrl}})],1)})),0)],1):t._e()],1):t._e(),i("el-dialog",{attrs:{title:"微信扫描二维码订阅",width:"400px",visible:t.dialogSubNotifyVisible},on:{"update:visible":function(e){t.dialogSubNotifyVisible=e}}},[i("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:t.subNotifyWxQrCode,fit:"fill"}})],1),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("记录微信用户个人信息")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:function(){e.userProjectSettingData.wxWrite=!0,e.saveUserProjectSetting()}},model:{value:t.userProjectSettingData.recordWxUser,callback:function(e){t.$set(t.userProjectSettingData,"recordWxUser",e)},expression:"userProjectSettingData.recordWxUser"}})],1)],1),i("el-row",[i("p",{staticClass:"project-setting-sub-label"},[t._v(" * 开启后将会授权登录，提供微信昵称、性别、城市信息 ")])])],1),i("el-col",{staticClass:"project-setting-view",attrs:{span:6}},[i("p",{staticClass:"project-setting-title"},[t._v(" 分享设置 ")]),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("自定义分享图标")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:function(e){return t.clearFieldHandle(["userProjectSettingData.shareImg"])}},model:{value:t.projectSetting.customizeShareIcon,callback:function(e){t.$set(t.projectSetting,"customizeShareIcon",e)},expression:"projectSetting.customizeShareIcon"}})],1)],1),t.projectSetting.customizeShareIcon?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:10}},[i("p",{staticClass:"project-setting-label"},[t._v(" 请上传分享图片 * 建议尺寸500px*500px ")])]),i("el-col",{attrs:{span:12}},[i("el-upload",{ref:"logoUpload",attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PBG,.GIF,.BMP",headers:t.getUploadHeader,"on-success":t.uploadShareImgHandle,action:t.getUploadUrl,"show-file-list":!1}},[i("div",{staticClass:"block"},[i("el-image",{staticClass:"share-img",attrs:{src:t.userProjectSettingData.shareImg,fit:"cover "}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1)])],1)],1):t._e(),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("自定义分享标题")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{on:{change:function(e){return t.clearFieldHandle(["userProjectSettingData.shareTitle"])}},model:{value:t.projectSetting.customizeShareTitle,callback:function(e){t.$set(t.projectSetting,"customizeShareTitle",e)},expression:"projectSetting.customizeShareTitle"}})],1)],1),t.projectSetting.customizeShareTitle?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("请输入标题：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.shareTitle,callback:function(e){t.$set(t.userProjectSettingData,"shareTitle",e)},expression:"userProjectSettingData.shareTitle"}})],1)],1):t._e(),i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"project-setting-label"},[t._v("自定义分享描述")])]),i("el-col",{attrs:{span:12}},[i("el-switch",{model:{value:t.projectSetting.customizeShareDesc,callback:function(e){t.$set(t.projectSetting,"customizeShareDesc",e)},expression:"projectSetting.customizeShareDesc"}})],1)],1),t.projectSetting.customizeShareDesc?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("p",{staticClass:"project-setting-sub-label"},[t._v("请输入描述：")])]),i("el-col",{attrs:{span:15}},[i("el-input",{staticClass:"setting-input",staticStyle:{width:"80%"},attrs:{"show-word-limit":!0,maxlength:50},on:{change:t.saveUserProjectSetting},model:{value:t.userProjectSettingData.shareDesc,callback:function(e){t.$set(t.userProjectSettingData,"shareDesc",e)},expression:"userProjectSettingData.shareDesc"}})],1)],1):t._e(),t.userProjectSettingData.shareDesc||t.userProjectSettingData.shareTitle||t.userProjectSettingData.shareImg?i("div",[i("div",{staticClass:"share-preview"},[i("div",{staticClass:"share-preview-msg"},[i("div",[i("p",{staticClass:"share-preview-msg-title"},[t._v(" "+t._s(t.userProjectSettingData.shareTitle)+" ")]),i("p",{staticClass:"share-preview-msg-desc"},[t._v(" "+t._s(t.userProjectSettingData.shareDesc)+" ")])]),i("div",[t.userProjectSettingData.shareImg?i("img",{staticClass:"share-preview-img",attrs:{src:t.userProjectSettingData.shareImg}}):t._e()])]),i("div",[i("img",{staticClass:"share-user-avatar",attrs:{src:t.getUserInfo.avatar}})])])]):t._e()],1)],1)],1)},o=[],n=(a("d3b7"),a("159b"),a("4360"),a("46a8")),l={name:"projectSetting",props:{projectKey:""},data:function(){return{settingRules:{newWriteNotifyEmail:[{trigger:"blur",pattern:/^((([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6}\;))*(([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})))$/,message:"请输入正确发送的邮箱"}]},projectSetting:{showPromptImg:!1,showPromptText:!0,showSubmitJumpUrl:!1,timingCollectForm:!1,timingQuantitativeForm:!1,newFeedbackRemind:!1,newFeedbackRemindEmail:!1,newFeedbackRemindWx:!1,customizeShareIcon:!1,customizeShareTitle:!1,customizeShareDesc:!1},userProjectSettingData:{submitPromptImg:"",submitPromptText:"提交成功 !",submitJumpUrl:"",jumpUrl:!1,wxWrite:!1,timedNotEnabledPromptText:"填写尚未启用",timedDeactivatePromptText:"填写尚已经停用",timedQuantitativeQuantity:null,timedEndPromptText:"",everyoneWriteOnce:!1,everyoneDayWriteOnce:!1,timedCollectionBeginTime:"",timedCollectionEndTime:"",writeOncePromptText:"",newWriteNotifyEmail:"",newWriteNotifyWx:"",recordWxUser:!1,shareImg:"",shareTitle:"",shareDesc:""},dialogSubNotifyVisible:!1,subNotifyWxQrCode:"",subNotifyWxUserList:[],subNotifyUserTimer:null}},computed:{getUploadHeader:function(){return{token:this.$store.getters["user/isLogin"]}},getUploadUrl:function(){return"".concat(Object({NODE_ENV:"production",VUE_APP_BASE_API:"/pro",BASE_URL:"/"}).VUE_APP_API_ROOT,"/user/file/upload")},getUserInfo:function(){return JSON.parse(this.$store.getters["user/userInfo"])}},mounted:function(){this.projectKey=this.$route.query.key,this.queryUserProjectSetting(),this.getSubNotifyWxQrCode()},destroyed:function(){clearInterval(this.subNotifyUserTimer)},methods:{uploadSubmitPromptHandle:function(e,t,a){this.userProjectSettingData.submitPromptImg=e.data,this.saveUserProjectSetting()},uploadShareImgHandle:function(e,t,a){this.userProjectSettingData.shareImg=e.data,this.saveUserProjectSetting()},queryUserProjectSetting:function(){var e=this;this.userProjectSettingData.projectKey=this.projectKey,Object(n["t"])(this.projectKey).then((function(t){if(t.data){e.userProjectSettingData=t.data;var a=t.data,i=a.submitPromptImg,o=a.submitPromptText,n=a.submitJumpUrl,l=a.timedCollectionBeginTime,s=a.timedQuantitativeQuantity,r=a.newWriteNotifyEmail,c=a.newWriteNotifyWx,u=a.shareImg,d=a.shareTitle,p=a.shareDesc;c&&e.querySubNotifyWxUser(c),e.projectSetting={showPromptImg:!!i,showPromptText:!!o,showSubmitJumpUrl:!!n,timingCollectForm:!!l&&!!s,timingCollectTimeRange:!!s,newFeedbackRemind:!!r||!!c,newFeedbackRemindEmail:!!r,newFeedbackRemindWx:!!c,customizeShareIcon:!!u,customizeShareTitle:!!d,customizeShareDesc:!!p}}}))},saveUserProjectSetting:function(){this.userProjectSettingData.projectKey=this.projectKey,Object(n["w"])(this.userProjectSettingData).then((function(e){}))},openSubNotifyWxDialogHandle:function(){var e=this;this.dialogSubNotifyVisible=!0,this.projectSetting.newFeedbackRemindWx=!0,this.subNotifyUserTimer=setInterval((function(){e.querySubNotifyWxUser()}),5e3)},querySubNotifyWxUser:function(e){},getSubNotifyWxQrCode:function(){},deleteSubNotifyUserHandle:function(e){},clearFieldHandle:function(e){var t=this;e.forEach((function(e){t.$set(t.userProjectSettingData,e,"")}))}}},s=l,r=(a("2dd6"),a("2877")),c=Object(r["a"])(s,i,o,!1,null,"157c0b7c",null);t["default"]=c.exports},"3cd9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"publish-container"},[i("div",[t.publishStatus?t._e():i("div",{staticClass:"publish-btn-view"},[i("el-button",{staticClass:"publish-btn",attrs:{size:"medium",type:"primary"},on:{click:t.publishProject}},[i("i",{staticClass:"el-icon-document-checked el-icon--right"},[t._v("开始发布")])])],1),t.publishStatus?i("div",{staticClass:"publish-finish-view"},[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:20}},[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("div",{staticClass:"icon-view"},[i("i",{staticClass:"el-icon-check success-icon"})])]),i("div",[i("p",{staticClass:"success-title"},[t._v("恭喜您，发布成功！")])]),i("div",[i("p",{staticClass:"link-text"},[t._v(" "+t._s(t.writeLink))])]),i("el-row",[i("el-col",{attrs:{span:6,offset:3}},[i("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.writeLink,expression:"writeLink",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){e.msgSuccess("复制成功")},expression:"()=>{this.msgSuccess('复制成功')}",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:function(){e.msgError("复制失败")},expression:"()=>{this.msgError('复制失败')}",arg:"error"}],attrs:{type:"primary"}},[t._v("复制链接 ")])],1),i("el-col",{attrs:{span:6}},[i("el-button",{attrs:{type:"danger"},on:{click:t.stopPublishProject}},[t._v("停止发布 ")])],1),i("el-col",{attrs:{span:6}},[i("el-button",{attrs:{type:"warning"},on:{click:t.toFeedbackPageHandle}},[t._v("查看反馈 ")])],1)],1)],1),i("el-col",{attrs:{span:6}},[i("div",[t.writeLink?i("vue-qr",{attrs:{callback:t.qrCodeGenSuccess,text:t.writeLink,size:194}}):t._e()],1),i("div",{staticStyle:{"text-align":"center"}},[i("el-link",{attrs:{type:"primary"},on:{click:function(){e.downloadFile("qrcode.png",e.qrCodeUrl)}}},[t._v("下载分享二维码 ")])],1)])],1)],1):t._e()])])},o=[],n=(a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("ace4"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("658f5")),l=a.n(n),s=a("ed08"),r=a("46a8"),c={name:"projectPublish",components:{VueQr:l.a},props:{projectKey:""},mounted:function(){var e=window.location.protocol+"//"+window.location.host;this.writeLink="".concat(e,"/project/write?key=").concat(this.projectKey),this.getProjectStatus()},data:function(){return{publishStatus:!1,writeLink:"",qrCodeUrl:""}},methods:{getProjectStatus:function(){var e=this;Object(r["g"])("/user/project/".concat(this.projectKey)).then((function(t){2==t.data.status?e.publishStatus=!0:e.publishStatus=!1}))},publishProject:function(){var e=this;Object(r["o"])({key:this.projectKey}).then((function(t){e.publishStatus=!0,e.msgSuccess("发布成功")}))},stopPublishProject:function(){var e=this;Object(r["m"])("/user/project/stop",{key:this.projectKey}).then((function(t){t.data&&(e.msgSuccess("停止成功"),e.getProjectStatus())}))},qrCodeGenSuccess:function(e,t){this.qrCodeUrl=e},downloadFile:function(e,t){var a=document.createElement("a"),i=this.base64ToBlob(t),o=document.createEvent("HTMLEvents");o.initEvent("click",!0,!0),a.download=e,a.href=URL.createObjectURL(i),a.click()},base64ToBlob:function(e){for(var t=e.split(";base64,"),a=t[0].split(":")[1],i=window.atob(t[1]),o=i.length,n=new Uint8Array(o),l=0;l<o;++l)n[l]=i.charCodeAt(l);return new Blob([n],{type:a})},toFeedbackPageHandle:function(){var e=Object(s["g"])(),t="".concat(e,"/project/form?key=").concat(this.projectKey,"&active=5");window.location.href=t}}},u=c,d=(a("a34a"),a("2877")),p=Object(d["a"])(u,i,o,!1,null,"14235cc0",null);t["default"]=p.exports},"46a8":function(e,t,a){"use strict";a.d(t,"l",(function(){return o})),a.d(t,"h",(function(){return n})),a.d(t,"n",(function(){return l})),a.d(t,"j",(function(){return s})),a.d(t,"k",(function(){return r})),a.d(t,"i",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"r",(function(){return d})),a.d(t,"v",(function(){return p})),a.d(t,"u",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return v})),a.d(t,"q",(function(){return g})),a.d(t,"y",(function(){return h})),a.d(t,"z",(function(){return _})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return y})),a.d(t,"p",(function(){return D})),a.d(t,"x",(function(){return j})),a.d(t,"o",(function(){return w})),a.d(t,"t",(function(){return x})),a.d(t,"w",(function(){return C})),a.d(t,"s",(function(){return k})),a.d(t,"f",(function(){return S})),a.d(t,"m",(function(){return P})),a.d(t,"g",(function(){return T}));var i=a("b775");function o(e){return Object(i["a"])({url:"/user/project/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/user/project/report/stats",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/user/project/report/situation",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/user/project/report/position",method:"get",params:e})}function r(e){return Object(i["a"])({url:"/user/project/report/source",method:"get",params:e})}function c(e){return Object(i["a"])({url:"/user/project/report/device",method:"get",params:e})}function u(e){return Object(i["a"])({url:"/user/project/delete",method:"get",params:e})}function d(e){return Object(i["a"])({url:"/user/project/page",method:"get",params:e})}function p(e){return Object(i["a"])({url:"/project/template/type/list",method:"get",params:e})}function m(e){return Object(i["a"])({url:"/project/template/page",method:"get",params:e})}function f(e){return Object(i["a"])({url:"/user/project/create",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/user/project/template/create/",method:"post",data:e})}function g(e){return Object(i["a"])({url:"/user/project/item/max-form-id",method:"get",params:e})}function h(e){return Object(i["a"])({url:"/user/project/update",method:"post",data:e})}function _(e){return Object(i["a"])({url:"/user/project/item/update",method:"post",data:e})}function b(e){return Object(i["a"])({url:"/user/project/item/delete",method:"post",data:e})}function y(e){return Object(i["a"])({url:"/user/project/item/create",method:"post",data:e})}function D(e){return Object(i["a"])({url:"/user/project/item/list",method:"get",params:e})}function j(e){return Object(i["a"])({url:"/user/project/item/sort",method:"post",data:e})}function w(e){return Object(i["a"])({url:"/user/project/publish",method:"post",data:e})}function x(e){var t="/user/project/setting/"+e;return Object(i["a"])({url:t,method:"get"})}function C(e){return Object(i["a"])({url:"/user/project/setting/save",method:"post",data:e})}function k(e){return Object(i["a"])({url:"/user/project/result/page",method:"get",params:e})}function S(e){return Object(i["a"])({url:"/user/project/result/export",method:"get",responseType:"blob",params:e})}function P(e,t){return Object(i["a"])({url:e,method:"post",data:t})}function T(e,t){return Object(i["a"])({url:e,method:"get",params:t})}},"532c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:0}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项名",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入选项名",clearable:""},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入选项值",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}},[a("el-select",{style:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.dataTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.close}},[e._v(" 取消 ")])],1)],1)],1)},o=[],n=a("ed08"),l=a("e31c"),s=Object(l["b"])(),r={components:{},inheritAttrs:!1,props:[],data:function(){return{id:s,formData:{label:void 0,value:void 0},rules:{label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]},dataType:"string",dataTypeOptions:[{label:"字符串",value:"string"},{label:"数字",value:"number"}]}},computed:{},watch:{"formData.value":function(e){this.dataType=Object(n["i"])(e)?"number":"string"},id:function(e){Object(l["g"])(e)}},created:function(){},mounted:function(){},methods:{onOpen:function(){this.formData={label:void 0,value:void 0}},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&("number"===e.dataType&&(e.formData.value=parseFloat(e.formData.value)),e.formData.id=e.id++,e.$emit("commit",e.formData),e.close())}))}}},c=r,u=a("2877"),d=Object(u["a"])(c,i,o,!1,null,"3f804068",null);t["default"]=d.exports},"55ef":function(e,t,a){"use strict";a.r(t);a("d81d");var i=a("1980"),o=a.n(i),n=a("4758"),l={itemBtns:function(e,t,a,i){var o=this.$listeners,n=o.copyItem,l=o.deleteItem;return[e("span",{class:"drawing-item-copy",attrs:{title:"复制"},on:{click:function(e){n(t,i),e.stopPropagation()}}},[e("i",{class:"el-icon-copy-document"})]),e("span",{class:"drawing-item-delete",attrs:{title:"删除"},on:{click:function(e){l(a,i),e.stopPropagation()}}},[e("i",{class:"el-icon-delete"})])]}},s={colFormItem:function(e,t,a,i){var o=this,s=this.$listeners,c=s.activeItem,u=(s.changeLabel,t.__config__),d=r.apply(this,arguments),p=this.activeId===u.formId?"drawing-item active-from-item":"drawing-item";this.formConf.unFocusedComponentBorder&&(p+=" unfocus-bordered");var m=u.labelWidth?"".concat(u.labelWidth,"px"):null;return!1===u.showLabel&&(m="0"),e("el-col",{attrs:{span:u.span},class:p,nativeOn:{click:function(e){c(t),e.stopPropagation()}}},[e("el-form-item",{attrs:{"label-width":m,label:u.showLabel?u.label:"",required:u.required}},[e(n["a"],{key:u.renderKey,attrs:{conf:t},on:{input:function(e){o.$set(u,"defaultValue",e)}}},[d])]),l.itemBtns.apply(this,arguments)])},rowFormItem:function(e,t,a,i){var n=this.$listeners.activeItem,s=t.__config__,c=this.activeId===s.formId?"drawing-row-item active-from-item":"drawing-row-item",u=r.apply(this,arguments);return"flex"===t.type&&(u=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[u])),e("el-col",{attrs:{span:s.span}},[e("el-row",{attrs:{gutter:s.gutter},class:c,nativeOn:{click:function(e){n(t),e.stopPropagation()}}},[e("span",{class:"component-name"},[s.componentName]),e(o.a,{attrs:{list:s.children||[],animation:340,group:"componentsGroup"},class:"drag-wrapper"},[u]),l.itemBtns.apply(this,arguments)])])},raw:function(e,t,a,i){var o=this,l=t.__config__,s=r.apply(this,arguments);return e(n["a"],{key:l.renderKey,attrs:{conf:t},on:{input:function(e){o.$set(l,"defaultValue",e)}}},[s])}};function r(e,t,a,i){var o=this,n=t.__config__;return Array.isArray(n.children)?n.children.map((function(t,a){var i=s[t.__config__.layout];return i?i.call(o,e,t,a,n.children):c.call(o)})):null}function c(){throw new Error("没有与".concat(this.currentItem.__config__.layout,"匹配的layout"))}var u,d,p={components:{render:n["a"],draggable:o.a},props:["currentItem","index","drawingList","activeId","formConf"],render:function(e){var t=s[this.currentItem.__config__.layout];return t?t.call(this,e,this.currentItem,this.index,this.drawingList):c.call(this)}},m=p,f=(a("a30e"),a("2877")),v=Object(f["a"])(m,u,d,!1,null,"b72f28e2",null);t["default"]=v.exports},"5c9f":function(e,t,a){},"66c3":function(e,t,a){},"6db6":function(e,t,a){"use strict";a("25c3")},7260:function(e,t,a){"use strict";a("5c9f")},"7d30":function(e,t,a){"use strict";a("1c98")},"89ed":function(e,t,a){},9977:function(e,t,a){var i={"./el-button.js":"aace","./el-checkbox-group.js":"9413","./el-input.js":"167d","./el-radio-group.js":"2cfa","./el-select.js":"7f29","./el-upload.js":"0f88"};function o(e){var t=n(e);return a(t)}function n(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=n,e.exports=o,o.id="9977"},a30e:function(e,t,a){"use strict";a("ff66")},a34a:function(e,t,a){"use strict";a("e0db")},a662:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"theme-container"},[i("el-row",[i("el-col",{attrs:{span:5,offset:1}},[i("el-scrollbar",{staticStyle:{height:"77vh"}},[i("div",{staticClass:"left-container"},[i("p",{staticClass:"theme-title"},[t._v("外观主题")]),i("el-row",[i("el-col",{attrs:{span:3}},[i("span",{staticClass:"theme-prompt-text"},[t._v("风格")])]),t._l(t.styleList,(function(e){return i("el-col",{key:e.key,attrs:{span:3}},[i("span",{staticClass:"style-btn",class:{"style-btn-active":t.activeStyle==e.key},on:{click:function(a){return t.activeStyleHandle(e)}}},[t._v(t._s(e.label))])])}))],2),i("el-row",[i("el-col",{attrs:{span:3}},[i("span",{staticClass:"theme-prompt-text"},[t._v("颜色")])]),i("el-col",{attrs:{span:3}},[i("span",{staticClass:"style-btn",class:{"style-btn-active":""==t.activeColor},on:{click:function(e){return t.activeColorHandle("")}}},[t._v("全部")])]),t._l(t.colorList,(function(e){return i("el-col",{key:e,staticClass:"color-btn",class:{"style-btn-active":t.activeColor==e},style:{backgroundColor:e},attrs:{span:3},nativeOn:{click:function(a){return t.activeColorHandle(e)}}})}))],2),i("el-row",t._l(t.themeList,(function(e){return i("el-col",{key:e.id,staticClass:"theme-img-view",attrs:{span:8},nativeOn:{click:function(a){return t.activeThemeHandle(e)}}},[i("p",{class:{"head-list-view-select":t.activeTheme.id==e.id}},[i("el-image",{staticClass:"head-list-img",class:{"head-list-img-active":t.activeTheme.id==e.id},staticStyle:{width:"100px",height:"100px"},attrs:{src:e.headImgUrl,fit:"cover"}})],1)])})),1)],1)])],1),i("el-col",{attrs:{offset:0,span:12}},[i("pre-view",{key:t.projectFormKey,attrs:{"project-key":t.projectKey}})],1),i("el-col",{attrs:{span:4}},[i("div",{staticClass:"right-container"},[i("p",{staticClass:"right-title"},[t._v("外观设置")]),i("el-row",{staticClass:"option-line-view",attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-title"},[t._v("添加logo")])]),i("el-col",{attrs:{span:8,offset:8}},[i("el-switch",{model:{value:t.showSettings.logoSetting,callback:function(e){t.$set(t.showSettings,"logoSetting",e)},expression:"showSettings.logoSetting"}})],1)],1),t.showSettings.logoSetting?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("span",{staticClass:"option-line-sub-title"},[t._v("logo设置")])]),i("el-col",{attrs:{span:4}},[t.userProjectTheme.logoImg?i("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t.userProjectTheme.logoImg}}):t._e()]),i("el-col",{attrs:{span:8,offset:6}},[i("el-upload",{ref:"logoUpload",attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PBG,.GIF,.BMP",headers:t.getUploadHeader,"on-success":t.uploadLogoHandle,action:t.getUploadUrl,"show-file-list":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},slot:"trigger"},[t._v("上传Logo")])],1)],1)],1):t._e(),t.showSettings.logoSetting?i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("span",{staticClass:"option-line-sub-title"},[t._v("logo位置")])]),i("el-col",{attrs:{span:18}},[i("el-radio-group",{attrs:{size:"mini"},on:{change:t.saveUserTheme},model:{value:t.userProjectTheme.logoPosition,callback:function(e){t.$set(t.userProjectTheme,"logoPosition",e)},expression:"userProjectTheme.logoPosition"}},[i("el-radio-button",{attrs:{label:"left"}},[t._v("左对齐")]),i("el-radio-button",{attrs:{label:"center"}},[t._v("居中")]),i("el-radio-button",{attrs:{label:"right"}},[t._v("右对齐")])],1)],1)],1):t._e(),i("el-row",{staticClass:"option-line-view",attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-title"},[t._v("背景设置")])]),i("el-col",{attrs:{span:8,offset:8}},[i("el-switch",{on:{change:function(){e.userProjectTheme.backgroundImg="",e.userProjectTheme.backgroundColor="",e.saveUserTheme()}},model:{value:t.showSettings.backgroundSetting,callback:function(e){t.$set(t.showSettings,"backgroundSetting",e)},expression:"showSettings.backgroundSetting"}})],1)],1),t.showSettings.backgroundSetting?i("el-row",[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-sub-title"},[t._v("背景类型")])]),i("el-col",{attrs:{spvan:18}},[i("el-radio-group",{attrs:{size:"mini"},on:{change:function(){e.userProjectTheme.backgroundImg="",e.userProjectTheme.backgroundColor=""}},model:{value:t.showSettings.backgroundType,callback:function(e){t.$set(t.showSettings,"backgroundType",e)},expression:"showSettings.backgroundType"}},[i("el-radio-button",{attrs:{label:"color"}},[t._v("颜色")]),i("el-radio-button",{attrs:{label:"img"}},[t._v("图片")])],1)],1)],1)],1):t._e(),t.showSettings.backgroundSetting&&"color"==t.showSettings.backgroundType?i("el-row",[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-sub-title"},[t._v("选择颜色")])]),i("el-col",{attrs:{spvan:18}},[i("el-color-picker",{attrs:{size:"mini"},on:{change:t.saveUserTheme},model:{value:t.userProjectTheme.backgroundColor,callback:function(e){t.$set(t.userProjectTheme,"backgroundColor",e)},expression:" userProjectTheme.backgroundColor"}})],1)],1)],1):t._e(),"img"==t.showSettings.backgroundType?i("el-row",[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-sub-title"},[t._v("选择图片")])]),i("el-col",{attrs:{spvan:18}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PBG,.GIF,.BMP",headers:t.getUploadHeader,"on-success":t.uploadBackgroundHandle,action:t.getUploadUrl,"show-file-list":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},slot:"trigger"},[t._v("上传背景")])],1)],1)],1)],1):t._e(),i("el-row",{staticClass:"option-line-view",attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-title"},[t._v("按钮设置")])]),i("el-col",{attrs:{span:8,offset:8}},[i("el-switch",{model:{value:t.showSettings.btnSetting,callback:function(e){t.$set(t.showSettings,"btnSetting",e)},expression:"showSettings.btnSetting"}})],1)],1),t.showSettings.btnSetting?i("el-row",[i("el-row",{attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("span",{staticClass:"option-line-sub-title"},[t._v("按钮提示文字")])]),i("el-col",{attrs:{spvan:10}},[i("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入内容",size:"mini"},on:{change:t.saveUserTheme},model:{value:t.userProjectTheme.submitBtnText,callback:function(e){t.$set(t.userProjectTheme,"submitBtnText",e)},expression:"userProjectTheme.submitBtnText"}})],1)],1)],1):t._e(),i("el-row",{staticClass:"option-line-view",attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-title"},[t._v("显示标题")])]),i("el-col",{attrs:{span:8,offset:8}},[i("el-switch",{on:{change:t.saveUserTheme},model:{value:t.userProjectTheme.showTitle,callback:function(e){t.$set(t.userProjectTheme,"showTitle",e)},expression:"userProjectTheme.showTitle"}})],1)],1),i("el-row",{staticClass:"option-line-view",attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-title"},[t._v("显示描述")])]),i("el-col",{attrs:{span:8,offset:8}},[i("el-switch",{on:{change:t.saveUserTheme},model:{value:t.userProjectTheme.showDescribe,callback:function(e){t.$set(t.userProjectTheme,"showDescribe",e)},expression:"userProjectTheme.showDescribe"}})],1)],1),i("el-row",{staticClass:"option-line-view",attrs:{type:"flex",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("span",{staticClass:"option-line-title"},[t._v("显示序号")])]),i("el-col",{attrs:{span:8,offset:8}},[i("el-switch",{on:{change:t.saveUserTheme},model:{value:t.userProjectTheme.showNumber,callback:function(e){t.$set(t.userProjectTheme,"showNumber",e)},expression:"userProjectTheme.showNumber"}})],1)],1)],1)])],1)],1)},o=[],n=a("1ee0"),l=(a("4360"),a("46a8")),s={name:"theme",components:{PreView:n["default"]},data:function(){return{showSettings:{logoSetting:!1,backgroundSetting:!1,btnSetting:!1,backgroundType:"color"},userProjectTheme:{projectKey:"",themeId:"",showTitle:!0,showDescribe:!0,showNumber:!1,backgroundColor:"",backgroundImg:"",logoImg:"",logoPosition:"left",submitBtnText:"提交"},projectFormKey:+new Date,projectKey:"",styleList:[{label:"全部",key:""},{label:"节日",key:"festival"},{label:"亲子",key:"parent_child"},{label:"风景",key:"scenery"},{label:"职业",key:"occupation"},{label:"校园",key:"school"},{label:"商务",key:"commerce"},{label:"其他",key:"others"},{label:"餐饮",key:"catering"},{label:"防疫",key:"fangyi"}],colorList:["#FF6D56","#F8E71C","#00BF6F","#2672FF ","#7464FF","#484848","#EAEAEA","#804000"],activeColor:"",activeStyle:"",activeTheme:"",themeList:[]}},mounted:function(){this.projectKey=this.$route.query.key,this.queryProjectTheme(),this.projectFormKey=+new Date,this.queryUserProjectTheme()},computed:{getUploadHeader:function(){return{token:this.$store.getters["user/isLogin"]}},getUploadUrl:function(){return"".concat(Object({NODE_ENV:"production",VUE_APP_BASE_API:"/pro",BASE_URL:"/"}).VUE_APP_API_ROOT,"/user/file/upload")}},methods:{uploadBackgroundHandle:function(e,t,a){this.userProjectTheme.backgroundImg=e.data,this.userProjectTheme.backgroundColor="",this.saveUserTheme()},uploadLogoHandle:function(e,t,a){this.userProjectTheme.logoImg=e.data,this.saveUserTheme()},activeStyleHandle:function(e){this.activeStyle=e.key,this.queryProjectTheme()},saveUserTheme:function(){var e=this;this.userProjectTheme.projectKey=this.projectKey,this.userProjectTheme.themeId=this.activeTheme?this.activeTheme.id:"",Object(l["m"])("/user/project/theme/save",this.userProjectTheme).then((function(t){e.projectFormKey=+new Date}))},queryUserProjectTheme:function(){var e=this;Object(l["g"])("/user/project/theme/".concat(this.projectKey)).then((function(t){if(t.data){e.userProjectTheme=t.data;var a=t.data,i=a.themeId,o=a.logoImg,n=a.backgroundImg,l=a.backgroundColor,s=a.submitBtnText;e.activeTheme={id:i},e.showSettings.logoSetting=!!o,e.showSettings.btnSetting=!!s,(n||l)&&(e.showSettings.backgroundSetting=!0,e.showSettings.backgroundType=n?"img":"color")}}))},activeThemeHandle:function(e){var t=this;e&&this.$confirm("切换主题，系统将不会保存您在上一主题所做的修改，请知悉。","切换主题提醒",{confirmButtonText:"确定",cancelButtonText:"取消操作",type:"info"}).then((function(){t.activeTheme=e,t.saveUserTheme()})).catch((function(){}))},activeColorHandle:function(e){console.log(e),this.activeColor=e,this.queryProjectTheme()},queryProjectTheme:function(){var e=this;Object(l["g"])("/tduck/project/theme/list",{params:{color:this.activeColor,style:this.activeStyle}}).then((function(t){e.themeList=t.data}))}}},r=s,c=(a("2e65"),a("2877")),u=Object(c["a"])(r,i,o,!1,null,"5a52c4ff",null);t["default"]=u.exports},a7a8:function(e,t,a){},b2ec:function(e,t,a){"use strict";a("b7c0")},b7c0:function(e,t,a){},bcc2:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return r}));a("d3b7"),a("159b"),a("b64b"),a("4ec9"),a("3ca3"),a("ddb0"),a("99af"),a("4e82");var i=a("2ef0"),o=a.n(i),n=a("7ce6");a("ed08");function l(e,t){var a={type:e.typeId,formItemId:e.__config__.formId,label:e.__config__.label,defaultValue:e.__config__.defaultValue,required:e.__config__.required,summation:e.__config__.summation,placeholder:e.placeholder,regList:e.__config__.regList,showLabel:e.__config__.showLabel,span:e.__config__.span,formItemName:e.__vModel__,jsonItemName:e.__config__.jsonItemName,projectKey:t},i={},n=c[e.typeId];return n&&(Object.keys(n).forEach((function(t){var a=o.a.get(e,n[t]);o.a.set(i,t,a)})),o.a.set(a,"expand",i)),a}var s=new Map;function r(e){var t=e.required,a=e.placeholder;t&&!a&&(e.placeholder="此题为必填项目"),!s.size>0&&o.a.concat(n["b"],n["c"]).forEach((function(e){s.set(e.typeId,e)}));var i=s.get(e.type),l=o.a.cloneDeep(i),r=c[e.type];return r&&Object.keys(r).forEach((function(t){var a=o.a.get(e.expand,t);o.a.set(l,r[t],a)})),l.sort=e.sort,l.typeId=e.type,l.__config__.span=e.span,l.__config__.formId=e.formItemId,l.__config__.label=e.label,l.__config__.required=e.required,l.__config__.regList=e.regList,l.__config__.showLabel=e.showLabel,l.__config__.jsonItemName=e.jsonItemName,e.defaultValue&&(e.defaultValue.json?l.__config__.defaultValue=JSON.parse(e.defaultValue.value):l.__config__.defaultValue=e.defaultValue.value),"el-upload"===l.__config__.tag&&(l.action=l.action+e.projectKey),l.regList=e.regList,l.placeholder=e.placeholder,l.__vModel__=e.formItemName,l}var c={1:{prepend:"__slot__.prepend",maxlength:"maxlength",append:"__slot__.append"},2:{minRows:"autosize.minRows",maxRows:"autosize.maxRows",maxlength:"maxlength"},4:{min:"min",max:"max",maxlength:"maxlength",step:"step","step-strictly":"step-strictly",precision:"precision","controls-position":"controls-position"},5:{options:"__slot__.options",filterable:"filterable",multiple:"multiple"},6:{options:"options",filterable:"filterable",multiple:"props.props.multiple"},7:{options:"__slot__.options",filterable:"filterable",multiple:"props.props.multiple"},8:{optionType:"__config__.optionType",size:"size",options:"__slot__.options",max:"max",min:"min"},9:{},10:{min:"min",max:"max",step:"step"},11:{},13:{dateType:"dateType",format:"format"},15:{max:"max"},17:{buttonText:"__config__.buttonText",showTip:"__config__.showTip",fileSize:"__config__.fileSize",sizeUnit:"__config__.sizeUnit",listType:"list-type",limit:"limit",multiple:"multiple"}}},ca3f:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("4d63"),a("ac1f"),a("2c3e"),a("25f0"),a("5319"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861");var i=a("bc3a"),o=a.n(i),n=a("5f87"),l={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"},s="/pro";function r(e,t){var a=s+e;o()({method:"get",url:a,responseType:"blob",headers:{Authorization:"Bearer "+Object(n["getToken"])()}}).then((function(e){c(e,l.zip)}))}function c(e,t){var a=document.createElement("a"),i=new Blob([e.data],{type:t}),o=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),n=decodeURI(e.headers["content-disposition"]),l=o.exec(n),s=l[1];s=s.replace(/\"/g,""),a.href=URL.createObjectURL(i),a.setAttribute("download",s),document.body.appendChild(a),a.click(),document.body.appendChild(a)}},cfcd:function(e){e.exports=JSON.parse('["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]')},d8fe:function(e,t,a){"use strict";a("0f49")},d948:function(e,t,a){"use strict";a.r(t);var i,o,n,l=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"form-edit-container"},[i("div",{staticClass:"left-board"},[i("el-scrollbar",{staticClass:"left-scrollbar"},[i("div",{staticClass:"components-list"},t._l(t.leftComponents,(function(e,a){return i("div",{key:a},[i("div",{staticClass:"components-title"},[i("svg-icon",{attrs:{"icon-class":"component"}}),t._v(" "+t._s(e.title)+" ")],1),i("draggable",{staticClass:"components-draggable",attrs:{list:e.list,group:{name:"componentsGroup",pull:"clone",put:!1},clone:t.cloneComponent,draggable:".components-item",sort:!1},on:{end:t.onEnd}},t._l(e.list,(function(e,a){return i("div",{key:a,staticClass:"components-item",on:{click:function(a){return t.addComponent(e)}}},[i("div",{staticClass:"components-body"},[i("svg-icon",{attrs:{"icon-class":e.__config__.tagIcon}}),t._v(" "+t._s(e.__config__.label)+" ")],1)])})),0)],1)})),0)])],1),i("div",{staticClass:"center-board"},[i("el-scrollbar",{staticClass:"center-scrollbar"},[t.formConf?i("el-row",{staticClass:"center-board-row",attrs:{gutter:t.formConf.gutter}},[i("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("el-col",{staticStyle:{"text-align":"center"},attrs:{span:20}},[i("h4",{staticClass:"form-name-text",attrs:{contenteditable:"true"},on:{blur:function(t){e.formConf.title=t.target.innerText,e.saveProjectInfo()}}},[t._v(" "+t._s(t.formConf.title))])])],1),i("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("el-col",{attrs:{span:23}},[t.editDescription?i("Tinymce",{attrs:{placeholder:"请输入表单描述"},on:{input:t.saveProjectInfo,blur:function(e){t.editDescription=!1}},model:{value:t.formConf.description,callback:function(e){t.$set(t.formConf,"description",e)},expression:"formConf.description"}}):i("div",{staticClass:"form-name-text",staticStyle:{"min-height":"100px"},domProps:{innerHTML:t._s(t.formConf.description)},on:{click:function(e){t.editDescription=!0}}})],1)],1),i("el-divider"),i("el-form",{attrs:{size:t.formConf.size,"label-position":t.formConf.labelPosition,disabled:t.formConf.disabled,"label-width":t.formConf.labelWidth+"px"}},[i("draggable",{staticClass:"drawing-board",attrs:{list:t.drawingList,animation:340,group:"componentsGroup"},on:{end:t.onItemEnd}},t._l(t.drawingList,(function(e,a){return i("draggable-item",{key:e.renderKey,attrs:{"drawing-list":t.drawingList,"current-item":e,index:a,"active-id":t.activeId,"form-conf":t.formConf},on:{activeItem:t.activeFormItem,changeLabel:t.changeLabel,copyItem:t.drawingItemCopy,deleteItem:t.drawingItemDelete}})})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[t._v(" 从左侧拖入或点选组件进行表单设计 ")])],1)],1):t._e()],1)],1),t.activeData?i("right-panel",{attrs:{"active-data":t.activeData,"form-conf":t.formConf,"show-field":!!t.drawingList.length},on:{"tag-change":t.tagChange,"data-change":t.updateProjectItemInfo}}):t._e()],1)},s=[],r=a("53ca"),c=(a("ac1f"),a("5319"),a("e9c4"),a("b0c0"),a("a4d3"),a("e01a"),a("4e82"),a("d81d"),a("99af"),a("a434"),a("d3b7"),a("159b"),a("b64b"),a("c740"),a("1980")),u=a.n(c),d=a("9619"),p=a("4758"),m=a("e9f0"),f=a("7ce6"),v=a("ed08"),g=a("bcc2"),h=[],_=a("55ef"),b=a("e31c"),y=a("46a8"),D={components:{draggable:u.a,render:p["a"],RightPanel:m["default"],DraggableItem:_["default"]},props:{projectKey:"",isEdit:!0},data:function(){return{idGlobal:n,formConf:null,editDescription:!0,inputComponents:f["b"],selectComponents:f["c"],labelWidth:100,drawingList:h,drawingData:{},activeId:0!=h.length?h[0].formId:0,formData:{},dialogVisible:!1,generateConf:null,showFileName:!1,activeData:h?h[0]:null,saveDrawingListDebounce:Object(d["debounce"])(340,b["d"]),saveIdGlobalDebounce:Object(d["debounce"])(340,b["f"]),leftComponents:[{title:"输入型组件",list:f["b"]},{title:"选择型组件",list:f["c"]}]}},computed:{},watch:{"activeData.__config__.label":function(e,t){void 0!==this.activeData.placeholder&&this.activeData.__config__.tag&&i===this.activeId&&(this.activeData.placeholder=this.activeData.placeholder.replace(t,"")+e)},activeId:{handler:function(e){i=e},immediate:!0},drawingList:{handler:function(e){this.saveDrawingListDebounce(e,this.projectKey),0===e.length&&(this.idGlobal=100)},deep:!0},idGlobal:{handler:function(e){e&&this.saveIdGlobalDebounce(e,this.projectKey)},immediate:!0}},mounted:function(){var e=this;this.formConf=JSON.parse(JSON.stringify(f["a"]));var t=this.projectKey;this.queryProjectItems(),Object(y["g"])("/user/project/".concat(t)).then((function(t){e.formConf.title=t.data.name,e.formConf.description=t.data.describe})),Object(y["q"])({key:this.projectKey}).then((function(t){e.idGlobal=t.data?t.data:100})),this.projectKey=t},methods:{saveProjectInfo:Object(d["debounce"])(430,!0,(function(){Object(y["y"])({key:this.projectKey,name:this.formConf.title,describe:this.formConf.description}).then((function(e){}))})),updateProjectItemInfo:function(e){var t=Object(g["b"])(e,this.projectKey);Object(y["z"])(t).then((function(e){}))},deleteProjectItemInfo:function(e){var t=Object(g["b"])(e,this.projectKey);Object(y["e"])(t).then((function(e){}))},saveProjectItemInfo:function(e){var t=Object(g["b"])(e,this.projectKey);Object(y["c"])(t).then((function(t){e.sort=t.data.sort}))},queryProjectItems:function(){var e=this;Object(y["p"])({key:this.projectKey}).then((function(t){e.drawingList=t.data.map((function(e){return Object(g["a"])(e)}))}))},activeFormItem:function(e){this.activeData=e,this.activeId=e.__config__.formId},changeLabel:function(e,t){console.log(e),console.log(t)},onEnd:function(e){e.from!==e.to&&(this.activeData=o,this.activeId=this.idGlobal),this.onItemEnd(e)},onItemEnd:function(e){var t=this,a={projectKey:this.projectKey};if(this.drawingList[e.newIndex-1]){var i=this.drawingList[e.newIndex-1].sort;a.beforePosition=i}if(this.drawingList[e.newIndex+1]){var o=this.drawingList[e.newIndex+1].sort;a.afterPosition=o}a.formItemId=this.drawingList[e.newIndex].__config__.formId,Object(y["x"])(a).then((function(a){t.drawingList[e.newIndex].sort=a.data.sort}))},addComponent:function(e){var t=this.cloneComponent(e);this.drawingList.push(t),this.activeFormItem(t)},cloneComponent:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Object(v["e"])(e),i=a.__config__;return i.span=this.formConf.span,this.createIdAndKey(a),void 0!==a.placeholder&&(a.placeholder+=i.label),o=a,t&&this.saveProjectItemInfo(a),o},createIdAndKey:function(e){var t=this,a=e.__config__;return a.formId=++this.idGlobal,a.renderKey="".concat(a.formId).concat(+new Date),"colFormItem"===a.layout?(e.__vModel__="field".concat(this.idGlobal),a.jsonItemName="field".concat(this.idGlobal)):"rowFormItem"===a.layout&&(a.componentName="row".concat(this.idGlobal),!Array.isArray(a.children)&&(a.children=[]),delete a.label),Array.isArray(a.children)&&(a.children=a.children.map((function(e){return t.createIdAndKey(e)}))),e},empty:function(){var e=this;this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then((function(){e.drawingList=[],e.idGlobal=100}))},drawingItemCopy:function(e,t){var a=Object(v["e"])(e);a=this.createIdAndKey(a),t.push(a),this.activeFormItem(a),this.saveProjectItemInfo(a)},drawingItemDelete:function(e,t){var a=this,i=t[e];t.splice(e,1),this.$nextTick((function(){var e=a.drawingList.length;e&&a.activeFormItem(a.drawingList[e-1])})),this.deleteProjectItemInfo(i)},tagChange:function(e){var t=this;e=this.cloneComponent(e,!1);var a=e.__config__;e.__vModel__=this.activeData.__vModel__,e.sort=this.activeData.sort,a.formId=this.activeId,a.span=this.activeData.__config__.span,this.activeData.__config__.tag=a.tag,this.activeData.__config__.tagIcon=a.tagIcon,this.activeData.__config__.document=a.document,this.activeData.typeId=e.typeId,Object(r["a"])(this.activeData.__config__.defaultValue)===Object(r["a"])(a.defaultValue)&&(a.defaultValue=this.activeData.__config__.defaultValue),Object.keys(e).forEach((function(a){void 0!==t.activeData[a]&&(e[a]=t.activeData[a])})),this.activeData=e,this.updateProjectItemInfo(e),this.updateDrawingList(e,this.drawingList)},updateDrawingList:function(e,t){var a=this,i=t.findIndex((function(e){return e.__config__.formId===a.activeId}));i>-1?t.splice(i,1,e):t.forEach((function(t){Array.isArray(t.__config__.children)&&a.updateDrawingList(e,t.__config__.children)}))}}},j=D,w=(a("143a"),a("2877")),x=Object(w["a"])(j,l,s,!1,null,null,null);t["default"]=x.exports},dd72:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"statistics-container"},[i("div",{staticClass:"filter-table-view"},[i("el-form",{ref:"filterForm",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"提交时间",prop:"endDateTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间"},model:{value:t.queryConditions.beginDateTime,callback:function(e){t.$set(t.queryConditions,"beginDateTime",e)},expression:"queryConditions.beginDateTime"}}),i("span",[t._v(" 至 ")]),i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"23:59:59",placeholder:"结束时间"},model:{value:t.queryConditions.endDateTime,callback:function(e){t.$set(t.queryConditions,"endDateTime",e)},expression:"queryConditions.endDateTime"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.queryProjectResult}},[t._v("查询")]),i("el-button",{attrs:{type:"success"},on:{click:t.exportProjectResult}},[t._v("导出")])],1)],1)],1),i("div",{staticClass:"result-table-view"},[i("el-table",{attrs:{stripe:"","header-cell-class-name":"data-table-header",data:t.projectResultList},on:{"row-dblclick":function(t,a,i){e.openDetailDrawerHandle(t)}}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._l(t.fixedCustomColumns,(function(e){return i("el-table-column",{key:"t"+e,attrs:{label:t.fixedDefaultLabelFormColumn[e]},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row[e])+" ")]}}],null,!0)})})),t._l(t.otherCustomColumns,(function(e){return i("el-table-column",{key:e,attrs:{"show-overflow-tooltip":"",label:t.projectItemColumns[e]},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row["processData"][e])+" ")]}}],null,!0)})})),i("el-table-column",{attrs:{width:"50",fixed:"right","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.openDetailDrawerHandle(e.row)}}},[t._v("查看")])]}}])})],2),i("el-drawer",{attrs:{"with-header":!1,visible:t.detailDrawer},on:{"update:visible":function(e){t.detailDrawer=e}}},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("提交详情")])]),i("div",t._l(t.projectItemList,(function(e){return i("div",[i("h4",[t._v(t._s(e.label))]),17==e.type&&t.activeResultRow&&t.activeResultRow["processData"]["field"+e.formItemId]?i("div",t._l(JSON.parse(t.activeResultRow["processData"]["field"+e.formItemId]["files"]),(function(e){return i("el-link",{key:t.index,attrs:{href:e.url,target:"_blank",type:"primary"}},[t._v(" "+t._s(e.fileName)+" ")])})),1):i("el-tag",[t._v(" "+t._s(t.activeResultRow?t.activeResultRow["processData"]["field"+e.formItemId]:"")+" ")])],1)})),0)])],1)],1),i("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"10px"}},[t.total>10?i("el-pagination",{attrs:{background:"","page-size":t.queryConditions.size,"current-page":t.queryConditions.current,layout:"total, prev, pager, next",total:t.total},on:{"update:pageSize":function(e){return t.$set(t.queryConditions,"size",e)},"update:page-size":function(e){return t.$set(t.queryConditions,"size",e)},"update:currentPage":function(e){return t.$set(t.queryConditions,"current",e)},"update:current-page":function(e){return t.$set(t.queryConditions,"current",e)},"current-change":t.queryProjectResult}}):t._e()],1)],1),i("div",{staticClass:"custom-col-container"},[i("el-dialog",{attrs:{center:"",title:"自定义显示列",visible:t.customColumnDialogVisible},on:{"update:visible":function(e){t.customColumnDialogVisible=e}}},[i("el-row",[i("el-col",{attrs:{span:3}},[i("span",[t._v("显示列：")])])],1),i("el-divider"),i("el-checkbox-group",{model:{value:t.checkFixedCustomColumns,callback:function(e){t.checkFixedCustomColumns=e},expression:"checkFixedCustomColumns"}},[i("el-row",t._l(t.fixedDefaultLabelFormColumn,(function(e,a,o){return i("el-col",{key:a,attrs:{span:4}},[i("el-checkbox",{attrs:{label:a}},[t._v(t._s(e))])],1)})),1)],1),i("el-divider"),i("el-checkbox-group",{model:{value:t.checkOtherCustomColumns,callback:function(e){t.checkOtherCustomColumns=e},expression:"checkOtherCustomColumns"}},[i("el-row",t._l(t.projectItemColumns,(function(e,a,o){return i("el-col",{key:a,attrs:{span:8}},[i("el-checkbox",{attrs:{label:a}},[t._v(t._s(e))])],1)})),1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.customColumnDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.saveStatisticsCheckedColumns}},[t._v("确 定")])],1)],1)],1)])},o=[],n=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("b0c0"),a("d81d"),a("2ef0")),l=a.n(n),s=(a("ed08"),a("e31c")),r=a("46a8"),c=(a("ca3f"),["serialNumber","submitAddress","createTime","itemScore"]),u={serialNumber:"提交序号",submitAddress:"提交地址",createTime:"提交时间",itemScore:"提交分数"},d={name:"projectStatistics",components:{},props:{projectKey:""},mounted:function(){this.queryConditions.projectKey=this.projectKey,this.queryProjectResult(),this.queryProjectItems(),this.queryProject()},data:function(){return{customColumnDialogVisible:!1,fixedCustomColumns:c,checkFixedCustomColumns:c,fixedDefaultLabelFormColumn:u,checkOtherCustomColumns:[],otherCustomColumns:[],projectResultList:[],projectItemList:[],projectData:null,projectItemColumns:{},total:0,detailDrawer:!1,activeResultRow:null,queryConditions:{current:1,size:10,projectKey:"",beginDateTime:"",endDateTime:""}}},methods:{renderHeader:function(e){var t=this;return e("i",{class:"el-icon-setting",style:"color:currentColor",on:{click:function(){return t.customColumnDialogVisible=!0}}})},openDetailDrawerHandle:function(e){this.activeResultRow=e,this.detailDrawer=!0},queryProject:function(){var e=this;Object(r["g"])("/user/project/".concat(this.projectKey)).then((function(t){e.projectData=t.data}))},queryProjectResult:function(){var e=this;Object(r["s"])(this.queryConditions).then((function(t){var a=t.data,i=a.records,o=a.total,n=a.size;e.projectResultList=i,e.total=o,e.queryConditions.size=n}))},exportProjectResult:function(){var e=this;this.total?Object(r["f"])(this.queryConditions).then((function(t){var a=t,i=document.createElement("a"),o=window.URL.createObjectURL(a);i.href=o,i.download=e.projectData.name+e.$dayjs().format("YYYYMMDDHHMM")+".xls",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o)})):this.$message.error("无表单有效反馈结果，无法导出")},saveStatisticsCheckedColumns:function(){this.customColumnDialogVisible=!1,this.fixedCustomColumns=this.checkFixedCustomColumns,this.otherCustomColumns=this.checkOtherCustomColumns,Object(s["c"])(this.projectKey,{fixedCustomColumns:this.fixedCustomColumns,otherCustomColumns:this.otherCustomColumns})},getDbCheckedColumns:function(){var e=Object(s["a"])(this.projectKey);if(e){var t=e.fixedCustomColumns,a=e.otherCustomColumns;t&&(this.fixedCustomColumns=t,this.checkFixedCustomColumns=t),a&&(this.otherCustomColumns=a,this.checkOtherCustomColumns=a)}},queryProjectItems:function(){var e=this;Object(r["p"])({key:this.projectKey}).then((function(t){t.data&&t.data.map((function(t){l.a.set(e.projectItemColumns,"field".concat(t.formItemId),t.label)})),e.projectItemList=t.data,e.getDbCheckedColumns()}))}}},p=d,m=(a("26ee"),a("2877")),f=Object(m["a"])(p,i,o,!1,null,"5f509ede",null);t["default"]=f.exports},e0db:function(e,t,a){},e31c:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return f}));a("e9c4");var i="drawingItems",o="idGlobal",n="treeNodeId",l="formConf",s="checkedColumns";function r(e,t){t&&localStorage.setItem("".concat(i,":").concat(t),JSON.stringify(e))}function c(e,t){t&&localStorage.setItem("".concat(o,":").concat(t),"".concat(e))}function u(){var e=localStorage.getItem(n);return e?parseInt(e,10):100}function d(e){localStorage.setItem(n,"".concat(e))}function p(e,t){t&&localStorage.setItem("".concat(l,":").concat(t),JSON.stringify(e))}function m(e,t){e&&localStorage.setItem("".concat(s,":").concat(e),JSON.stringify(t))}function f(e,t){var a=localStorage.getItem("".concat(s,":").concat(e));return a?JSON.parse(a):null}},e9f0:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-board"},[a("el-tabs",{staticClass:"center-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"组件属性",name:"field"}})],1),a("div",{staticClass:"field-box"},[a("el-scrollbar",{staticClass:"right-scrollbar"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:"field"===e.currentTab&&e.showField,expression:"currentTab==='field' && showField"}],attrs:{size:"small","label-width":"90px"}},[e.activeData.__config__.changeTag?a("el-form-item",{attrs:{label:"组件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组件类型"},on:{change:e.tagChange},model:{value:e.activeData.__config__.tagIcon,callback:function(t){e.$set(e.activeData.__config__,"tagIcon",t)},expression:"activeData.__config__.tagIcon"}},e._l(e.tagList,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.__config__.label,attrs:{label:t.__config__.label,value:t.__config__.tagIcon}},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":t.__config__.tagIcon}}),a("span",[e._v(" "+e._s(t.__config__.label)+e._s(t.__config__.tagIcon))])],1)})),1)})),1)],1):e._e(),void 0!==e.activeData.__config__.jsonItemName?a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{attrs:{placeholder:"请输入字段名"},model:{value:e.activeData.__config__.jsonItemName,callback:function(t){e.$set(e.activeData.__config__,"jsonItemName",t)},expression:"activeData.__config__.jsonItemName"}})],1):e._e(),void 0!==e.activeData.__config__.componentName?a("el-form-item",{attrs:{label:"组件名"}},[e._v(" "+e._s(e.activeData.__config__.componentName)+" ")]):e._e(),void 0!==e.activeData.__config__.label?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},on:{input:e.changeRenderKey},model:{value:e.activeData.__config__.label,callback:function(t){e.$set(e.activeData.__config__,"label",t)},expression:"activeData.__config__.label"}})],1):e._e(),void 0!==e.activeData.placeholder?a("el-form-item",{attrs:{label:"占位提示"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},on:{input:e.changeRenderKey},model:{value:e.activeData.placeholder,callback:function(t){e.$set(e.activeData,"placeholder",t)},expression:"activeData.placeholder"}})],1):e._e(),void 0!==e.activeData["start-placeholder"]?a("el-form-item",{attrs:{label:"开始占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["start-placeholder"],callback:function(t){e.$set(e.activeData,"start-placeholder",t)},expression:"activeData['start-placeholder']"}})],1):e._e(),void 0!==e.activeData["end-placeholder"]?a("el-form-item",{attrs:{label:"结束占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["end-placeholder"],callback:function(t){e.$set(e.activeData,"end-placeholder",t)},expression:"activeData['end-placeholder']"}})],1):e._e(),void 0!==e.activeData.__config__.span?a("el-form-item",{attrs:{label:"表单栅格"}},[a("el-slider",{attrs:{max:24,min:1,marks:{12:""}},on:{change:e.spanChange},model:{value:e.activeData.__config__.span,callback:function(t){e.$set(e.activeData.__config__,"span",t)},expression:"activeData.__config__.span"}})],1):e._e(),"rowFormItem"===e.activeData.__config__.layout&&void 0!==e.activeData.gutter?a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.activeData.gutter,callback:function(t){e.$set(e.activeData,"gutter",t)},expression:"activeData.gutter"}})],1):e._e(),"rowFormItem"===e.activeData.__config__.layout&&void 0!==e.activeData.type?a("el-form-item",{attrs:{label:"布局模式"}},[a("el-radio-group",{model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-radio-button",{attrs:{label:"default"}}),a("el-radio-button",{attrs:{label:"flex"}})],1)],1):e._e(),void 0!==e.activeData.justify&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"水平排列"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择水平排列"},model:{value:e.activeData.justify,callback:function(t){e.$set(e.activeData,"justify",t)},expression:"activeData.justify"}},e._l(e.justifyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0!==e.activeData.align&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"垂直排列"}},[a("el-radio-group",{model:{value:e.activeData.align,callback:function(t){e.$set(e.activeData,"align",t)},expression:"activeData.align"}},[a("el-radio-button",{attrs:{label:"top"}}),a("el-radio-button",{attrs:{label:"middle"}}),a("el-radio-button",{attrs:{label:"bottom"}})],1)],1):e._e(),void 0!==e.activeData.__config__.labelWidth?a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.activeData.__config__.labelWidth,callback:function(t){e.$set(e.activeData.__config__,"labelWidth",e._n(t))},expression:"activeData.__config__.labelWidth"}})],1):e._e(),e.activeData.style&&void 0!==e.activeData.style.width?a("el-form-item",{attrs:{label:"组件宽度"}},[a("el-input",{attrs:{placeholder:"请输入组件宽度",clearable:""},model:{value:e.activeData.style.width,callback:function(t){e.$set(e.activeData.style,"width",t)},expression:"activeData.style.width"}})],1):e._e(),void 0!==e.activeData.__vModel__?a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData.__config__.defaultValue),placeholder:"请输入默认值"},on:{input:e.onDefaultValueInput}})],1):e._e(),"el-checkbox-group"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"至少应选"}},[a("el-input-number",{attrs:{value:e.activeData.min,min:0,placeholder:"至少应选"},on:{input:function(t){return e.$set(e.activeData,"min",t||void 0)}}})],1):e._e(),"el-checkbox-group"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"是否求和"}},[a("el-switch",{model:{value:e.activeData.__config__.summation,callback:function(t){e.$set(e.activeData.__config__,"summation",t)},expression:"activeData.__config__.summation"}})],1):e._e(),"el-checkbox-group"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"最多可选"}},[a("el-input-number",{attrs:{value:e.activeData.max,min:0,placeholder:"最多可选"},on:{input:function(t){return e.$set(e.activeData,"max",t||void 0)}}})],1):e._e(),e.activeData.__slot__&&void 0!==e.activeData.__slot__.prepend?a("el-form-item",{attrs:{label:"前缀"}},[a("el-input",{attrs:{placeholder:"请输入前缀"},model:{value:e.activeData.__slot__.prepend,callback:function(t){e.$set(e.activeData.__slot__,"prepend",t)},expression:"activeData.__slot__.prepend"}})],1):e._e(),e.activeData.__slot__&&void 0!==e.activeData.__slot__.append?a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"请输入后缀"},model:{value:e.activeData.__slot__.append,callback:function(t){e.$set(e.activeData.__slot__,"append",t)},expression:"activeData.__slot__.append"}})],1):e._e(),void 0!==e.activeData["prefix-icon"]?a("el-form-item",{attrs:{label:"前图标"}},[a("el-input",{attrs:{placeholder:"请输入前图标名称"},model:{value:e.activeData["prefix-icon"],callback:function(t){e.$set(e.activeData,"prefix-icon",t)},expression:"activeData['prefix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("prefix-icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),void 0!==e.activeData["suffix-icon"]?a("el-form-item",{attrs:{label:"后图标"}},[a("el-input",{attrs:{placeholder:"请输入后图标名称"},model:{value:e.activeData["suffix-icon"],callback:function(t){e.$set(e.activeData,"suffix-icon",t)},expression:"activeData['suffix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("suffix-icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),void 0!==e.activeData["icon"]&&"el-button"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"按钮图标"}},[a("el-input",{attrs:{placeholder:"请输入按钮图标名称"},model:{value:e.activeData["icon"],callback:function(t){e.$set(e.activeData,"icon",t)},expression:"activeData['icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"选项分隔符"}},[a("el-input",{attrs:{placeholder:"请输入选项分隔符"},model:{value:e.activeData.separator,callback:function(t){e.$set(e.activeData,"separator",t)},expression:"activeData.separator"}})],1):e._e(),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最小行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最小行数"},model:{value:e.activeData.autosize.minRows,callback:function(t){e.$set(e.activeData.autosize,"minRows",t)},expression:"activeData.autosize.minRows"}})],1):e._e(),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最大行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最大行数"},model:{value:e.activeData.autosize.maxRows,callback:function(t){e.$set(e.activeData.autosize,"maxRows",t)},expression:"activeData.autosize.maxRows"}})],1):e._e(),e.isShowMin?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"最小值"},model:{value:e.activeData.min,callback:function(t){e.$set(e.activeData,"min",t)},expression:"activeData.min"}})],1):e._e(),e.isShowMax?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"最大值"},model:{value:e.activeData.max,callback:function(t){e.$set(e.activeData,"max",t)},expression:"activeData.max"}})],1):e._e(),void 0!==e.activeData.height?a("el-form-item",{attrs:{label:"组件高度"}},[a("el-input-number",{attrs:{placeholder:"高度"},on:{input:e.changeRenderKey},model:{value:e.activeData.height,callback:function(t){e.$set(e.activeData,"height",t)},expression:"activeData.height"}})],1):e._e(),e.isShowStep?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"步数"},model:{value:e.activeData.step,callback:function(t){e.$set(e.activeData,"step",t)},expression:"activeData.step"}})],1):e._e(),"el-input-number"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"精度"}},[a("el-input-number",{attrs:{min:0,placeholder:"精度"},model:{value:e.activeData.precision,callback:function(t){e.$set(e.activeData,"precision",t)},expression:"activeData.precision"}})],1):e._e(),"el-input-number"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.activeData["controls-position"],callback:function(t){e.$set(e.activeData,"controls-position",t)},expression:"activeData['controls-position']"}},[a("el-radio-button",{attrs:{label:""}},[e._v(" 默认 ")]),a("el-radio-button",{attrs:{label:"right"}},[e._v(" 右侧 ")])],1)],1):e._e(),void 0!==e.activeData.maxlength?a("el-form-item",{attrs:{label:"最多输入"}},[a("el-input",{attrs:{placeholder:"请输入字符长度"},model:{value:e.activeData.maxlength,callback:function(t){e.$set(e.activeData,"maxlength",t)},expression:"activeData.maxlength"}},[a("template",{slot:"append"},[e._v(" 个字符 ")])],2)],1):e._e(),void 0!==e.activeData["active-text"]?a("el-form-item",{attrs:{label:"开启提示"}},[a("el-input",{attrs:{placeholder:"请输入开启提示"},model:{value:e.activeData["active-text"],callback:function(t){e.$set(e.activeData,"active-text",t)},expression:"activeData['active-text']"}})],1):e._e(),void 0!==e.activeData["inactive-text"]?a("el-form-item",{attrs:{label:"关闭提示"}},[a("el-input",{attrs:{placeholder:"请输入关闭提示"},model:{value:e.activeData["inactive-text"],callback:function(t){e.$set(e.activeData,"inactive-text",t)},expression:"activeData['inactive-text']"}})],1):e._e(),void 0!==e.activeData["active-value"]?a("el-form-item",{attrs:{label:"开启值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["active-value"]),placeholder:"请输入开启值"},on:{input:function(t){return e.onSwitchValueInput(t,"active-value")}}})],1):e._e(),void 0!==e.activeData["inactive-value"]?a("el-form-item",{attrs:{label:"关闭值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["inactive-value"]),placeholder:"请输入关闭值"},on:{input:function(t){return e.onSwitchValueInput(t,"inactive-value")}}})],1):e._e(),void 0!==e.activeData.type&&"el-date-picker"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择时间类型"},on:{change:e.dateTypeChange},model:{value:e.activeData.dateType,callback:function(t){e.$set(e.activeData,"dateType",t)},expression:"activeData.dateType"}},e._l(e.dateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0!==e.activeData.accept?a("el-form-item",{attrs:{label:"文件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择文件类型",clearable:""},model:{value:e.activeData.accept,callback:function(t){e.$set(e.activeData,"accept",t)},expression:"activeData.accept"}},[a("el-option",{attrs:{label:"图片",value:"image/*"}}),a("el-option",{attrs:{label:"视频",value:"video/*"}}),a("el-option",{attrs:{label:"音频",value:"audio/*"}}),a("el-option",{attrs:{label:"excel",value:".xls,.xlsx"}}),a("el-option",{attrs:{label:"word",value:".doc,.docx"}}),a("el-option",{attrs:{label:"pdf",value:".pdf"}}),a("el-option",{attrs:{label:"txt",value:".txt"}})],1)],1):e._e(),void 0!==e.activeData.__config__.fileSize?a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.activeData.__config__.fileSize,callback:function(t){e.$set(e.activeData.__config__,"fileSize",e._n(t))},expression:"activeData.__config__.fileSize"}},[a("el-select",{style:{width:"66px"},attrs:{slot:"append"},slot:"append",model:{value:e.activeData.__config__.sizeUnit,callback:function(t){e.$set(e.activeData.__config__,"sizeUnit",t)},expression:"activeData.__config__.sizeUnit"}},[a("el-option",{attrs:{label:"KB",value:"KB"}}),a("el-option",{attrs:{label:"MB",value:"MB"}}),a("el-option",{attrs:{label:"GB",value:"GB"}})],1)],1)],1):e._e(),void 0!==e.activeData["list-type"]?a("el-form-item",{attrs:{label:"列表类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData["list-type"],callback:function(t){e.$set(e.activeData,"list-type",t)},expression:"activeData['list-type']"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v(" text ")]),a("el-radio-button",{attrs:{label:"picture"}},[e._v(" picture ")]),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v(" picture-card ")])],1)],1):e._e(),void 0!==e.activeData.type&&"el-button"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"按钮类型"}},[a("el-select",{style:{width:"100%"},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-option",{attrs:{label:"primary",value:"primary"}}),a("el-option",{attrs:{label:"success",value:"success"}}),a("el-option",{attrs:{label:"warning",value:"warning"}}),a("el-option",{attrs:{label:"danger",value:"danger"}}),a("el-option",{attrs:{label:"info",value:"info"}}),a("el-option",{attrs:{label:"text",value:"text"}})],1)],1):e._e(),void 0!==e.activeData.__config__.buttonText?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"picture-card"!==e.activeData["list-type"],expression:"'picture-card' !== activeData['list-type']"}],attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.__config__.buttonText,callback:function(t){e.$set(e.activeData.__config__,"buttonText",t)},expression:"activeData.__config__.buttonText"}})],1):e._e(),"el-button"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.__slot__.default,callback:function(t){e.$set(e.activeData.__slot__,"default",t)},expression:"activeData.__slot__.default"}})],1):e._e(),void 0!==e.activeData["range-separator"]?a("el-form-item",{attrs:{label:"分隔符"}},[a("el-input",{attrs:{placeholder:"请输入分隔符"},model:{value:e.activeData["range-separator"],callback:function(t){e.$set(e.activeData,"range-separator",t)},expression:"activeData['range-separator']"}})],1):e._e(),void 0!==e.activeData["picker-options"]?a("el-form-item",{attrs:{label:"时间段"}},[a("el-input",{attrs:{placeholder:"请输入时间段"},model:{value:e.activeData["picker-options"].selectableRange,callback:function(t){e.$set(e.activeData["picker-options"],"selectableRange",t)},expression:"activeData['picker-options'].selectableRange"}})],1):e._e(),void 0!==e.activeData.format?a("el-form-item",{attrs:{label:"时间格式"}},[a("el-input",{attrs:{value:e.activeData.format,placeholder:"请输入时间格式"},on:{input:function(t){return e.setTimeValue(t)}}})],1):e._e(),["el-checkbox-group","el-radio-group","el-select"].indexOf(e.activeData.__config__.tag)>-1?[a("el-divider",[e._v("选项")]),a("draggable",{attrs:{list:e.activeData.__slot__.options,animation:340,group:"selectItem",handle:".option-drag"}},e._l(e.activeData.__slot__.options,(function(t,i){return a("div",{key:i,staticClass:"select-item"},[a("div",{staticClass:"select-line-icon option-drag"},[a("i",{staticClass:"el-icon-s-operation"})]),a("el-input",{attrs:{placeholder:"选项名",size:"small"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),a("el-input",{attrs:{placeholder:"分值",size:"small",value:t.score},on:{input:function(a){return e.setScoreValue(t,a)}}}),a("div",{staticClass:"close-btn select-line-icon",on:{click:function(t){return e.activeData.__slot__.options.splice(i,1)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)})),0),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSelectItem}},[e._v(" 添加选项 ")])],1),a("el-divider")]:e._e(),["el-cascader"].indexOf(e.activeData.__config__.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(' :data="activeData.options" node-key="id" :expand-on-click-node="false" :render-content="renderContent" /> '),"static"===e.activeData.__config__.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addTreeItem}},[e._v(" 添加父级 ")])],1):e._e(),a("el-divider")]:e._e(),void 0!==e.activeData.__config__.optionType?a("el-form-item",{attrs:{label:"选项样式"}},[a("el-radio-group",{model:{value:e.activeData.__config__.optionType,callback:function(t){e.$set(e.activeData.__config__,"optionType",t)},expression:"activeData.__config__.optionType"}},[a("el-radio-button",{attrs:{label:"default"}},[e._v(" 默认 ")]),a("el-radio-button",{attrs:{label:"button"}},[e._v(" 按钮 ")])],1)],1):e._e(),void 0!==e.activeData["active-color"]?a("el-form-item",{attrs:{label:"开启颜色"}},[a("el-color-picker",{model:{value:e.activeData["active-color"],callback:function(t){e.$set(e.activeData,"active-color",t)},expression:"activeData['active-color']"}})],1):e._e(),void 0!==e.activeData["inactive-color"]?a("el-form-item",{attrs:{label:"关闭颜色"}},[a("el-color-picker",{model:{value:e.activeData["inactive-color"],callback:function(t){e.$set(e.activeData,"inactive-color",t)},expression:"activeData['inactive-color']"}})],1):e._e(),void 0!==e.activeData.__config__.showLabel&&void 0!==e.activeData.__config__.labelWidth?a("el-form-item",{attrs:{label:"显示标签"}},[a("el-switch",{model:{value:e.activeData.__config__.showLabel,callback:function(t){e.$set(e.activeData.__config__,"showLabel",t)},expression:"activeData.__config__.showLabel"}})],1):e._e(),void 0!==e.activeData.branding?a("el-form-item",{attrs:{label:"品牌烙印"}},[a("el-switch",{on:{input:e.changeRenderKey},model:{value:e.activeData.branding,callback:function(t){e.$set(e.activeData,"branding",t)},expression:"activeData.branding"}})],1):e._e(),void 0!==e.activeData["allow-half"]?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.activeData["allow-half"],callback:function(t){e.$set(e.activeData,"allow-half",t)},expression:"activeData['allow-half']"}})],1):e._e(),void 0!==e.activeData["show-text"]?a("el-form-item",{attrs:{label:"辅助文字"}},[a("el-switch",{on:{change:e.rateTextChange},model:{value:e.activeData["show-text"],callback:function(t){e.$set(e.activeData,"show-text",t)},expression:"activeData['show-text']"}})],1):e._e(),void 0!==e.activeData["show-score"]?a("el-form-item",{attrs:{label:"显示分数"}},[a("el-switch",{on:{change:e.rateScoreChange},model:{value:e.activeData["show-score"],callback:function(t){e.$set(e.activeData,"show-score",t)},expression:"activeData['show-score']"}})],1):e._e(),void 0!==e.activeData["show-stops"]?a("el-form-item",{attrs:{label:"显示间断点"}},[a("el-switch",{model:{value:e.activeData["show-stops"],callback:function(t){e.$set(e.activeData,"show-stops",t)},expression:"activeData['show-stops']"}})],1):e._e(),void 0!==e.activeData.range?a("el-form-item",{attrs:{label:"范围选择"}},[a("el-switch",{on:{change:e.rangeChange},model:{value:e.activeData.range,callback:function(t){e.$set(e.activeData,"range",t)},expression:"activeData.range"}})],1):e._e(),void 0!==e.activeData.__config__.border&&"default"===e.activeData.__config__.optionType?a("el-form-item",{attrs:{label:"是否带边框"}},[a("el-switch",{model:{value:e.activeData.__config__.border,callback:function(t){e.$set(e.activeData.__config__,"border",t)},expression:"activeData.__config__.border"}})],1):e._e(),"el-color-picker"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"颜色格式"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择颜色格式",clearable:""},on:{change:e.colorFormatChange},model:{value:e.activeData["color-format"],callback:function(t){e.$set(e.activeData,"color-format",t)},expression:"activeData['color-format']"}},e._l(e.colorFormatOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0===e.activeData.size||"button"!==e.activeData.__config__.optionType&&!e.activeData.__config__.border&&"el-color-picker"!==e.activeData.__config__.tag&&"el-button"!==e.activeData.__config__.tag?e._e():a("el-form-item",{attrs:{label:"组件尺寸"}},[a("el-radio-group",{model:{value:e.activeData.size,callback:function(t){e.$set(e.activeData,"size",t)},expression:"activeData.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v(" 中等 ")]),a("el-radio-button",{attrs:{label:"small"}},[e._v(" 较小 ")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v(" 迷你 ")])],1)],1),void 0!==e.activeData["show-word-limit"]?a("el-form-item",{attrs:{label:"输入统计"}},[a("el-switch",{model:{value:e.activeData["show-word-limit"],callback:function(t){e.$set(e.activeData,"show-word-limit",t)},expression:"activeData['show-word-limit']"}})],1):e._e(),"el-input-number"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"严格步数"}},[a("el-switch",{model:{value:e.activeData["step-strictly"],callback:function(t){e.$set(e.activeData,"step-strictly",t)},expression:"activeData['step-strictly']"}})],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"任选层级"}},[a("el-switch",{model:{value:e.activeData.props.props.checkStrictly,callback:function(t){e.$set(e.activeData.props.props,"checkStrictly",t)},expression:"activeData.props.props.checkStrictly"}})],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{model:{value:e.activeData.props.props.multiple,callback:function(t){e.$set(e.activeData.props.props,"multiple",t)},expression:"activeData.props.props.multiple"}})],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"展示全路径"}},[a("el-switch",{model:{value:e.activeData["show-all-levels"],callback:function(t){e.$set(e.activeData,"show-all-levels",t)},expression:"activeData['show-all-levels']"}})],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"可否筛选"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),void 0!==e.activeData.clearable?a("el-form-item",{attrs:{label:"能否清空"}},[a("el-switch",{model:{value:e.activeData.clearable,callback:function(t){e.$set(e.activeData,"clearable",t)},expression:"activeData.clearable"}})],1):e._e(),void 0!==e.activeData.__config__.showTip?a("el-form-item",{attrs:{label:"显示提示"}},[a("el-switch",{model:{value:e.activeData.__config__.showTip,callback:function(t){e.$set(e.activeData.__config__,"showTip",t)},expression:"activeData.__config__.showTip"}})],1):e._e(),"el-upload"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"多选文件"}},[a("el-switch",{model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),"el-upload"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"文件个数"}},[a("el-input-number",{model:{value:e.activeData.limit,callback:function(t){e.$set(e.activeData,"limit",t)},expression:"activeData.limit"}})],1):e._e(),void 0!==e.activeData.readonly?a("el-form-item",{attrs:{label:"是否只读"}},[a("el-switch",{model:{value:e.activeData.readonly,callback:function(t){e.$set(e.activeData,"readonly",t)},expression:"activeData.readonly"}})],1):e._e(),void 0!==e.activeData.disabled?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:e.activeData.disabled,callback:function(t){e.$set(e.activeData,"disabled",t)},expression:"activeData.disabled"}})],1):e._e(),"el-select"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"能否搜索"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),"el-select"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.multipleChange},model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),void 0!==e.activeData.__config__.required?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.activeData.__config__.required,callback:function(t){e.$set(e.activeData.__config__,"required",t)},expression:"activeData.__config__.required"}})],1):e._e(),e.activeData.__config__.layoutTree?[a("el-divider",[e._v("布局结构树")]),a("el-tree",{attrs:{data:[e.activeData.__config__],props:e.layoutTreeProps,"node-key":"renderKey","default-expand-all":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,o=t.data;return a("span",{},[a("span",{staticClass:"node-label"},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":o.__config__?o.__config__.tagIcon:o.tagIcon}}),e._v(" "+e._s(i.label)+" ")],1)])}}],null,!1,3924665115)})]:e._e(),Array.isArray(e.activeData.__config__.regList)?[a("el-divider",[e._v("正则校验")]),e._l(e.activeData.__config__.regList,(function(t,i){return a("div",{key:i,staticClass:"reg-item"},[a("span",{staticClass:"close-btn",on:{click:function(t){return e.activeData.__config__.regList.splice(i,1)}}},[a("i",{staticClass:"el-icon-close"})]),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{placeholder:"请输入正则"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"item.pattern"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"请输入错误提示"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1)],1)})),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addReg}},[e._v(" 添加规则 ")])],1)]:e._e()],2),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"form"===e.currentTab,expression:"currentTab === 'form'"}],attrs:{size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"表单名"}},[a("el-input",{attrs:{placeholder:"请输入表单名（ref）"},model:{value:e.formConf.formRef,callback:function(t){e.$set(e.formConf,"formRef",t)},expression:"formConf.formRef"}})],1),a("el-form-item",{attrs:{label:"表单模型"}},[a("el-input",{attrs:{placeholder:"请输入数据模型"},model:{value:e.formConf.formModel,callback:function(t){e.$set(e.formConf,"formModel",t)},expression:"formConf.formModel"}})],1),a("el-form-item",{attrs:{label:"校验模型"}},[a("el-input",{attrs:{placeholder:"请输入校验模型"},model:{value:e.formConf.formRules,callback:function(t){e.$set(e.formConf,"formRules",t)},expression:"formConf.formRules"}})],1),a("el-form-item",{attrs:{label:"表单尺寸"}},[a("el-radio-group",{model:{value:e.formConf.size,callback:function(t){e.$set(e.formConf,"size",t)},expression:"formConf.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v(" 中等 ")]),a("el-radio-button",{attrs:{label:"small"}},[e._v(" 较小 ")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v(" 迷你 ")])],1)],1),a("el-form-item",{attrs:{label:"标签对齐"}},[a("el-radio-group",{model:{value:e.formConf.labelPosition,callback:function(t){e.$set(e.formConf,"labelPosition",t)},expression:"formConf.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(" 左对齐 ")]),a("el-radio-button",{attrs:{label:"right"}},[e._v(" 右对齐 ")]),a("el-radio-button",{attrs:{label:"top"}},[e._v(" 顶部对齐 ")])],1)],1),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.formConf.labelWidth,callback:function(t){e.$set(e.formConf,"labelWidth",e._n(t))},expression:"formConf.labelWidth"}})],1),a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.formConf.gutter,callback:function(t){e.$set(e.formConf,"gutter",t)},expression:"formConf.gutter"}})],1),a("el-form-item",{attrs:{label:"禁用表单"}},[a("el-switch",{model:{value:e.formConf.disabled,callback:function(t){e.$set(e.formConf,"disabled",t)},expression:"formConf.disabled"}})],1),a("el-form-item",{attrs:{label:"表单按钮"}},[a("el-switch",{model:{value:e.formConf.formBtns,callback:function(t){e.$set(e.formConf,"formBtns",t)},expression:"formConf.formBtns"}})],1),a("el-form-item",{attrs:{label:"显示未选中组件边框"}},[a("el-switch",{model:{value:e.formConf.unFocusedComponentBorder,callback:function(t){e.$set(e.formConf,"unFocusedComponentBorder",t)},expression:"formConf.unFocusedComponentBorder"}})],1)],1)],1)],1),a("treeNode-dialog",{attrs:{visible:e.dialogVisible,title:"添加选项"},on:{"update:visible":function(t){e.dialogVisible=t},commit:e.addNode}}),a("icons-dialog",{attrs:{visible:e.iconsVisible,current:e.activeData[e.currentIconModel]},on:{"update:visible":function(t){e.iconsVisible=t},select:e.setIcon}})],1)},o=[],n=(a("99af"),a("7db0"),a("d3b7"),a("c740"),a("a434"),a("a15b"),a("d81d"),a("caad"),a("3022")),l=a("532c"),s=a("ed08"),r=a("3442"),c=a("7ce6"),u=(a("55ef"),a("e31c")),d=a("9619"),p=a("1980"),m=a.n(p),f={date:"yyyy-MM-dd",week:"yyyy 第 WW 周",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss"},v=["tinymce"],g={components:{TreeNodeDialog:l["default"],draggable:m.a,IconsDialog:r["default"]},props:["showField","activeData","formConf"],data:function(){return{currentTab:"field",currentNode:null,dialogVisible:!1,iconsVisible:!1,currentIconModel:null,dateTypeOptions:[{label:"日(date)",value:"date"},{label:"周(week)",value:"week"},{label:"月(month)",value:"month"},{label:"年(year)",value:"year"},{label:"日期时间(datetime)",value:"datetime"}],dateRangeTypeOptions:[{label:"日期范围(daterange)",value:"daterange"},{label:"月范围(monthrange)",value:"monthrange"},{label:"日期时间范围(datetimerange)",value:"datetimerange"}],colorFormatOptions:[{label:"hex",value:"hex"},{label:"rgb",value:"rgb"},{label:"rgba",value:"rgba"},{label:"hsv",value:"hsv"},{label:"hsl",value:"hsl"}],justifyOptions:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}],layoutTreeProps:{label:function(e,t){var a=e.__config__;return e.componentName||"".concat(a.label,": ").concat(e.__vModel__)}}}},computed:{dateOptions:function(){return void 0!==this.activeData.type&&"el-date-picker"===this.activeData.__config__.tag?void 0===this.activeData["start-placeholder"]?this.dateTypeOptions:this.dateRangeTypeOptions:[]},tagList:function(){return[{label:"输入型组件",options:c["b"]},{label:"选择型组件",options:c["c"]}]},activeTag:function(){return this.activeData.__config__.tag},isShowMin:function(){return["el-input-number","el-slider"].indexOf(this.activeTag)>-1},isShowMax:function(){return["el-input-number","el-slider","el-rate"].indexOf(this.activeTag)>-1},isShowStep:function(){return["el-input-number","el-slider"].indexOf(this.activeTag)>-1}},watch:{formConf:{handler:function(e){Object(u["e"])(e)},deep:!0},activeData:{handler:function(e,t){e.__config__.formId===t.__config__.formId&&e&&this.dataChange(e)},deep:!0}},methods:{addReg:function(){this.activeData.__config__.regList.push({pattern:"",message:""})},addSelectItem:function(){this.activeData.__slot__.options.push({label:"",value:this.activeData.__slot__.options.length+1,score:this.activeData.__slot__.options.length+1})},addSelectOtherItem:function(){var e=this.activeData.__slot__.options.find((function(e){return 0==e.value}));console.log(e),e||this.activeData.__slot__.options.push({label:"其他",value:0,score:0})},addTreeItem:function(){++this.idGlobal,this.dialogVisible=!0,this.currentNode=this.activeData.options},renderContent:function(e,t){var a=this,i=t.node,o=t.data;t.store;return e("div",{class:"custom-tree-node"},[e("span",[i.label]),e("span",{class:"node-operation"},[e("i",{on:{click:function(){return a.append(o)}},class:"el-icon-plus",attrs:{title:"添加"}}),e("i",{on:{click:function(){return a.remove(i,o)}},class:"el-icon-delete",attrs:{title:"删除"}})])])},append:function(e){e.children||this.$set(e,"children",[]),this.dialogVisible=!0,this.currentNode=e.children},remove:function(e,t){this.activeData.__config__.defaultValue=[];var a=e.parent,i=a.data.children||a.data,o=i.findIndex((function(e){return e.id===t.id}));i.splice(o,1)},addNode:function(e){this.currentNode.push(e)},setOptionValue:function(e,t){e.value=Object(s["i"])(t)?+t:t},setScoreValue:function(e,t){e.score=Object(s["i"])(t)?+t:t},setDefaultValue:function(e){return Array.isArray(e)?e.join(","):"boolean"===typeof e?"".concat(e):e},onDefaultValueInput:function(e){Object(n["isArray"])(this.activeData.__config__.defaultValue)?this.$set(this.activeData.__config__,"defaultValue",e.split(",").map((function(e){return Object(s["i"])(e)?+e:e}))):["true","false"].indexOf(e)>-1?this.$set(this.activeData.__config__,"defaultValue",JSON.parse(e)):this.$set(this.activeData.__config__,"defaultValue",Object(s["i"])(e)?+e:e)},onFieldValueInput:function(e){console.log(this.activeData)},onSwitchValueInput:function(e,t){["true","false"].indexOf(e)>-1?this.$set(this.activeData,t,JSON.parse(e)):this.$set(this.activeData,t,Object(s["i"])(e)?+e:e)},setTimeValue:function(e,t){var a="week"===t?f.date:e;this.$set(this.activeData.__config__,"defaultValue",null),this.$set(this.activeData,"value-format",a),this.$set(this.activeData,"format",e),console.log(this.activeData)},spanChange:function(e){this.formConf.span=e},multipleChange:function(e){this.$set(this.activeData.__config__,"defaultValue",e?[]:"")},dateTypeChange:function(e){this.setTimeValue(f[e],e)},rangeChange:function(e){this.$set(this.activeData.__config__,"defaultValue",e?[this.activeData.min,this.activeData.max]:this.activeData.min)},rateTextChange:function(e){e&&(this.activeData["show-score"]=!1)},rateScoreChange:function(e){e&&(this.activeData["show-text"]=!1)},colorFormatChange:function(e){this.activeData.__config__.defaultValue=null,this.activeData["show-alpha"]=e.indexOf("a")>-1,this.activeData.__config__.renderKey=+new Date},openIconsDialog:function(e){this.iconsVisible=!0,this.currentIconModel=e},setIcon:function(e){this.activeData[this.currentIconModel]=e},tagChange:function(e){var t=c["b"].find((function(t){return t.__config__.tagIcon===e}));t||(t=c["c"].find((function(t){return t.__config__.tagIcon===e}))),this.$emit("tag-change",t)},dataChange:Object(d["debounce"])(430,!1,(function(e){this.$emit("data-change",e)})),changeRenderKey:function(){v.includes(this.activeData.__config__.tag)&&(this.activeData.__config__.renderKey=+new Date)}}},h=g,_=(a("d8fe"),a("2877")),b=Object(_["a"])(h,i,o,!1,null,"e8ddb95a",null);t["default"]=b.exports},f18e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-form",style:{backgroundColor:e.projectTheme.backgroundColor,background:e.projectTheme.backgroundImg?"url("+e.projectTheme.backgroundImg+")  no-repeat center":""}},[a("div",{},[a("div",{style:{textAlign:e.projectTheme.logoPosition}},[a("img",{staticClass:"logo-img",attrs:{src:e.projectTheme.logoImg}})]),e.projectTheme.headImgUrl?a("el-image",{staticStyle:{width:"100%"},attrs:{src:e.projectTheme.headImgUrl,fit:"scale-down"}}):e._e(),e.projectTheme.showTitle?a("h4",{staticClass:"form-name-text",staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.formConf.title)+" ")]):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectTheme.showDescribe,expression:"projectTheme.showDescribe"}],staticClass:"form-name-text",domProps:{innerHTML:e._s(e.formConf.description)}}),a("el-divider"),e.startParser?a("parser",{attrs:{"form-conf":e.formConf},on:{submit:e.submitForm}}):e._e()],1)])},o=[],n=(a("d81d"),a("b0c0"),a("a4d3"),a("e01a"),a("9f75")),l=a("bcc2"),s=a("46a8");window.onload=function(){document.addEventListener("touchstart",(function(e){e.touches.length>1&&e.preventDefault()})),document.addEventListener("gesturestart",(function(e){e.preventDefault()}))};var r={components:{Parser:n["a"]},props:{projectConfig:{projectKey:"",showBtns:!0,projectKind:1}},data:function(){return{startParser:!1,projectTheme:{headImgUrl:"",logoImg:"",showTitle:!0,showDescribe:!0},formConf:{fields:[],projectKey:"",projectKind:1,__methods__:{},formRef:"elForm",formModel:"formData",labelFormModel:"labelFormData",size:"small",labelPosition:"top",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0,resetBtn:!1,submitBtnText:"提交",submitBtnColor:"#205bb5",showNumber:!1,unFocusedComponentBorder:!0}}},computed:{},watch:{},beforeCreate:function(){document.querySelector("body").className="project-body"},created:function(){this.projectConfig&&this.projectConfig.projectKey?(this.formConf.projectKey=this.projectConfig.projectKey,this.projectConfig.projectKind&&(this.formConf.projectKind=this.projectConfig.projectKind)):this.$route.query.key&&(this.formConf.projectKey=this.$route.query.key,this.$route.query.kind&&(this.formConf.projectKind=this.$route.query.kind),this.formConf.formBtns=!0),this.formConf.size=window.innerWidth<480?"medium":"small"},mounted:function(){var e=this,t="/user/project/details/".concat(this.formConf.projectKey);2==this.formConf.projectKind&&(t="/project/template/details/".concat(this.formConf.projectKey)),Object(s["g"])(t).then((function(t){if(t.data){var a=1,i=t.data.projectItems.map((function(e){var t=Object(l["a"])(e);return t.serialNumber=a,a++,t}));if(e.formConf.fields=i,e.formConf.title=t.data.project.name,e.formConf.description=t.data.project.describe,e.formConf.description=t.data.project.describe,t.data.userProjectTheme){e.projectTheme=t.data.userProjectTheme;var o=t.data.userProjectTheme,n=o.submitBtnText,s=o.showNumber,r=o.btnsColor;n&&(e.formConf.submitBtnText=n),s&&(e.formConf.showNumber=s),r&&(e.formConf.submitBtnColor=r)}e.startParser=!0}}))},methods:{submitForm:function(e){this.$emit("submit",e)}}},c=r,u=(a("7260"),a("2877")),d=Object(u["a"])(c,i,o,!1,null,null,null);t["default"]=d.exports},ff66:function(e,t,a){}}]);