(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"11b4":function(e,t,o){},"15da":function(e,t,o){"use strict";o("9fc6")},"18ed":function(e,t,o){"use strict";o("cde4")},2301:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"my-card-header",attrs:{shadow:"never"}},[o("div",{staticClass:"toptitle",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("标题："+e._s(e.details.name))])]),e.imgDetails?o("el-row",{staticClass:"box"},[o("div",{staticClass:"img-box"},[e.details&&e.details.attachment[0].file_path?o("img",{staticClass:"img",attrs:{src:e.details.attachment[0].file_path,alt:""}}):e._e()])]):e._e(),e.videoDetails?o("el-row",{staticClass:"box"},[e.details&&e.details.attachment[0].file_path?o("video",{ref:"video",attrs:{controlslist:"nodownload",muted:"",width:"100%",height:"420",src:e.details.attachment[0].file_path,autoplay:"",controls:""},domProps:{muted:!0}}):e._e()]):e._e()],1)},a=[],i={props:["details","imgDetails","videoDetails","audioDetails"],created:function(){}},s=i,r=(o("ba5b"),o("2877")),l=Object(r["a"])(s,n,a,!1,null,"0ead9c71",null);t["a"]=l.exports},"2aaa":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"my-card-header",attrs:{shadow:"never"}},[o("div",{staticClass:"toptitle",attrs:{slot:"header"},slot:"header"},["VideoManageDetails"==e.$route.name?o("span",[e._v("视频信息")]):"AudioDetails"==e.$route.name?o("span",[e._v("音频信息")]):o("span",[e._v("图片信息")])]),o("el-row",[o("el-form",{attrs:{model:e.details,"label-width":"80px"}},["AudioDetails"==e.$route.name?o("el-form-item",[o("el-row",{staticClass:"box"},[o("el-col",{attrs:{span:6}},[o("div",{staticClass:"leftImg"})]),o("el-col",{attrs:{span:8}},[o("div",{staticClass:"rightBoxTitle"},[e._v(e._s(e.details.name))]),o("div",{staticClass:"rightBoxText"},[o("span",[e._v("上传科室:")]),o("span",[e._v(e._s(e.details.upload_dept_name))])]),o("div",{staticClass:"rightBoxText"},[o("span",[e._v("上传人:")]),o("span",[e._v(e._s(e.details.upload_person))])])])],1)],1):e._e(),"AudioDetails"==e.$route.name?o("el-form-item",[o("el-row",{staticClass:"box"},[e.details&&e.details.attachment[0].file_path?o("audio",{attrs:{muted:"",width:"100%",height:"420",src:e.details.attachment[0].file_path,autoplay:"",controls:""}}):e._e()])],1):e._e(),"AudioDetails"!==e.$route.name?o("el-form-item",{attrs:{label:"上传科室"}},[o("el-input",{attrs:{disabled:""},model:{value:e.details.upload_dept_name,callback:function(t){e.$set(e.details,"upload_dept_name",t)},expression:"details.upload_dept_name"}})],1):e._e(),"AudioDetails"!==e.$route.name?o("el-form-item",{attrs:{label:"上传人"}},[o("el-input",{attrs:{disabled:""},model:{value:e.details.upload_person,callback:function(t){e.$set(e.details,"upload_person",t)},expression:"details.upload_person"}})],1):e._e(),"AudioDetails"!==e.$route.name?o("el-form-item",{attrs:{label:"名称"}},[o("el-input",{attrs:{disabled:""},model:{value:e.details.name,callback:function(t){e.$set(e.details,"name",t)},expression:"details.name"}})],1):e._e(),o("el-form-item",{attrs:{label:"业务类型"}},[o("el-input",{attrs:{disabled:""},model:{value:e.details.business_type_name,callback:function(t){e.$set(e.details,"business_type_name",t)},expression:"details.business_type_name"}})],1),o("el-form-item",{attrs:{label:"业务主题"}},[o("el-input",{attrs:{disabled:""},model:{value:e.details.business_subject_name,callback:function(t){e.$set(e.details,"business_subject_name",t)},expression:"details.business_subject_name"}})],1),o("el-form-item",{attrs:{label:"上传日期"}},[o("el-input",{attrs:{disabled:""},model:{value:e.details.upload_date,callback:function(t){e.$set(e.details,"upload_date",t)},expression:"details.upload_date"}})],1),o("el-form-item",{attrs:{label:"来源"}},[o("el-input",{attrs:{disabled:""},model:{value:e.details.image_source,callback:function(t){e.$set(e.details,"image_source",t)},expression:"details.image_source"}})],1)],1)],1)],1)},a=[],i={props:["details"],mounted:function(){console.log("this,details",this.details)}},s=i,r=(o("ca39"),o("2877")),l=Object(r["a"])(s,n,a,!1,null,"7b4e5a15",null);t["a"]=l.exports},"3b52":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"my-card-header",attrs:{shadow:"never"}},[n("div",{staticClass:"toptitle",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("历史上传")])]),n("el-row",[n("el-form",{attrs:{size:"medium",inline:!0,model:e.formSearch}},[n("el-form-item",{attrs:{label:"上传日期"}},[n("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formSearch.date,callback:function(t){e.$set(e.formSearch,"date",t)},expression:"formSearch.date"}})],1),n("el-form-item",[n("el-button",{staticClass:"searchBtn",on:{click:e.searchData}},[e._v("查询")])],1),n("el-form-item",[n("el-button",{staticClass:"resetBtn",on:{click:e.resetData}},[e._v("重置")])],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-row-class-name":"my-header-bg"}},[e._v(" > "),n("el-table-column",{attrs:{align:"center","header-align":"center",label:e.rowname,width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.imgDetails?n("router-link",{staticClass:"img-box",attrs:{to:{name:"ImgDetails",query:{details:t.row}}}},[t.row&&t.row.attachment[0]&&t.row.attachment[0].file_path?n("img",{attrs:{src:t.row.attachment[0].file_path,alt:""}}):e._e()]):e.videoDetails?n("router-link",{staticClass:"img-box",attrs:{to:{name:"VideoManageDetails",query:{details:t.row}}}},[t.row&&t.row.attachment[0]?n("video",{attrs:{controls:"",src:t.row.attachment[0].file_path}}):e._e()]):e.audioDetails?n("router-link",{staticClass:"img-box",attrs:{to:{name:"AudioDetails",query:{details:t.row}}}},[t.row&&t.row.attachment[0]&&t.row.attachment[0].file_path?n("img",{attrs:{src:o("dfc2"),alt:""}}):e._e()]):e._e()]}}])}),n("el-table-column",{attrs:{align:"left","header-align":"center",label:"详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v("名称："+e._s(t.row.name))]),n("div",[e._v("业务类型："+e._s(t.row.business_type_name))]),n("div",[e._v("业务主题："+e._s(t.row.business_subject_name))])]}}])}),n("el-table-column",{attrs:{align:"center","header-align":"center",label:"上传日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.upload_date)+" ")]}}])}),n("el-table-column",{attrs:{align:"center","header-align":"center",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("iconBtn",{ref:"iconBtn",attrs:{iconClass:"el-icon-edit-outline",effect:"light",content:"编辑",placement:"bottom"},on:{click:function(o){return e.goToEdit(t.row.id)}}}),n("iconBtn",{ref:"iconBtn",attrs:{iconClass:"el-icon-delete",effect:"light",content:"删除",placement:"bottom"},on:{click:function(o){return e.handleDelete(t.row.id)}}}),n("iconBtn",{ref:"iconBtn",attrs:{iconClass:"el-icon-download",effect:"light",content:"下载",placement:"bottom"},on:{click:function(o){return e.handleDownload(t.row.id,t.row)}}})]}}])})],1),n("el-row",{staticClass:"mt-30",attrs:{type:"flex",justify:"center"}},[n("el-pagination",{attrs:{background:"","current-page":e.pageNumber,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:" total, prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},a=[],i=o("1da1"),s=(o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("9861"),o("96cf"),o("5f87")),r=o("ee70"),l=o("a5f5"),c=o("b775"),d={props:["imgDetails","videoDetails","audioDetails","state"],components:{iconBtn:r["a"]},created:function(){this.getHistoryList(),"audio"===this.state&&(this.rowname="音频"),"video"===this.state&&(this.rowname="视频")},data:function(){return{rowname:"",srcImg:void 0,formSearch:{date:[]},total:0,pageNumber:1,pageSize:5,tableData:[],upload_type:void 0}},methods:{getHistoryList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.imgDetails?e.upload_type=6:e.videoDetails?e.upload_type=7:e.audioDetails&&(e.upload_type=8),t.next=3,Object(l["g"])({page_size:e.pageSize,page_index:e.pageNumber,startTime:e.formSearch.date?e.formSearch.date[0]:void 0,endTime:e.formSearch.date?e.formSearch.date[1]:void 0,upload_type:e.upload_type});case 3:o=t.sent,e.tableData=o.result.items,e.total=o.result.total;case 6:case"end":return t.stop()}}),t)})))()},searchData:function(){this.getHistoryList()},resetData:function(){this.formSearch={},this.getHistoryList()},handleSizeChange:function(e){this.pageNumber=1,this.pageSize=e,this.getHistoryList()},handleCurrentChange:function(e){this.pageNumber=e,this.getHistoryList()},goToEdit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){var n,a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t.imgDetails){o.next=7;break}return o.next=3,Object(l["e"])(e);case 3:n=o.sent,t.$router.push({name:"ImgEdit",query:{details:n.result,imgDetails:t.imgDetails}}),o.next=19;break;case 7:if(!t.videoDetails){o.next=14;break}return o.next=10,Object(l["e"])(e);case 10:a=o.sent,t.$router.push({name:"VideoEdit",query:{details:a.result,videoDetails:t.videoDetails}}),o.next=19;break;case 14:if(!t.audioDetails){o.next=19;break}return o.next=17,Object(l["e"])(e);case 17:i=o.sent,t.$router.push({name:"AudioEdit",query:{details:i.result,audioDetails:t.audioDetails}});case 19:case"end":return o.stop()}}),o)})))()},handleDelete:function(e){var t=this;this.$confirm("确定要删除?","警告",{confirmButtonText:"确定",cancelButtonText:"返回",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,Object(l["b"])(e);case 2:n=o.sent,2e3===n.code?(t.$message({type:"success",message:n.msg}),t.getHistoryList()):t.$message({type:"error",message:n.msg});case 4:case"end":return o.stop()}}),o)})))).catch((function(e){}))},handleDownload:function(e,t){var o=c["a"].defaults.baseURL,n="".concat(o,"/sharecenter/shareCenterDownloadFile"),a={responseType:"arraybuffer",headers:{token:Object(s["b"])(),requireId:Object(s["a"])()}};this.$axios.post(n,{id:e},a).then((function(e){var o=new Blob([e.data]),n=document.createElement("a");n.download=t.attachment[0].file_name_old,n.style.display="none",n.href=URL.createObjectURL(o),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)})).catch((function(e){alert(e)}))}}},u=d,m=(o("15da"),o("2877")),p=Object(m["a"])(u,n,a,!1,null,"2957652a",null);t["a"]=p.exports},"41d6":function(e,t,o){},"52ae":function(e,t,o){"use strict";o("ab80")},5608:function(e,t,o){},6131:function(e,t,o){"use strict";o("5608")},6653:function(e,t,o){},"69f0":function(e,t,o){"use strict";o("41d6")},7637:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{attrs:{size:"medium",inline:!0,model:e.formSearch}},[o("el-form-item",{attrs:{label:"上传日期"}},[o("el-date-picker",{staticStyle:{width:"300px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formSearch.date,callback:function(t){e.$set(e.formSearch,"date",t)},expression:"formSearch.date"}})],1),o("el-form-item",{attrs:{label:"科室"}},[o("el-select",{staticStyle:{width:"250px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择科室"},model:{value:e.formSearch.department,callback:function(t){e.$set(e.formSearch,"department",t)},expression:"formSearch.department"}},e._l(e.departmentOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.dept_name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"业务类型"}},[o("el-select",{attrs:{clearable:"",placeholder:"请选择业务类型"},model:{value:e.formSearch.businessType,callback:function(t){e.$set(e.formSearch,"businessType",t)},expression:"formSearch.businessType"}},e._l(e.businessTypeOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.item_text,value:e.item_value}})})),1)],1),o("el-form-item",{attrs:{label:"业务主题"}},[o("el-select",{attrs:{clearable:"",placeholder:"请选择业务主题"},model:{value:e.formSearch.businessTheme,callback:function(t){e.$set(e.formSearch,"businessTheme",t)},expression:"formSearch.businessTheme"}},e._l(e.businessThemeOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.item_text,value:e.item_value}})})),1)],1),o("el-form-item",[o("el-button",{staticClass:"searchBtn",on:{click:e.searchData}},[e._v("查询")])],1),o("el-form-item",[o("el-button",{staticClass:"resetBtn",on:{click:e.resetData}},[e._v("重置")])],1)],1)},a=[],i=o("e56e"),s=o("0e8f"),r={created:function(){this.getDictionary(),this.$emit("getData",this.formSearch),this.getDepartmentList()},data:function(){return{formSearch:{date:"",department:[],businessType:"",businessTheme:""},departmentOptions:[],businessTypeOptions:[],businessThemeOptions:[]}},methods:{getDepartmentList:function(){var e=this;Object(s["c"])().then((function(t){e.departmentOptions=t.result.depts}))},getDictionary:function(){var e=this;Object(i["d"])("BUSINESS_TYPE").then((function(t){e.businessTypeOptions=t.result})),Object(i["d"])("BUSINESS_SUBJECT").then((function(t){e.businessThemeOptions=t.result}))},searchData:function(){this.$emit("getData",this.formSearch)},resetData:function(){this.formSearch={},this.$emit("getData",this.formSearch)}}},l=r,c=o("2877"),d=Object(c["a"])(l,n,a,!1,null,null,null);t["a"]=d.exports},7973:function(e,t,o){},8256:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"tinymce-container",class:{fullscreen:e.fullscreen},style:{width:e.containerWidth}},[o("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),e._v(" "),o("div",{staticClass:"editor-custom-btn-container"},[o("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:e.imageSuccessCBK}})],1)])},a=[],i=(o("b680"),o("a9e3"),o("ac1f"),o("00b4"),o("d3b7"),o("159b"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload-container"},[o("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(" 上传图片 ")]),o("el-dialog",{attrs:{visible:e.dialogVisible,modal:!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:"https://httpbin.org/post","list-type":"picture-card"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" 点击上传 ")])],1),o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 返回 ")]),o("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(" 确定 ")])],1)],1)}),s=[],r=(o("b64b"),o("d81d"),o("3ca3"),o("ddb0"),o("2b3d"),o("9861"),{name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every((function(t){return e.listObj[t].hasSuccess}))},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map((function(t){return e.listObj[t]}));this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图像成功上载。如果出现网络问题，请刷新页面并重新上传！")},handleSuccess:function(e,t){for(var o=t.uid,n=Object.keys(this.listObj),a=0,i=n.length;a<i;a++)if(this.listObj[n[a]].uid===o)return this.listObj[n[a]].url=e.files.file,void(this.listObj[n[a]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,o=Object.keys(this.listObj),n=0,a=o.length;n<a;n++)if(this.listObj[o[n]].uid===t)return void delete this.listObj[o[n]]},beforeUpload:function(e){var t=this,o=window.URL||window.webkitURL,n=e.uid;return this.listObj[n]={},new Promise((function(a,i){var s=new Image;s.src=o.createObjectURL(e),s.onload=function(){t.listObj[n]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},a(!0)}))}}}),l=r,c=(o("d068"),o("2877")),d=Object(c["a"])(l,i,s,!1,null,"56a96f00",null),u=d.exports,m=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],p=m,f=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],h=f,b=o("b85c"),g=[];function _(){return window.tinymce}var v=function(e,t){var o=document.getElementById(e),n=t||function(){};if(!o){var a=document.createElement("script");a.src=e,a.id=e,document.body.appendChild(a),g.push(n);var i="onload"in a?s:r;i(a)}function s(t){t.onload=function(){this.onerror=this.onload=null;var e,o=Object(b["a"])(g);try{for(o.s();!(e=o.n()).done;){var n=e.value;n(null,t)}}catch(a){o.e(a)}finally{o.f()}g=null},t.onerror=function(){this.onerror=this.onload=null,n(new Error("Failed to load "+e),t)}}function r(e){e.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var t,o=Object(b["a"])(g);try{for(o.s();!(t=o.n()).done;){var n=t.value;n(null,e)}}catch(a){o.e(a)}finally{o.f()}g=null}}}o&&n&&(_()?n(null,o):g.push(n))},C=v,y="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",w={name:"Tinymce",components:{editorImage:u},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var e=this.width;return/^[\d]+(\.[\d]+)?$/.test(e)?"".concat(e,"px"):e}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(t.tinymceId).setContent(e||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var e=this;C(y,(function(t){t?e.$message.error(t.message):e.initTinymce()}))},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:h,menubar:this.menubar,plugins:p,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(o){t.value&&o.setContent(t.value),t.hasInit=!0,o.on("NodeChange Change KeyUp SetContent",(function(){e.hasChange=!0,e.$emit("input",o.getContent())}))},setup:function(e){e.on("FullscreenStateChanged",(function(e){t.fullscreen=e.state}))},convert_urls:!1})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach((function(e){return window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))}))}}},U=w,F=(o("bed7"),Object(c["a"])(U,n,a,!1,null,"d1b0fb02",null));t["a"]=F.exports},9018:function(e,t,o){"use strict";o("bae0")},"978c":function(e,t,o){},"9fc6":function(e,t,o){},ab80:function(e,t,o){},b565:function(e,t,o){"use strict";o("d710")},ba5b:function(e,t,o){"use strict";o("11b4")},bae0:function(e,t,o){},bed7:function(e,t,o){"use strict";o("978c")},c369:function(e,t,o){"use strict";o("7973")},ca39:function(e,t,o){"use strict";o("6653")},cde4:function(e,t,o){},cf31:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"leftContentBox"},[o("div",{staticClass:"leftTop"},[o("div",{staticClass:"leftTopTitle"},["查询结果"==e.title?o("img",{attrs:{src:e.chaxunjieguo,alt:""}}):e._e(),"综合要闻"==e.title?o("img",{attrs:{src:e.zongheyaowen,alt:""}}):e._e(),"信息上报管理"==e.title?o("img",{attrs:{src:e.xinxishangbaoguanli,alt:""}}):e._e(),"信息推送管理"==e.title?o("img",{attrs:{src:e.xinxituisongguanli,alt:""}}):e._e()]),o("div",{staticClass:"leftTopSubTitle"},[e._v(e._s(e.textTitle))])]),o("div",{staticClass:"leftCenter"},[e._v(" "+e._s(e.subTitle)+" ")]),o("div",{staticClass:"leftBottom"},e._l(e.tabList,(function(t,n){return o("div",{key:n,class:e.activeName==n?"active":"isnotactive",on:{click:function(o){return e.handleTabClick(t)}}},[e._v(e._s(t.name))])})),0)])},a=[],i=o("4689"),s=o.n(i),r=o("f6ee"),l=o.n(r),c=o("3a1d"),d=o.n(c),u=o("e581"),m=o.n(u),p={props:{title:{type:String,default:""},textTitle:{type:String,default:""},subTitle:{type:String,default:""},tabList:{type:Array,default:function(){return[]}}},data:function(){return{activeName:"",chaxunjieguo:s.a,zongheyaowen:l.a,xinxishangbaoguanli:d.a,xinxituisongguanli:m.a}},methods:{handleTabClick:function(e){this.activeName=e.value,this.$emit("handleTabClick",e)}}},f=p,h=(o("69f0"),o("2877")),b=Object(h["a"])(f,n,a,!1,null,"c3d0a8f2",null);t["a"]=b.exports},d068:function(e,t,o){"use strict";o("fbde")},d710:function(e,t,o){},d978:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{staticClass:"mt-30",attrs:{type:"flex",justify:"center"}},[o("el-pagination",{attrs:{background:"","current-page":e.pageNumber,"page-sizes":[9,18,27,36],"page-size":e.pageSize,layout:" total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],i={props:["total","pageNumber","pageSize"],methods:{handleSizeChange:function(e){this.$emit("resetDataList",{pageSize:e,pageNumber:this.pageNumber})},handleCurrentChange:function(e){this.$emit("resetDataList",{pageSize:this.pageSize,pageNumber:e})}}},s=i,r=o("2877"),l=Object(r["a"])(s,n,a,!1,null,null,null);t["a"]=l.exports},e51b:function(e,t,o){"use strict";var n,a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"info-upload-content-container"},[o("el-form",{ref:"infoUploadContentFormRef",attrs:{model:e.infoUploadContentForm,rules:e.infoUploadContentFormRules,"label-width":"120px",size:"medium"}},[!e.editObj&&e.showTitle?o("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[o("el-input",{attrs:{placeholder:"请输入新闻标题"},model:{value:e.infoUploadContentForm.title,callback:function(t){e.$set(e.infoUploadContentForm,"title",t)},expression:"infoUploadContentForm.title"}})],1):e._e(),e.editObj&&e.editObj.title&&e.showTitle?o("el-row",[o("el-col",{attrs:{span:22}},[e.showTitle?o("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[o("el-input",{attrs:{placeholder:"请输入新闻标题"},model:{value:e.infoUploadContentForm.title,callback:function(t){e.$set(e.infoUploadContentForm,"title",t)},expression:"infoUploadContentForm.title"}})],1):e._e()],1),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{size:"medium",type:"primary",plain:""},on:{click:function(t){return e.showInfoSendListDialog()}}},[e._v("选择")])],1)],1):e._e(),!e.editObj&&e.showpushTitle&&"ReportSearchEdit"!==e.$route.name?o("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[o("el-input",{attrs:{placeholder:"请输入文章标题"},model:{value:e.infoUploadContentForm.title,callback:function(t){e.$set(e.infoUploadContentForm,"title",t)},expression:"infoUploadContentForm.title"}})],1):e._e(),e.editObj&&e.editObj.title&&e.showpushTitle||"ReportSearchEdit"==e.$route.name?o("el-row",[o("el-col",{attrs:{span:21}},[e.showpushTitle?o("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[o("el-input",{attrs:{placeholder:"请输入文章标题"},model:{value:e.infoUploadContentForm.title,callback:function(t){e.$set(e.infoUploadContentForm,"title",t)},expression:"infoUploadContentForm.title"}})],1):e._e()],1),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:2}},[o("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.showInfoSendListDialog()}}},[e._v("选择")])],1)],1):e._e(),e.showTag?o("el-form-item",{attrs:{label:"新闻标签",prop:"tag"}},[o("el-input",{attrs:{placeholder:"请输入新闻标签"},model:{value:e.infoUploadContentForm.tag,callback:function(t){e.$set(e.infoUploadContentForm,"tag",t)},expression:"infoUploadContentForm.tag"}})],1):e._e(),e.showType?o("el-form-item",{attrs:{label:"新闻分类",prop:"type"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择新闻分类"},model:{value:e.infoUploadContentForm.type,callback:function(t){e.$set(e.infoUploadContentForm,"type",t)},expression:"infoUploadContentForm.type"}},e._l(e.typeOptions,(function(e){return o("el-option",{key:e.item_value,attrs:{label:e.item_text,value:e.item_value}})})),1)],1):e._e(),e.showMedia?o("el-form-item",{attrs:{label:"发布媒体",prop:"media"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择发布媒体"},model:{value:e.infoUploadContentForm.media,callback:function(t){e.$set(e.infoUploadContentForm,"media",t)},expression:"infoUploadContentForm.media"}},e._l(e.mediaOptions,(function(e){return o("el-option",{key:e.item_value,attrs:{label:e.item_text,value:e.item_value}})})),1)],1):e._e(),e.showIssueDate?o("el-form-item",{attrs:{prop:"date1",label:"PlatformInfoUpload"==e.$route.name?"上报日期":"发布日期"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"PlatformInfoUpload"==e.$route.name?"请选择上报日期":"请选择发布日期"},model:{value:e.infoUploadContentForm.date1,callback:function(t){e.$set(e.infoUploadContentForm,"date1",t)},expression:"infoUploadContentForm.date1"}})],1):e._e(),e.showTopping?o("el-form-item",{attrs:{label:"是否置顶",prop:"topping"}},[o("el-radio-group",{model:{value:e.infoUploadContentForm.topping,callback:function(t){e.$set(e.infoUploadContentForm,"topping",t)},expression:"infoUploadContentForm.topping"}},[o("el-radio",{attrs:{label:1}},[e._v("是")]),o("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1):e._e(),e.showStopDate&&1==e.infoUploadContentForm.topping?o("el-form-item",{attrs:{label:"置顶截止日期",required:""}},[o("el-form-item",{attrs:{prop:"date2"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请选择置顶截止日期","picker-options":e.pickerOptions},model:{value:e.infoUploadContentForm.date2,callback:function(t){e.$set(e.infoUploadContentForm,"date2",t)},expression:"infoUploadContentForm.date2"}})],1)],1):e._e(),e.showSource?o("el-form-item",{attrs:{label:"新闻来源",prop:"source"}},[o("el-input",{attrs:{placeholder:"请输入新闻来源"},model:{value:e.infoUploadContentForm.source,callback:function(t){e.$set(e.infoUploadContentForm,"source",t)},expression:"infoUploadContentForm.source"}})],1):e._e(),e.showCarousel?o("el-form-item",{attrs:{label:"上传轮播图",prop:"file"}},[o("el-upload",{ref:"carouselFileListRefs",attrs:{action:e.request.defaults.baseURL+"/UploadFile/uploadFile","on-success":e.handleCarouselSuccess,"before-upload":e.beforeCarouselUpload,headers:{token:e.token,requireId:e.requireId},"list-type":"picture-card","file-list":e.infoUploadContentForm.file,limit:1,"on-exceed":e.handleCarouselExceed},scopedSlots:e._u([{key:"file",fn:function(t){var n=t.file;return o("div",{},[o("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:n.url,alt:""}}),o("span",{staticClass:"el-upload-list__item-actions"},[o("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(n)}}},[o("i",{staticClass:"el-icon-zoom-in"})]),o("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(n)}}},[o("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,1219996380)},[o("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),o("div",{staticClass:"fs-red-12"},[e._v(" *请上传jpg、jpeg、png格式图片，图片大小小于100MB ")])],1):e._e(),e.showReportMode?o("el-form-item",{attrs:{label:"上报方式",prop:"mode"}},[o("el-col",[o("el-radio-group",{model:{value:e.infoUploadContentForm.mode,callback:function(t){e.$set(e.infoUploadContentForm,"mode",t)},expression:"infoUploadContentForm.mode"}},[e.showModeVideo?o("el-radio",{attrs:{label:3}},[e._v("上传视频")]):e._e(),e.showWebsite?o("el-radio",{attrs:{label:1}},[e._v("上传网址")]):e._e(),e.showModeDocument?o("el-radio",{attrs:{label:2}},[e._v("编辑文档")]):e._e(),e.showImportDocument?o("el-radio",{attrs:{label:4}},[e._v("上传文档")]):e._e()],1)],1),o("el-col",[o("span",{staticClass:"fs-red-12"},[e._v("*编辑文档或者上传文档正文字数不得少于400字！")])])],1):e._e(),e.showMode?o("el-form-item",{attrs:{label:"上传方式",prop:"mode"}},[o("el-col",[o("el-radio-group",{model:{value:e.infoUploadContentForm.mode,callback:function(t){e.$set(e.infoUploadContentForm,"mode",t)},expression:"infoUploadContentForm.mode"}},[e.showModeVideo?o("el-radio",{attrs:{label:3}},[e._v("上传视频")]):e._e(),e.showWebsite?o("el-radio",{attrs:{label:1}},[e._v("上传网址")]):e._e(),e.showModeDocument?o("el-radio",{attrs:{label:2}},[e._v("编辑文档")]):e._e(),e.showImportDocument?o("el-radio",{attrs:{label:4}},[e._v("上传文档")]):e._e()],1)],1)],1):e._e(),1==e.infoUploadContentForm.mode&&e.showWebsite?o("el-form-item",{attrs:{label:"网址",prop:"website"}},[o("el-input",{attrs:{placeholder:"请输入网址"},model:{value:e.infoUploadContentForm.website,callback:function(t){e.$set(e.infoUploadContentForm,"website",t)},expression:"infoUploadContentForm.website"}})],1):e._e(),3==e.infoUploadContentForm.mode&&e.showModeVideo?o("el-form-item",{attrs:{label:"上传视频",prop:"video"}},[o("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader",attrs:{"element-loading-text":"正在上传中，请耐心等待","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",action:e.request.defaults.baseURL+"/UploadFile/uploadFile","show-file-list":!1,"on-success":e.handleVideoSuccess,"before-upload":e.beforeVideoUpload,headers:{token:e.token,requireId:e.requireId}}},[e.infoUploadContentForm.video?o("video",{staticClass:"avatar",attrs:{controls:""}},[o("source",{attrs:{src:e.infoUploadContentForm.video,type:"video/mp4"}})]):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),o("div",{staticClass:"fs-red-12"},[e._v(" *请上传mp4、avi、wmv、3gp格式视频，视频大小小于1G ")])],1):e._e(),3==e.infoUploadContentForm.mode&&e.showModeVideo?o("el-form-item",{attrs:{label:"视频说明",prop:"video_desc"}},[o("el-input",{attrs:{placeholder:"请输入视频说明",type:"textarea"},model:{value:e.infoUploadContentForm.video_desc,callback:function(t){e.$set(e.infoUploadContentForm,"video_desc",t)},expression:"infoUploadContentForm.video_desc"}})],1):e._e(),2==e.infoUploadContentForm.mode&&e.showEditImportDocument&&e.showModeDocument?o("el-form-item",{attrs:{label:"编辑文档",prop:"documentContent"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:2==e.infoUploadContentForm.mode&&e.showImportDocument&&e.showModeDocument,expression:"\n                      infoUploadContentForm.mode == 2 &&\n                      showImportDocument &&\n                      showModeDocument\n                  "}],attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.$nextTick((function(){e.$refs.EditDocumentRefs.init()}))}}},[e._v("编辑文档")])],1):e._e(),2==e.infoUploadContentForm.mode&&e.showEditImportDocument&&e.showModeDocument?o("el-form-item",{attrs:{label:"上传附件",prop:"editImportDocument"}},[o("el-upload",{attrs:{action:e.request.defaults.baseURL+"/UploadFile/uploadFile","on-success":e.handleEditImportDocumentSuccess,"before-upload":e.beforeImportDocumentUpload,headers:{token:e.token,requireId:e.requireId},"file-list":e.infoUploadContentForm.editImportDocument,"on-remove":e.editImportDocumentRemoveEvent}},[o("el-button",{attrs:{size:"mini",plain:"",type:"primary",icon:"import"}},[e._v("导入")])],1),o("div",{staticClass:"fs-red-12"},[e._v(" *请上传doc、docx、pdf、图片、音频、视频等格式附件，附件大小小于1G ")])],1):e._e(),4==e.infoUploadContentForm.mode&&e.showImportDocument?o("el-form-item",{attrs:{label:"上传附件",prop:"importDocument"}},[o("el-upload",{attrs:{action:e.request.defaults.baseURL+"/information_report/informationReportUploadFile","on-success":e.handleImportDocumentSuccess,"before-upload":e.beforeImportDocumentUpload,headers:{token:e.token,requireId:e.requireId},"file-list":e.infoUploadContentForm.importDocument,"on-remove":e.importDocumentRemoveEvent}},[o("el-button",{attrs:{size:"mini",plain:"",type:"primary",icon:"import"}},[e._v("导入")])],1),"PlatformInfoUpload"==e.$route.name?o("div",{staticClass:"fs-red-12"},[e._v(" *文档请以docx格式上传，内容不少于400字；其他附件格式不限；附件大小小于1G ")]):e._e()],1):e._e(),1!=e.infoUploadContentForm.mode&&4!=e.infoUploadContentForm.mode||!e.showAbstract?e._e():o("el-form-item",{attrs:{label:"新闻摘要",prop:"abstract"}},[o("el-input",{attrs:{placeholder:"请输入新闻摘要",type:"textarea"},model:{value:e.infoUploadContentForm.abstract,callback:function(t){e.$set(e.infoUploadContentForm,"abstract",t)},expression:"infoUploadContentForm.abstract"}})],1),e.showWriter?o("el-form-item",{attrs:{label:"撰写人",prop:"writer"}},[o("el-input",{attrs:{placeholder:"请输入撰写人"},model:{value:e.infoUploadContentForm.writer,callback:function(t){e.$set(e.infoUploadContentForm,"writer",t)},expression:"infoUploadContentForm.writer"}})],1):e._e(),e.showReporter?o("el-form-item",{attrs:{label:"上报人",prop:"reporter"}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入上报人"},model:{value:e.infoUploadContentForm.reporter,callback:function(t){e.$set(e.infoUploadContentForm,"reporter",t)},expression:"infoUploadContentForm.reporter"}})],1):e._e(),e.showReportDep?o("el-form-item",{attrs:{label:"上报科室",prop:"reportDep"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请选择上报科室"},model:{value:e.infoUploadContentForm.reportDep,callback:function(t){e.$set(e.infoUploadContentForm,"reportDep",t)},expression:"infoUploadContentForm.reportDep"}},e._l(e.reportDepOptions,(function(e){return o("el-option",{key:e.dept_id,attrs:{label:e.dept_name,value:e.dept_id}})})),1)],1):e._e(),e.showDepmentApprover?o("el-form-item",{attrs:{label:"科室内审批人",prop:"depmentApprover"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择科室内审批人"},model:{value:e.infoUploadContentForm.depmentApprover,callback:function(t){e.$set(e.infoUploadContentForm,"depmentApprover",t)},expression:"infoUploadContentForm.depmentApprover"}},e._l(e.depmentApproverOptions,(function(e){return o("el-option",{key:e.item_value,attrs:{label:e.item_text,value:e.item_value}})})),1)],1):e._e(),e.showArticleCategory?o("el-form-item",{attrs:{label:"文章分类",prop:"articleCategory"}},[o("el-row",[o("el-col",{attrs:{span:3}},[o("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.handleArticleCategory()}}},[e._v("选择")])],1),e.arrayOne&&e.arrayOne.length>0?o("el-col",{attrs:{span:21}},[o("el-input",{attrs:{size:"mini",disabled:""},model:{value:e.arrayOne,callback:function(t){e.arrayOne=t},expression:"arrayOne"}})],1):e._e()],1)],1):e._e(),o("el-form-item",{staticStyle:{"text-align":"center"}},[o("el-button",{staticClass:"clearBtn",on:{click:function(t){return e.resetForm()}}},[e._v("清空")]),"ReportSearchEdit"!==e.$route.name?o("el-button",{staticClass:"saveBtn",on:{click:function(t){return e.submitForm()}}},[e._v("保存草稿")]):e._e(),o("el-button",{staticClass:"submitBtn",on:{click:function(t){return e.submitForm(!0)}}},[e._v("提交")])],1)],1),o("EditDocument",{ref:"EditDocumentRefs",attrs:{documentContent:e.infoUploadContentForm.documentContent},on:{resetMode:e.resetMode,getDocumentContent:function(t){return e.getDocumentContent(t)}}}),e.showArticleCategoryDialog?o("ArticleCategory",{attrs:{arrayOne:e.arrayOne},on:{submitArticleCategory:e.submitArticleCategory}}):e._e(),o("InfoSendList",{ref:"InfoSendListRef",on:{selectionChangeVal:e.selectionChangeVal}}),o("el-dialog",{attrs:{title:"图片预览",visible:e.carouselDialogVisible},on:{"update:visible":function(t){e.carouselDialogVisible=t}}},[o("div",{staticClass:"preview-box"},[o("img",{attrs:{width:"100%",src:e.infoUploadContentForm.file,alt:""}})])])],1)},i=[],s=o("2909"),r=o("1da1"),l=o("5530"),c=(o("96cf"),o("ac1f"),o("00b4"),o("d81d"),o("c740"),o("a434"),o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("9861"),o("6b94")),d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"选择文章分类",visible:e.dialogVisible,width:"50%","close-on-click-modal":!1,modal:!1},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.submitData()}}},[o("el-row",{staticClass:"content",attrs:{gutter:20}},e._l(e.listOneOption,(function(t,n){return o("el-row",{key:n,staticClass:"list-row"},[o("el-checkbox-group",{model:{value:e.listOne,callback:function(t){e.listOne=t},expression:"listOne"}},e._l(t.childItem,(function(e){return o("el-col",{key:e.item_value,staticStyle:{"margin-bottom":"10px"},attrs:{offset:1,span:5}},[o("el-checkbox",{attrs:{label:e.item_text}})],1)})),1)],1)})),1),o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-button",{staticClass:"cancelBtn",on:{click:function(t){return e.submitData()}}},[e._v("取 消")]),o("el-button",{staticClass:"confirmBtn",on:{click:function(t){return e.submitData(!0)}}},[e._v("确 定")])],1)],1)},u=[],m=(o("159b"),o("e56e")),p={props:{arrayOne:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!0,listOne:this.arrayOne.length<1?[]:this.arrayOne,listOneOption:[],business_subjects:[]}},created:function(){this.getArticleStatusList()},methods:{submitData:function(e){var t=this;this.listOne=this.listOne.forEach((function(e,o){t.listOneOption.forEach((function(o){o.childItem.forEach((function(o){if(o.item_text==e)return t.business_subjects.push({type:o.item_value,type_name:e}),t.business_subjects}))}))})),e?this.$emit("submitArticleCategory",this.business_subjects):this.$emit("submitArticleCategory",this.listOne=[])},getArticleStatusList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["d"])("ARTICLE_CLASSIFICATION");case 2:o=t.sent,e.listOneOption=o.result;case 4:case"end":return t.stop()}}),t)})))()}}},f=p,h=(o("9018"),o("2877")),b=Object(h["a"])(f,d,u,!1,null,"52146550",null),g=b.exports,_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{staticClass:"info-send-list"},[o("el-dialog",{attrs:{title:"信息上报列表",visible:e.dialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.submitTable()}}},[o("el-card",{attrs:{shadow:"never"}},[o("el-form",{attrs:{size:"medium",inline:!0,model:e.formSearch}},[o("el-form-item",{attrs:{label:"文章标题"}},[o("el-input",{attrs:{clearable:"",placeholder:"请输入文章标题"},model:{value:e.formSearch.title,callback:function(t){e.$set(e.formSearch,"title",t)},expression:"formSearch.title"}})],1),o("el-form-item",[o("el-button",{staticClass:"searchBtn",on:{click:e.searchData}},[e._v("查询")])],1),o("el-form-item",[o("el-button",{staticClass:"resetBtn",on:{click:e.resetData}},[e._v("重置")])],1)],1),o("el-table",{ref:"tableRef",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"350",border:"","header-row-class-name":"my-header-bg"},on:{"selection-change":e.handleSelectionChange,select:e.selectTable,"select-all":e.allSelectTable}},[e._v(" > "),o("el-table-column",{attrs:{type:"selection"}}),o("el-table-column",{attrs:{width:"300",align:"left","header-align":"center",label:"文章标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{attrs:{"popper-class":"my-tooltip",effect:"light",content:t.row.original_title,placement:"bottom"}},[o("div",{staticClass:"info-send-list-title"},[e._v(" "+e._s(t.row.original_title)+" ")])])]}}])}),o("el-table-column",{attrs:{width:"100",align:"center","header-align":"center",label:"撰写人"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.compose_person)+" ")]}}])}),o("el-table-column",{attrs:{width:"130","header-align":"center",align:"center",label:"科室内审核人"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.dept_approver_name)+" ")]}}])}),o("el-table-column",{attrs:{width:"140","header-align":"center",align:"center",label:"文章分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{attrs:{"popper-class":"my-tooltip",effect:"light",content:t.row.article_type_name,placement:"bottom"}},[o("div",{staticClass:"info-send-list-title2"},[e._v(" "+e._s(t.row.article_type_name)+" ")])])]}}])}),o("el-table-column",{attrs:{align:"center","header-align":"center",label:"文章状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.status_name)+" ")]}}])})],1),o("el-row",{staticClass:"mt-30",attrs:{type:"flex",justify:"center"}},[o("el-pagination",{attrs:{background:"","current-page":e.pageNumber,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:" total, prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"cancelBtn",on:{click:function(t){return e.submitTable()}}},[e._v("取 消")]),o("el-button",{staticClass:"confirmBtn",attrs:{type:"primary"},on:{click:function(t){return e.submitTable()}}},[e._v("确 定")])],1)],1)],1)},v=[],C=o("ade3"),y=o("e26f"),w=o("5c5f"),U={created:function(){this.getDeptInfo()},data:function(){return{dialogVisible:!1,formSearch:{title:"",report_dept:""},total:0,pageNumber:1,pageSize:10,tableData:[],multipleSelection:[]}},methods:(n={init:function(){this.dialogVisible=!0,this.getDeptInfo()},getDeptInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["g"])();case 2:o=t.sent,e.formSearch.report_dept=o.result.dept_id,e.getPushList();case 5:case"end":return t.stop()}}),t)})))()},getPushList:function(){var e=this;Object(y["h"])({original_title:this.formSearch.title,status:"3,4",page_size:this.pageSize,page_index:this.pageNumber,report_dept:this.formSearch.report_dept}).then((function(t){e.total=t.result.total,e.tableData=t.result.items}))},searchData:function(){this.getPushList()},resetData:function(){this.formSearch.title="",this.getPushList()},handleSelectionChange:function(e){this.multipleSelection=e,this.multipleSelection.length>1&&(this.multipleSelection.length=1)}},Object(C["a"])(n,"handleSelectionChange",(function(e){if(e.length>1){var t=e.shift();this.$refs.tableRef.toggleRowSelection(t,!1)}this.multipleSelection=e})),Object(C["a"])(n,"allSelectTable",(function(e){e.length>1&&(e.length=1),this.multipleSelection=e})),Object(C["a"])(n,"selectTable",(function(e,t){if(e.length>1){var o=e.shift();this.$refs.tableRef.toggleRowSelection(o,!1)}this.multipleSelection=e})),Object(C["a"])(n,"handleSizeChange",(function(e){this.pageNumber=1,this.pageSize=e,this.getPushList()})),Object(C["a"])(n,"handleCurrentChange",(function(e){this.pageNumber=e,this.getPushList()})),Object(C["a"])(n,"submitTable",(function(){var e=this;this.dialogVisible=!1,this.multipleSelection.length>0&&Object(w["g"])(this.multipleSelection[0].id).then((function(t){e.$emit("selectionChangeVal",t.result)}))})),n)},F=U,D=(o("52ae"),Object(h["a"])(F,_,v,!1,null,"6e925342",null)),O=D.exports,x=o("ed08"),k=o("2f62"),S=o("b775"),j=o("c1df"),$=o.n(j),T={title:"",tag:"",type:void 0,media:"",date1:$()().format("YYYY-MM-DD"),topping:0,date2:void 0,source:"",carousel:"",attachments1:[],file:null,id:void 0,mode:3,website:"",documentContent:"",video:"",video_desc:"",abstract:"",editImportDocument:[],importDocument:[],attachments:[],writer:"",reporter:"",reportDep:"",depmentApprover:"",articleCategory:[]},I=function(e,t,o){var n=/^(https?|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]$/;return n.test(t)?o():o(new Error("请输入合法的短链接！ 例：http://www.xxx.com/abc?z=1"))},R={components:{EditDocument:c["a"],ArticleCategory:g,InfoSendList:O},watch:{isFinish:function(e,t){e&&this.resetForm()},"infoUploadContentForm.mode":function(e,t){1===e?(this.infoUploadContentForm.video="",this.infoUploadContentForm.documentContent="",this.infoUploadContentForm.editImportDocument=[],this.infoUploadContentForm.importDocument=[],this.infoUploadContentForm.attachments=[]):2===e?(this.infoUploadContentForm.website="",this.infoUploadContentForm.video="",this.infoUploadContentForm.importDocument=[],this.infoUploadContentForm.attachments=[]):3===e?(this.infoUploadContentForm.carousel="",this.infoUploadContentForm.website="",this.infoUploadContentForm.documentContent="",this.infoUploadContentForm.editImportDocument=[],this.infoUploadContentForm.importDocument=[],this.infoUploadContentForm.attachments=[]):4===e&&(this.infoUploadContentForm.website="",this.infoUploadContentForm.video=null,this.infoUploadContentForm.editImportDocument=[],this.infoUploadContentForm.documentContent=null,this.infoUploadContentForm.attachments=[])}},props:{isFinish:{type:Boolean},editObj:{type:Object,default:null},showTitle:{type:Boolean,default:!1},showpushTitle:{type:Boolean,default:!1},showTag:{type:Boolean,default:!1},showType:{type:Boolean,default:!1},showMedia:{type:Boolean,default:!1},showIssueDate:{type:Boolean,default:!1},showTopping:{type:Boolean,default:!1},showStopDate:{type:Boolean,default:!1},showSource:{type:Boolean,default:!1},showCarousel:{type:Boolean,default:!1},showMode:{type:Boolean,default:!1},showReportMode:{type:Boolean,default:!1},showWebsite:{type:Boolean,default:!1},showModeDocument:{type:Boolean,default:!1},showModeVideo:{type:Boolean,default:!1},showAbstract:{type:Boolean,default:!1},showEditImportDocument:{type:Boolean,default:!1},showImportDocument:{type:Boolean,default:!1},showWriter:{type:Boolean,default:!1},showReporter:{type:Boolean,default:!1},showReportDep:{type:Boolean,default:!1},showDepmentApprover:{type:Boolean,default:!1},showArticleCategory:{type:Boolean,default:!1}},computed:Object(l["a"])({},Object(k["b"])(["token","requireId"])),data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},request:S["a"],loading:!1,reportDepOptions:[],arrayOne:[],arrayTwo:[],arrayThree:[],showArticleCategoryDialog:!1,typeOptions:[],mediaOptions:[],depmentApproverOptions:[],infoUploadContentForm:this.editObj?Object(x["b"])(this.editObj):Object.assign({},T),infoUploadContentFormRules:{title:[{required:!0,message:"请输入新闻标题",trigger:"blur"}],type:[{required:!0,message:"请选择新闻分类",trigger:"change"}],media:[{required:!0,message:"请选择发布媒体",trigger:"change"}],date1:[{required:!0,message:"请选择发布日期",trigger:"change"}],topping:[{required:!0,message:"请选择是否置顶",trigger:"change"}],date2:[{required:!0,message:"请选择置顶截止日期",trigger:"change"}],mode:[{required:!0,message:"请选择上传方式",trigger:"change"}],website:[{required:!0,validator:I,trigger:"blur"}],video:[{required:!0,message:"请选择视频",trigger:"change"}],importDocument:[{required:!0,message:"请选择文件,仅可上传一个docx的文件，上传多个时覆盖前一个",trigger:"change"}],documentContent:[{required:!0,message:"请编辑文档",trigger:"change"}],abstract:[{required:!0,message:"请输入新闻摘要",trigger:"blur"}],writer:[{required:!0,message:"请输入撰写人",trigger:"blur"}],depmentApprover:[{required:!0,message:"请选择科室内审批人",trigger:"change"}],articleCategory:[{required:!0,message:"请选择文章分类",trigger:"change"}]},carouselDialogVisible:!1}},created:function(){this.editObj?(this.getDictionary(),this.getDeptInfo(),this.arrayOne=this.editObj.articleCategory.map((function(e){return e.type_name})),2==this.editObj.mode?(this.infoUploadContentForm.editImportDocument=this.editObj.attachments,this.infoUploadContentForm.editImportDocument=this.infoUploadContentForm.editImportDocument.map((function(e){return{name:e.file_name_old,url:e.file_path}})),this.infoUploadContentForm.attachments=this.editObj.attachments):3==this.editObj.mode?(this.infoUploadContentForm.video=this.editObj.video,this.infoUploadContentForm.attachments=this.editObj.attachments):4==this.editObj.mode&&(this.infoUploadContentForm.importDocument=this.editObj.attachments,this.infoUploadContentForm.importDocument=this.infoUploadContentForm.importDocument.map((function(e){return{name:e.file_name_old,url:e.file_path}}))),this.editObj.attachments1.length>0&&(this.infoUploadContentForm.file=this.editObj.attachments1,this.infoUploadContentForm.file=this.infoUploadContentForm.file.map((function(e){return{name:e.file_name_old,url:e.file_path}})),this.infoUploadContentForm.attachments=this.editObj.attachments1)):this.infoUploadContentForm.mode=this.showWebsite?1:3,this.getDictionary(),this.getDeptInfo(),this.getWriterInfo()},methods:{getDeptInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["g"])();case 2:o=t.sent,e.reportDepOptions=[o.result],e.infoUploadContentForm.reportDep=o.result.dept_id,e.infoUploadContentForm.reporter=o.result.user_name;case 6:case"end":return t.stop()}}),t)})))()},getWriterInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["g"])();case 2:o=t.sent,e.infoUploadContentForm.writer=o.result.user_name;case 4:case"end":return t.stop()}}),t)})))()},getDictionary:function(){var e=this;Object(m["d"])("NEWS_TYPE").then((function(t){e.typeOptions=t.result})),Object(m["d"])("PUBLISHING_MEDIA").then((function(t){e.mediaOptions=t.result})),Object(m["d"])("DEPT_APPROVER").then((function(t){e.depmentApproverOptions=t.result}))},resetMode:function(){},handleCarouselExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，请先删除该图片")},handleCarouselSuccess:function(e,t){this.infoUploadContentForm.attachments1=[],this.infoUploadContentForm.carousel="",this.infoUploadContentForm.attachments1.push(e.result.attachments[0]),this.infoUploadContentForm.file=t.url,this.infoUploadContentForm.carousel=e.result.attachments[0].file_path,2e3===e.code?this.$notify({type:"success",message:e.msg}):this.$notify({type:"error",message:e.msg})},beforeCarouselUpload:function(e){var t=new FormData;t.append("file",e);var o=e.size/1024/1024<100;if(-1==["image/jpg","image/jpeg","image/png"].indexOf(e.type))return this.$message.error("请上传正确的图片格式"),!1;o||this.$message.error("上传头像图片大小不能超过 100MB!")},handlePictureCardPreview:function(e){this.carouselDialogVisible=!0},handleRemove:function(e){this.$refs.carouselFileListRefs.clearFiles(),this.infoUploadContentForm.attachments1=[],this.infoUploadContentForm.carousel="",this.infoUploadContentForm.file=""},importDocumentRemoveEvent:function(e,t){var o=e.response.result.attachments[0].file_path,n=this.infoUploadContentForm.attachments.findIndex((function(e){return e.file_path==o}));this.infoUploadContentForm.attachments.splice(n,1)},editImportDocumentRemoveEvent:function(e,t){var o=e.response.result.attachments[0].file_path,n=this.infoUploadContentForm.attachments.findIndex((function(e){return e.file_path==o}));this.infoUploadContentForm.attachments.splice(n,1)},handleVideoSuccess:function(e,t){this.infoUploadContentForm.carousel="",this.infoUploadContentForm.attachments.push(e.result.attachments[0]),this.infoUploadContentForm.video=URL.createObjectURL(t.raw),this.infoUploadContentForm.carousel=e.result.attachments[0].file_path,2e3===e.code?(this.$notify({type:"success",message:e.msg}),this.loading=!1):this.$notify({type:"error",message:e.msg})},beforeVideoUpload:function(e){this.infoUploadContentForm.video=null,this.infoUploadContentForm.attachments=[];var t=new FormData;t.append("file",e);var o=e.size/1024/1024<1024;return-1==["video/mp4","video/avi","video/x-ms-wmv","video/3gpp"].indexOf(e.type)?(this.$message.error("请上传正确的视频格式"),!1):o?void(this.loading=!0):(this.$message.error("上传视频大小不能超过1G哦!"),!1)},handleEditImportDocumentSuccess:function(e,t){this.infoUploadContentForm.editImportDocument=[],2e3===e.code?(this.$notify({type:"success",message:e.msg}),this.infoUploadContentForm.attachments.push(e.result.attachments[0]),this.infoUploadContentForm.editImportDocument=URL.createObjectURL(t.raw)):this.$notify({type:"error",message:e.msg})},handleImportDocumentSuccess:function(e,t){this.infoUploadContentForm.importDocument=[],2e3===e.code?(this.$notify({type:"success",message:e.msg}),this.infoUploadContentForm.attachments.push(e.result.attachments[0]),this.infoUploadContentForm.importDocument=URL.createObjectURL(t.raw)):this.$notify({type:"error",message:e.msg})},beforeImportDocumentUpload:function(e){var t=new FormData;t.append("file",e);var o=e.size/1024/1024<512;if(!o)return this.$message.error("上传文档大小不能超过50M哦!"),!1},submitForm:function(e){var t=this;e?(this.infoUploadContentForm.video&&(this.infoUploadContentFormRules["video"][0].required=!1),this.$refs.infoUploadContentFormRef.validate((function(o){if(!o)return!1;t.$emit("comitFormData",t.infoUploadContentForm,e)}))):this.$emit("comitFormData",this.infoUploadContentForm,e)},resetForm:function(){this.arrayOne=[],this.$refs.infoUploadContentFormRef.resetFields(),this.getDeptInfo(),this.handleRemove()},submitArticleCategory:function(e){this.showArticleCategoryDialog=!1,this.arrayOne=e,this.arrayOne=this.arrayOne.map((function(e){return e.type_name})),this.infoUploadContentForm.articleCategory=Object(s["a"])(e)},handleArticleCategory:function(){this.showArticleCategoryDialog=!0},showInfoSendListDialog:function(){var e=this;this.$nextTick((function(){e.$refs.InfoSendListRef.init()}))},selectionChangeVal:function(e){var t=e.id,o=e.original_title,n=e.report_date,a=e.compose_person,i=e.report_person,s=e.report_dept,r=e.dept_approver,l=e.article_types,c=e.upload_model,d=e.doc_context,u=e.attachments,m=e.attachments1,p=e.video_desc,f=e.abstract,h=e.carousel?e.carousel:e.video,b={id:t,title:o,date1:n,writer:a,reporter:i,reportDep:s,depmentApprover:r,articleCategory:l,mode:c,documentContent:d,attachments:u,attachments1:m,video_desc:p,abstract:f,attr_addr:h};this.infoUploadContentForm=b,this.arrayOne=this.infoUploadContentForm.articleCategory.map((function(e){return e.type_name})),2==this.infoUploadContentForm.mode?(this.infoUploadContentForm.editImportDocument=this.infoUploadContentForm.attachments,this.infoUploadContentForm.editImportDocument=this.infoUploadContentForm.editImportDocument.map((function(e){return{name:e.file_name_old,url:e.file_path}})),this.infoUploadContentForm.attachments=this.infoUploadContentForm.attachments):3==this.infoUploadContentForm.mode?(this.infoUploadContentForm.video=this.infoUploadContentForm.attachments[0].file_path,this.infoUploadContentForm.attachments=this.infoUploadContentForm.attachments):4==this.infoUploadContentForm.mode&&(this.infoUploadContentForm.importDocument=this.infoUploadContentForm.attachments,this.infoUploadContentForm.importDocument=this.infoUploadContentForm.importDocument.map((function(e){return{name:e.file_name_old,url:e.file_path}}))),this.$emit("reSetDoc",d)},getDocumentContent:function(e){this.infoUploadContentForm.documentContent=e}}},A=R,B=(o("6131"),Object(h["a"])(A,a,i,!1,null,null,null));t["a"]=B.exports},e8da:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"my-card-header",attrs:{shadow:"never"}},[o("div",{staticClass:"toptitle",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("下载频次")])]),o("el-row",[o("el-form",{attrs:{size:"medium",inline:!0,model:e.formSearch}},[o("el-form-item",{attrs:{label:"下载日期"}},[o("el-col",{attrs:{span:7}},[o("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd"},on:{change:e.datePickerChange},model:{value:e.formSearch.startTime,callback:function(t){e.$set(e.formSearch,"startTime",t)},expression:"formSearch.startTime"}})],1),o("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("-")]),o("el-col",{attrs:{span:7}},[o("el-date-picker",{staticStyle:{width:"150px"},attrs:{disabled:"",type:"date",placeholder:"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.formSearch.stopTime,callback:function(t){e.$set(e.formSearch,"stopTime",t)},expression:"formSearch.stopTime"}})],1),o("el-col",{attrs:{span:5,offset:1}},[o("el-button",{staticClass:"searchBtn",on:{click:e.searchData}},[e._v("查询")])],1),o("el-col",{attrs:{span:3}},[o("el-button",{staticClass:"resetBtn",on:{click:e.resetData}},[e._v("重置")])],1)],1)],1),o("DotChart",{attrs:{height:"400px",echartsData:e.echartsData,xAxisTitle:e.echartsDataXTitle,echartTitle:{text:"",left:"0"}}})],1)],1)},a=[],i=o("1da1"),s=(o("96cf"),o("d81d"),o("a5f5")),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bar-chart-container"},[o("div",{style:{width:e.width,height:e.height},attrs:{id:"main"}})])},l=[],c=o("313e"),d={props:{width:{type:String,default:"100%"},height:{type:String,default:"300px"},echartsData:{type:Array,default:function(){return[0]}},xAxisTitle:{type:Array,default:function(){return[]}},echartTitle:{type:Object,default:{text:"",left:"left"}}},data:function(){return{myChart:null,myOptions:{xAxis:{data:[]},yAxis:{type:"value"},title:{text:"",left:""},series:[{type:"scatter",data:[]}]}}},mounted:function(){this.initCharts()},updated:function(){this.initCharts()},watch:{echartsData:function(e){this.echartsData=e,this.initCharts()}},methods:{initCharts:function(){this.myChart=c["a"](document.getElementById("main")),this.myChart.setOption(this.myOptions),this.myChart.setOption({xAxis:{data:this.xAxisTitle},title:{text:this.echartTitle.text,left:this.echartTitle.left},series:[{data:this.echartsData}]}),window.addEventListener("resize",this.onResize)},onResize:function(){this.myChart.resize()}}},u=d,m=o("2877"),p=Object(m["a"])(u,r,l,!1,null,null,null),f=p.exports,h=o("c1df"),b=o.n(h),g={components:{DotChart:f},props:["details"],data:function(){return{formSearch:{startTime:"",stopTime:""},echartsData:[],echartsDataXTitle:[],startTime:"",stopTime:""}},created:function(){this.startTime=b()().subtract(6,"days").format("YYYY-MM-DD"),this.stopTime=b()().format("YYYY-MM-DD"),this.formSearch={startTime:this.startTime,stopTime:this.stopTime},this.searchData()},methods:{datePickerChange:function(e){this.formSearch.stopTime=b()(e).add(6,"days").format("YYYY-MM-DD")},searchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["f"])({id:e.details.id,startTime:e.formSearch.startTime,endTime:e.formSearch.stopTime});case 2:o=t.sent,e.echartsData=o.result.map((function(e){return e.number})),e.echartsDataXTitle=o.result.map((function(e){return e.dateTimes}));case 5:case"end":return t.stop()}}),t)})))()},resetData:function(){this.formSearch={}}}},_=g,v=Object(m["a"])(_,n,a,!1,null,"5d026224",null);t["a"]=v.exports},ed77:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"info-upload-content-container"},[o("el-form",{ref:"infoUploadContentFormRef",attrs:{model:e.infoUploadContentForm,rules:e.infoUploadContentFormRules,"label-width":"110px",size:"medium"}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.infoUploadContentForm.name,callback:function(t){e.$set(e.infoUploadContentForm,"name",t)},expression:"infoUploadContentForm.name"}})],1),o("el-form-item",{attrs:{label:"上传日期",prop:"upload_date"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请选择上传日期"},model:{value:e.infoUploadContentForm.upload_date,callback:function(t){e.$set(e.infoUploadContentForm,"upload_date",t)},expression:"infoUploadContentForm.upload_date"}})],1),o("el-form-item",{attrs:{label:"上传人",prop:"upload_person"}},[o("el-input",{attrs:{placeholder:"请输入上传人"},model:{value:e.infoUploadContentForm.upload_person,callback:function(t){e.$set(e.infoUploadContentForm,"upload_person",t)},expression:"infoUploadContentForm.upload_person"}})],1),o("el-form-item",{attrs:{label:"上传科室",prop:"upload_dept_id"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请选择上传科室"},model:{value:e.infoUploadContentForm.upload_dept_id,callback:function(t){e.$set(e.infoUploadContentForm,"upload_dept_id",t)},expression:"infoUploadContentForm.upload_dept_id"}},e._l(e.reportDepOptions,(function(e){return o("el-option",{key:e.dept_id,attrs:{label:e.dept_name,value:e.dept_id}})})),1)],1),o("el-form-item",{attrs:{label:"业务类型",prop:"business_type"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择业务类型"},model:{value:e.infoUploadContentForm.business_type,callback:function(t){e.$set(e.infoUploadContentForm,"business_type",t)},expression:"infoUploadContentForm.business_type"}},e._l(e.typeOptions,(function(e){return o("el-option",{key:e.item_value,attrs:{label:e.item_text,value:e.item_value}})})),1)],1),o("el-form-item",{staticClass:"business_subjects",attrs:{label:"业务主题",prop:"business_subjects"}},[o("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.handleArticleCategory()}}},[e._v("选择")]),o("div",{staticClass:"itemClass"},e._l(e.infoUploadContentForm.business_subjects,(function(t,n){return o("el-tag",{key:n,attrs:{closable:"",type:t.type_name,effect:"plain"},on:{close:function(o){return e.handleClose(t)}}},[e._v(" "+e._s(t.type_name)+" ")])})),1)],1),e.imgDetails||e.$route.query.imgDetails?o("el-form-item",{attrs:{label:"上传图片",prop:"file"}},[o("el-upload",{ref:"carouselFileListRefs",attrs:{action:e.request.defaults.baseURL+"/UploadFile/uploadFile","on-success":e.handleCarouselSuccess,"before-upload":e.beforeCarouselUpload,headers:{token:e.token,requireId:e.requireId},multiple:"",limit:10,"on-remove":e.handleCarouselRemove,"on-exceed":e.handleCarouselExceed,"file-list":e.infoUploadContentForm.file}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),o("div",{staticClass:"el-upload__tip fs-red-12",attrs:{slot:"tip"},slot:"tip"},[e._v(" *请上传jpg、jpeg、png格式图片，图片大小小于100MB ")])],1)],1):e._e(),e.videoDetails||e.$route.query.videoDetails?o("el-form-item",{attrs:{label:"上传视频",prop:"video"}},[o("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader",attrs:{"element-loading-text":"正在上传中，请耐心等待","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",action:e.request.defaults.baseURL+"/UploadFile/uploadFile","show-file-list":!1,"on-success":e.handleVideoSuccess,"before-upload":e.beforeVideoUpload,headers:{token:e.token,requireId:e.requireId}}},[e.infoUploadContentForm.video?o("video",{staticClass:"avatar",attrs:{controls:"",src:e.infoUploadContentForm.video}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),o("p",{staticClass:"fs-red-12"},[e._v(" *请上传mp4、avi、wmv、3gp格式视频，视频大小小于1G ")])],1):e._e(),e.audioDetails||e.$route.query.audioDetails?o("el-form-item",{attrs:{label:"上传音频",prop:"audio"}},[o("el-upload",{staticClass:"avatar-uploader audioBox",attrs:{action:e.request.defaults.baseURL+"/UploadFile/uploadFile","show-file-list":!1,"on-success":e.handleAudioSuccess,"on-remove":e.handleRemove,"before-upload":e.beforeAudioUpload,headers:{token:e.token,requireId:e.requireId}}},[e.infoUploadContentForm.audio?o("audio",{staticClass:"avatar audio",attrs:{controls:""}},[o("source",{attrs:{src:e.infoUploadContentForm.audio}})]):e._e(),o("el-button",{attrs:{icon:"el-icon-plus"}})],1),o("p",{staticClass:"fs-red-12"},[e._v(" *请上传mp3、mpeg、wma、aac格式音频，音频大小小于100M ")])],1):e._e(),o("el-form-item",{attrs:{label:"来源",prop:"image_source"}},[o("el-input",{attrs:{placeholder:"请输入来源"},model:{value:e.infoUploadContentForm.image_source,callback:function(t){e.$set(e.infoUploadContentForm,"image_source",t)},expression:"infoUploadContentForm.image_source"}})],1),o("el-form-item",{attrs:{label:"说明",prop:"remark"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入说明"},model:{value:e.infoUploadContentForm.remark,callback:function(t){e.$set(e.infoUploadContentForm,"remark",t)},expression:"infoUploadContentForm.remark"}})],1),o("el-form-item",{staticStyle:{"text-align":"center"}},[o("el-button",{staticClass:"clearBtn",on:{click:function(t){return e.resetForm()}}},[e._v("清空")]),e.editObj?e._e():o("el-button",{staticClass:"saveBtn",on:{click:function(t){return e.submitForm()}}},[e._v("保存草稿")]),o("el-button",{staticClass:"submitBtn",on:{click:function(t){return e.submitForm(!0)}}},[e._v("提交")])],1)],1),e.showArticleCategoryDialog?o("ArticleCategory",{attrs:{arrayOne:e.arrayOne},on:{submitArticleCategory:e.submitArticleCategory}}):e._e()],1)},a=[],i=o("2909"),s=o("1da1"),r=o("5530"),l=(o("96cf"),o("ac1f"),o("1276"),o("d81d"),o("c740"),o("a434"),o("d3b7"),o("159b"),o("4de4"),o("ed08")),c=o("2f62"),d=o("e56e"),u=(o("a5f5"),o("b775")),m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"选择业务主题",visible:e.dialogVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.submitData()}}},[o("el-row",{attrs:{gutter:10}},[o("el-checkbox-group",{staticClass:"content",model:{value:e.listOne,callback:function(t){e.listOne=t},expression:"listOne"}},e._l(e.listOneOption,(function(e){return o("el-col",{key:e.item_value,staticStyle:{"margin-bottom":"10px"},attrs:{span:5,offset:1}},[o("el-checkbox",{attrs:{label:e.item_text}})],1)})),1)],1),o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-button",{staticClass:"cancelBtn",on:{click:function(t){return e.submitData()}}},[e._v("取 消")]),o("el-button",{staticClass:"confirmBtn",on:{click:function(t){return e.submitData(!0)}}},[e._v("确 定")])],1)],1)},p=[],f={props:{arrayOne:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!0,listOne:this.arrayOne.length<1?[]:this.arrayOne,listOneOption:[],business_subjects:[]}},created:function(){this.getArticleStatusList()},methods:{submitData:function(e){var t=this;this.listOne=this.listOne.forEach((function(e,o){t.listOneOption.forEach((function(o){if(o.item_text==e)return t.business_subjects.push({type:o.item_value,type_name:e}),t.business_subjects}))})),e?this.$emit("submitArticleCategory",this.business_subjects):this.$emit("submitArticleCategory",this.listOne=[])},getArticleStatusList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["d"])("BUSINESS_SUBJECT");case 2:o=t.sent,e.listOneOption=o.result;case 4:case"end":return t.stop()}}),t)})))()}}},h=f,b=(o("c369"),o("2877")),g=Object(b["a"])(h,m,p,!1,null,"b9a66c7c",null),_=g.exports,v=o("e26f"),C={name:"",upload_date:"",upload_person:"",upload_dept_id:"",upload_dept_name:"",business_type:void 0,business_type_name:void 0,business_subjects:[],carousel:[],file:[],video:"",audio:"",image_source:"",remark:"",attachment:[]},y={components:{ArticleCategory:_},props:["editObj","imgDetails","videoDetails","audioDetails","isFinish"],watch:{isFinish:function(e,t){e&&this.resetForm()}},computed:Object(r["a"])({},Object(c["b"])(["token","requireId"])),data:function(){return{request:u["a"],reportDepOptions:[],loading:!1,arrayOne:[],showArticleCategoryDialog:!1,typeOptions:[],infoUploadContentForm:this.editObj?Object(l["b"])(this.editObj):Object.assign({},C),infoUploadContentFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],business_type:[{required:!0,message:"请选择业务类型",trigger:"change"}],upload_date:[{required:!0,message:"请选择上传日期",trigger:"change"}],upload_person:[{required:!0,message:"请输入上传人",trigger:"blur"}],file:[{message:"请选择图片",trigger:"change",required:!0}],video:[{message:"请选择视频",trigger:"change",required:!0}],audio:[{message:"请选择音频",trigger:"change",required:!0}],business_subjects:[{required:!0,message:"请选择业务主题",trigger:"blur"}]}}},created:function(){this.getDictionary(),this.editObj&&(this.arrayOne=this.editObj.business_subject_name.split(";"),this.infoUploadContentForm.business_subjects=this.editObj.business_subjects,this.imgDetails?this.editObj.attachment.length>0?(this.infoUploadContentForm.file=this.editObj.attachment,this.infoUploadContentForm.file=this.infoUploadContentForm.file.map((function(e){return{name:e.file_name_old,url:e.file_path}})),this.infoUploadContentForm.attachment=this.editObj.attachment):this.infoUploadContentForm.file=[]:this.videoDetails?this.editObj.attachment.length>0?(this.infoUploadContentForm.video=this.editObj.attachment[0].file_path,this.infoUploadContentForm.attachment=this.editObj.attachment):this.infoUploadContentForm.video="":this.audioDetails&&(this.editObj.attachment.length>0?(this.infoUploadContentForm.audio=this.editObj.attachment[0].file_path,this.infoUploadContentForm.attachment=this.editObj.attachment):this.infoUploadContentForm.audio="")),this.getDeptInfo()},methods:{getUploadPersonInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["g"])();case 2:o=t.sent,e.infoUploadContentForm.upload_person=o.result.user_name;case 4:case"end":return t.stop()}}),t)})))()},getDeptInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["g"])();case 2:o=t.sent,console.log("res",o),e.reportDepOptions=[o.result],e.infoUploadContentForm.upload_dept_id=o.result.dept_id,e.infoUploadContentForm.upload_dept_name=o.result.dept_name,e.infoUploadContentForm.upload_person=o.result.user_name;case 8:case"end":return t.stop()}}),t)})))()},getDictionary:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["d"])("BUSINESS_TYPE");case 2:o=t.sent,e.typeOptions=o.result;case 4:case"end":return t.stop()}}),t)})))()},handleCarouselRemove:function(e,t){var o=e.response.result.attachments[0].file_path,n=this.infoUploadContentForm.attachment.findIndex((function(e){return e.file_path==o}));this.infoUploadContentForm.attachment.splice(n,1)},handleCarouselExceed:function(e,t){this.$message.warning("当前限制选择 10 个文件，共选择了 ".concat(e.length+t.length," 个文件"))},handleCarouselSuccess:function(e,t){this.infoUploadContentForm.attachment.push(e.result.attachments[0]),this.infoUploadContentForm.file.push(e.result.attachments[0].file_path),2e3===e.code?this.$notify({type:"success",message:e.msg}):this.$notify({type:"error",message:e.msg})},beforeCarouselUpload:function(e){var t=new FormData;t.append("file",e);var o=e.size/1024/1024<100;if(-1==["image/jpg","image/jpeg","image/png"].indexOf(e.type))return this.$message.error("请上传正确的图片格式"),!1;o||this.$message.error("上传头像图片大小不能超过 100MB!"),this.loading=!0},handleVideoSuccess:function(e,t){this.infoUploadContentForm.attachment.push(e.result.attachments[0]),this.infoUploadContentForm.video=e.result.attachments[0].file_path,2e3===e.code?(this.$notify({type:"success",message:e.msg}),this.loading=!1):this.$notify({type:"error",message:e.msg})},beforeVideoUpload:function(e){this.infoUploadContentForm.attachment=[];var t=new FormData;t.append("file",e);var o=e.size/1024/1024<1024;return-1==["video/mp4","video/avi","video/x-ms-wmv","video/3gpp"].indexOf(e.type)?(this.$message.error("请上传正确的视频格式"),!1):o?void(this.loading=!0):(this.$message.error("上传视频大小不能超过1G哦!"),!1)},handleAudioSuccess:function(e,t){this.infoUploadContentForm.attachment.push(e.result.attachments[0]),this.infoUploadContentForm.audio=e.result.attachments[0].file_path,2e3===e.code?this.$notify({type:"success",message:e.msg}):this.$notify({type:"error",message:e.msg})},beforeAudioUpload:function(e){this.infoUploadContentForm.audio="",this.infoUploadContentForm.attachment=[];var t=new FormData;t.append("file",e);var o=e.size/1024/1024<100;return-1==["audio/mpeg","video/mpeg","audio/x-ms-wma","audio/vnd.dlna.adts"].indexOf(e.type)?(this.$message.error("请上传正确的音频格式"),!1):o?void 0:(this.$message.error("上传音频大小不能超过100MB哦!"),!1)},submitForm:function(e){var t=this;e?(this.infoUploadContentForm.file&&(this.infoUploadContentFormRules["file"][0].required=!1),this.infoUploadContentForm.video&&(this.infoUploadContentFormRules["video"][0].required=!1),this.infoUploadContentForm.audio&&(this.infoUploadContentFormRules["audio"][0].required=!1),this.$refs.infoUploadContentFormRef.validate((function(o){if(!o)return!0;t.typeOptions.forEach((function(e){e.item_value==t.infoUploadContentForm.business_type&&(t.infoUploadContentForm.business_type_name=e.item_text)})),t.$emit("comitFormData",t.infoUploadContentForm,e)}))):this.$emit("comitFormData",this.infoUploadContentForm,e)},resetForm:function(){C.attachment=[],C.file=[],this.$refs.infoUploadContentFormRef.resetFields(),this.infoUploadContentForm=Object.assign({},C),this.infoUploadContentForm.id=this.editObj?this.editObj.id:"",this.arrayOne=[],this.getDeptInfo()},submitArticleCategory:function(e){this.showArticleCategoryDialog=!1,this.arrayOne=e,this.arrayOne=this.arrayOne.map((function(e){return e.type_name})),this.infoUploadContentForm.business_subjects=Object(i["a"])(e)},handleClose:function(e){this.infoUploadContentForm.business_subjects=this.infoUploadContentForm.business_subjects.filter((function(t){return t.type_name!==e.type_name})),this.arrayOne=this.arrayOne.filter((function(t){return t!==e.type_name}))},handleArticleCategory:function(){this.showArticleCategoryDialog=!0}}},w=y,U=(o("b565"),Object(b["a"])(w,n,a,!1,null,null,null));t["a"]=U.exports},ee70:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-tooltip",{staticClass:"btnIcon",attrs:{effect:e.effect,content:e.content,placement:e.placement}},[o("el-button",{attrs:{icon:e.iconClass,disabled:e.disabled},on:{click:e.handleClick}})],1)},a=[],i={props:{iconClass:{type:String,default:""},effect:{type:String,default:"dark"},placement:{type:String,default:"top"},content:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{}},methods:{handleClick:function(e){this.$emit("click",e,this)}}},s=i,r=(o("18ed"),o("2877")),l=Object(r["a"])(s,n,a,!1,null,"4f591ab0",null);t["a"]=l.exports},fbde:function(e,t,o){}}]);